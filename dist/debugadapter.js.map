{"version":3,"sources":["../webpack/bootstrap","../external \"events\"","../external \"path\"","../external \"os\"","../external \"fs\"","../external \"child_process\"",".././src/common.ts",".././src/backend/mi_parse.ts",".././node_modules/command-exists/index.js",".././node_modules/vscode-debugadapter/lib/debugSession.js",".././node_modules/vscode-debugadapter/lib/messages.js","../external \"net\"",".././node_modules/vscode-debugadapter/lib/main.js",".././node_modules/vscode-debugadapter/lib/logger.js",".././src/backend/backend.ts","../external \"timers\"",".././src/tcpportscanner.ts","../external \"util\"",".././node_modules/tcp-port-used/node_modules/debug/src/common.js","../external \"crypto\"",".././src/symbols.ts",".././src/gdb.ts",".././node_modules/vscode-debugadapter/lib/protocol.js","../external \"url\"",".././node_modules/vscode-debugadapter/lib/loggingDebugSession.js",".././node_modules/mkdirp/index.js",".././node_modules/vscode-debugadapter/lib/handles.js",".././src/backend/mi2/mi2.ts",".././src/frontend/utils.ts",".././src/backend/server.ts",".././node_modules/tcp-port-used/index.js",".././node_modules/is2/index.js",".././node_modules/deep-is/index.js",".././node_modules/ip-regex/index.js",".././node_modules/is-url/index.js",".././node_modules/tcp-port-used/node_modules/debug/src/index.js",".././node_modules/tcp-port-used/node_modules/debug/src/browser.js",".././node_modules/ms/index.js",".././node_modules/tcp-port-used/node_modules/debug/src/node.js","../external \"tty\"",".././node_modules/supports-color/index.js",".././node_modules/has-flag/index.js",".././node_modules/command-exists/lib/command-exists.js",".././src/backend/gdb_expansion.ts",".././node_modules/hasbin/lib/hasbin.js",".././node_modules/async/lib/async.js",".././src/jlink.ts",".././src/openocd.ts",".././node_modules/tmp/lib/tmp.js",".././node_modules/os-tmpdir/index.js",".././src/stutil.ts",".././src/pyocd.ts",".././src/bmp.ts",".././src/pemicro.ts",".././src/qemu.ts",".././src/external.ts",".././src/backend/symbols.ts"],"names":["enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","exports","require","NumberFormat","AdapterOutputEvent","Event","content","type","super","StoppedEvent","reason","threadId","allThreadsStopped","SWOConfigureEvent","params","TelemetryEvent","category","action","label","parameters","decoders","mask","forEach","d","port","ports","octalMatch","MINode","start","path","pathRegex","indexRegex","trim","current","target","exec","substr","length","found","element","push","i","parseInt","token","info","result","this","outOfBandRecord","resultRecords","valueOf","output","results","outOfBandRecordRegex","resultRecordRegex","newlineRegex","variableRegex","asyncClassRegex","asyncRecordType","streamRecordType","parseCString","str","stringEnd","inString","remaining","escaped","ret","Buffer","alloc","bufIndex","Error","slice","m","write","writeUInt8","toString","parseString","e","parseValue","parseCommaResult","parseCommaValue","parseResult","match","canBeValueList","values","undefined","parseTupleOrList","variableMatch","classMatch","asyncRecord","isStream","asyncClass","streamRecord","replace","resultClass","defineProperty","protocol_1","messages_1","Net","url_1","Source","name","id","origin","data","sourceReference","adapterData","Scope","reference","expensive","variablesReference","StackFrame","nm","src","ln","col","source","line","column","Thread","Variable","ref","indexedVariables","namedVariables","Breakpoint","verified","Module","CompletionItem","exceptionText","body","text","ContinuedEvent","allThreadsContinued","InitializedEvent","TerminatedEvent","restart","OutputEvent","ThreadEvent","BreakpointEvent","breakpoint","ModuleEvent","LoadedSourceEvent","CapabilitiesEvent","capabilities","ErrorDestination","DebugSession","ProtocolServer","obsolete_debuggerLinesAndColumnsStartAt1","obsolete_isServer","linesAndColumnsStartAt1","_debuggerLinesStartAt1","_debuggerColumnsStartAt1","_debuggerPathsAreURIs","_clientLinesStartAt1","_clientColumnsStartAt1","_clientPathsAreURIs","_isServer","on","shutdown","error","format","enable","debugSession","process","argv","val","index","array","portMatch","console","createServer","socket","session","setRunAsServer","listen","stdin","stdout","setTimeout","exit","response","codeOrMessage","variables","dest","User","msg","showUser","Telemetry","sendTelemetry","success","message","formatPII","sendResponse","args","timeout","cb","sendRequest","request","Response","command","arguments","linesStartAt1","columnsStartAt1","pathFormat","sendErrorResponse","initializeResponse","initializeRequest","launchRequest","attachRequest","disconnectRequest","terminateRequest","restartRequest","setBreakPointsRequest","setFunctionBreakPointsRequest","setExceptionBreakPointsRequest","configurationDoneRequest","continueRequest","nextRequest","stepInRequest","stepOutRequest","stepBackRequest","reverseContinueRequest","restartFrameRequest","gotoRequest","pauseRequest","stackTraceRequest","scopesRequest","variablesRequest","setVariableRequest","setExpressionRequest","sourceRequest","threadsRequest","terminateThreadsRequest","evaluateRequest","stepInTargetsRequest","gotoTargetsRequest","completionsRequest","exceptionInfoRequest","loadedSourcesRequest","dataBreakpointInfoRequest","setDataBreakpointsRequest","readMemoryRequest","disassembleRequest","customRequest","_exception","_stack","stack","supportsConditionalBreakpoints","supportsHitConditionalBreakpoints","supportsFunctionBreakpoints","supportsConfigurationDoneRequest","supportsEvaluateForHovers","supportsStepBack","supportsSetVariable","supportsRestartFrame","supportsStepInTargetsRequest","supportsGotoTargetsRequest","supportsCompletionsRequest","supportsRestartRequest","supportsExceptionOptions","supportsValueFormattingOptions","supportsExceptionInfoRequest","supportTerminateDebuggee","supportsDelayedStackTraceLoading","supportsLoadedSourcesRequest","supportsLogPoints","supportsTerminateThreadsRequest","supportsSetExpression","supportsTerminateRequest","supportsDataBreakpoints","supportsReadMemoryRequest","supportsDisassembleRequest","clientPath","uri2path","path2uri","debuggerPath","platform","test","toLowerCase","encodeURI","uri","URL","pathname","sourceUri","s","decodeURIComponent","excludePII","_formatPIIRegexp","paramName","Message","seq","request_seq","event","debugSession_1","loggingDebugSession_1","LoggingDebugSession","Logger","handles_1","Handles","logger","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","apply","fs","mkdirp","LogLevel","_pendingLogQ","level","Log","_write","log","Verbose","Warn","_currentLogger","disposeP","dispose","consoleMinLogLevel","_logFilePath","prependTimestamp","logFilePath","_logFilePathFromInit","options","setup","logQ","item","logCallback","logToConsole","InternalLogger","isServer","beforeExitCallback","_logCallback","_logToConsole","_minLogLevel","disposeCallback","signal","code","_prependTimestamp","isAbsolute","handleError","err","sendLog","folder","dirname","_logFileStream","createWriteStream","logDateTime","setupShutdownListeners","Date","timeAndDateStamp","getUTCFullYear","getUTCMonth","getUTCDate","getFormattedTimeString","addListener","removeListener","removeShutdownListeners","end","Stop","logFn","warn","trimLastNewline","endsInNewline","LogOutputEvent","_padZeroes","String","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","minDesiredLength","numberToPad","repeat","node","exp","numchild","frozen","dynamic","displayhint","children","hasMore","res","evaluateName","fullExp","presentationHint","kind","MIError","constructor","captureStackTrace","setPrototypeOf","create","TcpPortScanner","host","server","net","c","once","close","shouldUseServerMethod","tries","getLocalHostAliases","ix","isPortInUse","inUse","catch","tcpPortUsed","check","min","max","retrieve","consecutive","doLog","DefaultHost","freePorts","busyPorts","needed","functor","isPortInUseEx","startTine","hrtime","endTime","ms","toFixed","t","startTime","OSNetProbeCmd","commandExistsSync","command_exists","sync","os","isWin","isMac","OSNetProbeCmdRegexpStr","retryTimeMs","timeOutMs","fallback","cmd","getOsNetProbeCmd","waitForPortOpen","rexStr","rex","RegExp","startTimeMs","now","first","Math","tryAgain","child_process","startsWith","join","opts","checkLocalHostAliases","desiredStatus","checkLocalHostAliaes","PortStatusArgs","waitForPortStatusEx","waitForStatus","waitUntilUsedOnHost","waitUntilFreeOnHost","localHostAliases","ifaces","networkInterfaces","keys","ifname","iface","internal","family","indexOf","address","ForceClientMethod","env","selectColor","namespace","hash","charCodeAt","createDebug","colors","abs","prevTime","debug","enabled","self","curr","Number","diff","prev","coerce","unshift","formatter","formatters","splice","formatArgs","useColors","color","destroy","extend","init","instances","delimiter","toNamespace","regexp","substring","default","disable","namespaces","names","map","skips","save","split","len","instance","humanize","load","SymbolType","SymbolScope","SERVER_TYPE_MAP","jlink","JLinkServerController","openocd","OpenOCDServerController","stutil","STUtilServerController","pyocd","PyOCDServerController","pe","PEServerController","bmp","BMPServerController","qemu","QEMUServerController","external","ExternalServerController","ExtendedVariable","COMMAND_MAP","CustomStoppedEvent","threadID","CustomContinuedEvent","allThreads","GDBDebugSession","debuggerLinesStartAt1","variableHandles","variableHandlesReverse","forceDisassembly","activeEditorPath","currentThreadId","activeThreadIds","Set","disableSendStoppedEvents","stopped","stoppedReason","stoppedThreadId","stoppedEventPending","breakpointMap","Map","fileExistsCache","onConfigDone","EventEmitter","floatingVariableMap","miDebugger","launchError","quitEvent","stopEvent","handleMsg","handleBreakpoint","handleBreak","handlePause","handleRunning","handleThreadCreated","handleThreadExited","handleThreadSelected","handleThreadGroupExited","sendEvent","normalizeArguments","symbolTable","SymbolTable","toolchainPath","toolchainPrefix","executable","demangle","loadSymbols","processLaunchAttachRequest","graphConfig","normalize","cwd","svdFile","swoConfig","dec","decoder","attach","existsSync","ControllerClass","servertype","serverController","setArguments","serverControllerEvent","quit","attached","started","crashed","debugReady","clear","portFinderOpts","portsNeeded","findFreePorts","GDBServer","LOCALHOST","idx","setPorts","serverExecutable","serverArguments","gdbExePath","gdbpath","hasbin","dbgMsg","initMatch","overrideGDBServerStartedRegex","handleAdapterOutput","SERVER_TIMEOUT","serverLaunchStarted","clearTimeout","serverLaunchCompleted","gdbargs","concat","debuggerArgs","MI2","initDebugger","printCalls","showDevDebugOutput","debugOutput","commands","extensionPath","initCommands","preAttachCommands","attachCommands","overrideAttachCommands","postAttachCommands","swoCommands","preLaunchCommands","launchCommands","overrideLaunchCommands","postLaunchCommands","debuggerLaunchStarted","connect","debuggerLaunchCompleted","launchComplete","runToMain","sendCommand","runPostStartSessionCommands","isRestart","interval","postRestartSessionCommands","postStartSessionCommands","curToken","getCurrentToken","to","setInterval","nxtToken","clearInterval","postStart","force","functionSymbols","getFunctionSymbols","readMemoryRequestCustom","writeMemoryRequest","readRegistersRequest","readRegisterListRequest","function","funcInfo","getDisassemblyForFunction","file","instructions","startAddress","getFunctionAtAddress","getDisassemblyForAddresses","functionName","symbol","getFunctionByName","endAddress","hexFormat","ri","offset","instruction","opcodes","bytes","b","fmt","registerUseNaturalFormat","rv","n","x","registerNames","rr","doDisconnectProcessing","detach","stop","commandServer","restartProcessing","preRestartCommands","restartCommands","overrideRestartCommands","postRestartCommands","findPausedThread","has","add","delete","thId","varRef","frameId","globOrStatic","getFloatingVariable","parent","fullName","tryName","createStackVarName","decodeReference","varAssign","createBreakpoints","shouldContinue","all","breakpoints","brk","addBreakPoint","raw","condition","countCondition","hitCondition","finalBrks","brkp","currentBreakpoints","bp","number","removeBreakpoints","set","sourcepath","sidx","parts","func","filter","threads","threadIdNode","threadIds","ti","currentThread","threadGroupId","findIndex","th","tid","details","getStack","startFrame","levels","stackId","encodeReference","disassemble","checkFileExists","symbolInfo","fileName","url","scope","Global","inst","fname","stackFrames","emit","scopes","Array","staticId","getGlobalVariables","globals","varObjName","varObj","varUpdate","change","vId","applyChanges","varId","varCreate","findOrCreateVariable","putFloatingVariable","toProtocolVariable","fHash","scopeId","scopeMap","statics","getFrame","staticSymbols","getStaticVariables","hasher","crypto","createHash","update","digest","createStaticVarName","arg","createVariable","isCompound","getStackVariables","variable","evalExpression","JSON","stringify","expanded","expandValue","prettyStringArray","globalVariablesRequest","staticVariablesRequest","stackVariablesRequest","variableMembersRequest","VariableObject","pvar","childMap","varListChildren","flattenAnonymous","vars","child","suffix","varReq","strArr","argsPart","arrIndex","submit","addOne","interrupt","continue","assemblyMode","frame","stepOut","exists","context","expression","sendUserInput","strings","run","ee","_pendingRequests","inStream","outStream","_sequence","_writableStream","_rawData","_handleData","_emitEvent","resume","_send","timer","clb","typ","json","byteLength","_contentLength","parse","dispatchRequest","TWO_CRLF","lines","pair","obsolete_logFilePath","verbose","_0777","mkdirP","p","f","made","mode","xfs","mkdir","er","stat","er2","isDirectory","mkdirSync","err0","statSync","err1","startHandle","START_HANDLE","_handleMap","_nextHandle","handle","dflt","posix","escape","nonOutput","gdbMatch","numRegex","couldBeOutput","application","currentToken","handlers","nativePath","ChildProcess","spawn","procEnv","stderr","asyncPromise","promises","buffer","lastIndexOf","onOutput","onOutputPartial","errbuf","onOutputStderr","logNoNewLine","parsed","parseMI","handled","record","gid","proc","kill","pid","tryKill","sendRaw","baseCmd","_sendCommandSequence","nextCommand","r","rawValue","bkptNum","location","setBreakPointCondition","thread","addr","fullname","linestr","startLevel","maxLevels","filename","lnstr","from","valueStr","thFr","getThreadFrameStr","toLocaleLowerCase","createResp","overrideVal","formatResp","FORMAT_SPEC_MAP","omg","includes","suppressFailure","sel","h","o","createMask","width","parseInteger","padding","includePrefix","base","group","nibRem","groups","spec","count","components","fromCharCode","outBuffer","errBuffer","initResolve","initReject","onStdout","onStderr","onExit","onError","is","obj","makeOptionsObj","waitUntilFree","waitUntilUsed","util","getDeferred","promise","rej","client","deferred","inspect","cleanUp","removeAllListeners","unref","nullOrUndefined","Socket","timeoutId","retryId","timedout","bool","positiveInt","doCheck","owns","deepIs","ipRegEx","version","browser","window","defined","def","nodejs","udef","undef","arr","ary","arry","arrayLike","nullOrUndef","isFinite","arrLike","arryLike","aryLike","arraylike","boolean","isBuffer","buff","buf","date","false","syncFunction","asyncFunction","fun","asyncFun","asyncFunc","syncFun","syncFunc","null","num","regExp","re","string","true","uuidRegExp","uuid","equal","other","getTime","objEquals","eq","NON_HOST_TYPES","hosted","instanceOf","instOf","instanceof","objectInstanceOf","objInst","objType","objInstOf","a","empty","emptyArguments","noArgs","emptyArgs","emptyArray","emptyArry","emptyAry","emptyArrayLike","emptyArrLike","emptyString","emptyStr","nonEmptyArray","nonEmptyArr","nonEmptyArry","nonEmptyAry","nonEmptyObject","nonEmptyObj","emptyObject","emptyObj","nonEmptyString","nonEmptyStr","even","decimal","decNum","integer","int","notANumber","nan","notANum","odd","oddNumber","oddNum","positiveNumber","pos","positive","posNum","positiveNum","negativeNumber","neg","negNum","negativeNum","negativeInteger","negativeInt","negInt","positiveInteger","posInt","divisibleBy","divBy","divisBy","greaterOrEqualTo","greaterOrEqual","ge","greaterThan","gt","lessThanOrEqualTo","lessThanOrEq","lessThanOrEqual","le","lessThan","lt","maximum","others","minimum","within","finish","withIn","prettyClose","comparitor","precision","closish","near","dnsAddress","numbersLabel","dnsLabel","dnsAddr","dns","emailAddress","emailRegexp","email","emailAddr","ipv4Address","octets","isNaN","ipv4","ipv4Addr","ipv6Address","v6","extract","ipv6","ipv6Addr","ipAddress","ip","ipAddr","hostAddress","hostIp","hostAddr","systemPort","sysPort","userPort","creditCardNumber","cnt","sum","floor","creditCard","creditCardNum","americanExpressCardNumber","prefix","amexCard","amexCardNum","chinaUnionPayCardNumber","chinaUnion","chinaUnionPayCard","dinersClubCarteBlancheCardNumber","dinersClubCB","dinersClubCarteBlancheCard","dinersClubInternationalCardNumber","prefix2","dinersClubInt","dinersClubInternationalCard","dinersClubUSACanadaCardNumber","dinersClub","dinersClubUSACanCard","discoverCardNumber","discover","discoverCard","instaPaymentCardNumber","instaPayment","jcbCardNumber","jcb","jcbCard","laserCardNumber","laser","laserCard","maestroCardNumber","maestro","maestroCard","dankortCardNumber","dankort","dankortCard","masterCardCardNumber","masterCard","masterCardCard","visaCardNumber","visa","visaCard","visaElectronCardNumber","visaElectron","visaElectronCard","objIdPattern","mongoId","objectId","objId","Boolean","isArray","matching","inArgs","streetAddress","street","zipCode","zip","phoneNumber","phone","isUrl","enumerator","enum","inArray","pSlice","Object_keys","deepEqual","actual","expected","isNumberNaN","isUndefinedOrNull","isArguments","ka","kb","sort","objEquiv","v4","v6seg","exact","protocolAndDomainRE","everythingAfterProtocol","localhostDomainRE","nonLocalhostDomainRE","__nwjs","lastC","storage","setItem","removeItem","getItem","DEBUG","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","j","v","plural","msAbs","isPlural","round","parseFloat","long","fmtLong","fmtShort","tty","inspectOpts","colorCode","hideDate","toISOString","getDate","isatty","fd","supportsColor","reduce","prop","_","k","toUpperCase","O","hasFlag","forceColor","getSupportLevel","stream","hasBasic","has256","has16m","translateLevel","isTTY","osRelease","release","versions","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","FORCE_COLOR","flag","terminatorPos","execSync","access","accessSync","constants","isUsingWindows","commandExistsUnix","commandName","cleanedCommandName","callback","F_OK","fileNotExists","isFile","X_OK","localExecutable","commandExistsUnixSync","fileNotExistsSync","localExecutableSync","cleanInput","basename","commandExists","commandExistsWindows","stdio","commandExistsWindowsSync","resultRegex","errorRegex","referenceStringRegex","referenceRegex","nullpointerRegex","charRegex","numberRegex","variableCreate","root","extra","charStr","createValue","getNamespace","pop","eqPos","newValPos1","newValPos2","newValPos","primitive","parsePrimitive","pushToStack","async","bin","getPaths","fileExists","envPath","PATH","envExt","PATHEXT","chunk","ext","filePath","fileExistsSync","bins","every","detect","matched","any","previous_async","noop","identity","toBool","notId","global","only_once","fn","_once","noConflict","_toString","_isArray","_isArrayLike","_arrayEach","iterator","_map","_range","_reduce","memo","_forEachOf","_keys","_indexOf","_keyIterator","coll","_restParam","startIndex","rest","_withoutIndex","_setImmediate","setImmediate","_delay","_eachOfLimit","limit","nextKey","running","errored","replenish","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","_filter","_reject","_createTester","getResult","iteratee","_findGetResult","_parallel","tasks","task","_concat","y","_queue","worker","concurrency","payload","_insert","q","idle","drain","saturated","_next","workers","removed","workersList","paused","pause","resumeCount","w","_console_fn","_times","mapper","_applyEach","fns","go","that","ensureAsync","innerArgs","nextTick","each","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","iter","completed","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","mapSeries","mapLimit","inject","foldl","foldr","reduceRight","reversed","reverse","transform","select","selectLimit","filterLimit","selectSeries","filterSeries","rejectLimit","rejectSeries","someLimit","everyLimit","detectSeries","detectLimit","sortBy","comparator","left","right","criteria","auto","remainingTasks","runningTasks","hasError","listeners","taskComplete","dep","taskCallback","safeResults","rkey","requires","ready","listener","retry","times","DEFAULT_TIMES","DEFAULT_INTERVAL","attempts","parseTimes","acc","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","series","waterfall","wrapIterator","parallel","parallelLimit","makeCallback","callArgs","concatSeries","whilst","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","items","priorityQueue","_compareTasks","priority","sequence","compare","beg","mid","_binarySearch","cargo","dir","memoize","queues","memoized","l","unmemoized","unmemoize","timesSeries","timesLimit","newargs","nextargs","compose","applyEach","applyEachSeries","forever","constant","wrapSync","asyncify","EXECUTABLE_NAMES","swocommands","SWOConfigurationCommands","portMask","calculatePortMask","swoFrequency","cpuFrequency","profile","serverpath","gdbport","swoport","consoleport","cmdargs","interface","device","serialNumber","rtos","jlinkscript","serverArgs","baudRate","swoPath","tmp","tmpNameSync","serverargs","searchDir","cs","openOCDPreConfigLaunchCommands","configFiles","cf","tmpCfgPath","writeFileSync","tpiuIntExt","openOCDLaunchCommands","spawnSync","osTmpDir","_c","binding","tmpDir","RANDOM_CHARS","TEMPLATE_PATTERN","CREATE_FLAGS","O_CREAT","O_EXCL","O_RDWR","EBADF","errno","ENOENT","_removeObjects","_gracefulCleanup","_uncaughtException","_randomChars","howMany","rnd","randomBytes","pseudoRandomBytes","_isUndefined","_parseArguments","_generateTmpName","template","postfix","tmpName","_getUniqueName","_rmdirRecursiveSync","dirs","files","readdirSync","lstatSync","unlinkSync","rmdirSync","_prepareTmpFileRemoveCallback","removeCallback","_prepareRemoveCallback","fdPath","closeSync","isExpectedError","isENOENT","keep","_prepareTmpDirRemoveCallback","unsafeCleanup","removeFunction","called","_cleanupCallback","_garbageCollector","tmpdir","dirSync","open","discardDescriptor","detachDescriptor","fileSync","discardOrDetachDescriptor","openSync","setGracefulCleanup","isWindows","trailingSlashRe","TEMP","TMP","SystemRoot","windir","TMPDIR","v1","boardId","targetId","cmsisPack","BMPGDBSerialPort","powerOverBMP","ratio","cpu","machine","gdbTarget","SYMBOL_REGEX","TYPE_MAP","Function","File","Normal","SCOPE_MAP","Local","Neither","Both","allSymbols","staticsByFile","globalVars","globalFuncs","staticVars","staticFuncs","fileMap","objdumpExePath","childProcess","collectCompilationUnits","currentFile","currentMapped","addToFileMap","hidden","sym","origScope","section","fileMaps","newMap","isCompileUnit","curName","curDir","curSimpleName","cUnitRexp","find"],"mappings":"2BACA,SAGA,cAGA,QACA,oBAGA,YACA,IACA,KACA,YAUA,OANA,mCAGA,OAGA,UA0DA,OArDA,MAGA,MAGA,oBACA,UACA,2BAA2CA,YAAY,EAAMC,IAAKC,KAKlE,gBACA,gDACA,4CAAyDC,MAAO,WAEhE,sCAAkDA,OAAO,KAQzD,kBAEA,GADA,cACA,aACA,qDACA,0BAGA,GAFA,OACA,mCAA0CH,YAAY,EAAMG,MAAOA,IACnE,2DAAiH,OAAOA,EAAMC,IAAQC,KAAK,KAAMD,IACjJ,UAIA,gBACA,sBACA,WAA4B,OAAOE,EAAgB,SACnD,WAAkC,OAAOA,GAEzC,OADA,aACA,GAIA,kBAAuD,OAAOC,OAAOC,UAAUC,eAAeC,KAAKC,EAAQC,IAG3G,OAIA,U,gBClFAN,EAAOO,QAAUC,QAAQ,W,cCAzBR,EAAOO,QAAUC,QAAQ,S,cCAzBR,EAAOO,QAAUC,QAAQ,O,cCAzBR,EAAOO,QAAUC,QAAQ,O,cCAzBR,EAAOO,QAAUC,QAAQ,kB,8ECAzB,eAIA,SAAYC,GACR,mBACA,iCACA,yBACA,uBAJJ,CAAY,EAAAA,eAAA,EAAAA,aAAY,KAaxB,MAAaC,UAA2B,EAAAC,MAOpC,YAAYC,EAAiBC,GACzBC,MAAM,iBAAkB,CAAEF,QAASA,EAASC,KAAMA,KAR1D,uBAYA,MAAaE,UAAqB,EAAAJ,MAS9B,YAAYK,EAAgBC,EAAkBC,GAC1CJ,MAAM,UAAW,CACbE,OAAQA,EACRC,SAAUA,EACVC,kBAAmBA,KAb/B,iBAkBA,MAAaC,UAA0B,EAAAR,MAQnC,YAAYS,GAERN,MAAM,gBADOM,IATrB,sBAcA,MAAaC,UAAuB,EAAAV,MAShC,YAAYW,EAAkBC,EAAgBC,EAAeC,EAAwC,IAEjGX,MAAM,eADO,CAAEQ,SAAUA,EAAUC,OAAQA,EAAQC,MAAOA,EAAOC,WAAYA,KAVrF,mBA4HA,6BAAkCC,GAC9B,IAAKA,EAAY,OAAO,EAExB,IAAIC,EAAe,EAWnB,OAVAD,EAASE,QAASC,IACd,GAAe,aAAXA,EAAEhB,KACF,IAAK,MAAMiB,KAAQD,EAAEE,MACjBJ,GAAQA,EAAQ,GAAKG,KAAW,OAIpCH,GAAQA,EAAQ,GAAKE,EAAEC,QAAW,IAGnCH,I,8ECjMX,MAAMK,EAAa,YAkEnB,MAAaC,EAKF,eAAeC,EAAYC,GAC9B,IAAKD,EACD,OAEJ,MAAME,EAAY,mCACZC,EAAa,qBAEnB,KADAF,EAAOA,EAAKG,QACC,OAAOJ,EACpB,IAAIK,EAAUL,EACd,EAAG,CACC,IAAIM,EAASJ,EAAUK,KAAKN,GAC5B,GAAIK,EAAQ,CAER,GADAL,EAAOA,EAAKO,OAAOF,EAAO,GAAGG,SACzBJ,EAAQI,QAA6B,iBAAZJ,EAkBzB,OAlB+C,CAC/C,MAAMK,EAAQ,GACd,IAAK,MAAMC,KAAWN,EACdM,EAAQ,KAAOL,EAAO,IACtBI,EAAME,KAAKD,EAAQ,IAG3B,GAAID,EAAMD,OAAS,EACfJ,EAAUK,MAET,IAAqB,IAAjBA,EAAMD,OAIX,OAHAJ,EAAUK,EAAM,UAUvB,GAAgB,MAAZT,EAAK,GACVI,EAAU,CAACA,GACXJ,EAAOA,EAAKO,OAAO,OAElB,CAED,GADAF,EAASH,EAAWI,KAAKN,IACrBK,EAaA,OAbQ,CACRL,EAAOA,EAAKO,OAAOF,EAAO,GAAGG,QAC7B,MAAMI,EAAIC,SAASR,EAAO,IAC1B,GAAID,EAAQI,QAA6B,iBAAZJ,GAAwBQ,GAAK,GAAKA,EAAIR,EAAQI,OACvEJ,EAAUA,EAAQQ,QAEjB,GAAU,IAANA,EAGL,QAOZZ,EAAOA,EAAKG,aACPH,GACT,OAAOI,EAGX,YACIU,EACAC,EACAC,GAEAC,KAAKH,MAAQA,EACbG,KAAKC,gBAAkBH,EACvBE,KAAKE,cAAgBH,EAGlB,OAAOhB,GACV,GAAKiB,KAAKC,gBAGV,OAAOpB,EAAOsB,QAAQH,KAAKC,gBAAgB,GAAGG,OAAQrB,GAGnD,OAAOA,GACV,GAAKiB,KAAKE,cAGV,OAAOrB,EAAOsB,QAAQH,KAAKE,cAAcG,QAAStB,IAvF1D,WA2FA,MACMuB,EAAuB,4CACvBC,EAAoB,8CACpBC,EAAe,SAEfC,EAAgB,gCAChBC,EAAkB,UAExB,mBAAwBN,GAiBpB,IAAIP,EACJ,MAAMI,EAAkB,GACxB,IAAIC,EAEJ,MAAMS,EAAkB,CACpB,IAAK,OACL,IAAK,SACL,IAAK,UAEHC,EAAmB,CACrB,IAAK,UACL,IAAK,SACL,IAAK,OAGHC,EAAe,KACjB,GAAkB,MAAdT,EAAO,GACP,MAAO,GAEX,IAkBIU,EAlBAC,EAAY,EACZC,GAAW,EACXC,EAAYb,EAAOd,OAAO,GAC1B4B,GAAU,EACd,KAAOF,GACCE,EACAA,GAAU,EAEY,OAAjBD,EAAU,GACfC,GAAU,EAEY,MAAjBD,EAAU,KACfD,GAAW,GAGfC,EAAYA,EAAU3B,OAAO,GAC7ByB,IAGJ,IACID,EA5NZ,SAAqBA,GACjB,MAAMK,EAAMC,OAAOC,MAAmB,EAAbP,EAAIvB,QAC7B,IAAI+B,EAAW,EAEf,GAAe,MAAXR,EAAI,IAAsC,MAAxBA,EAAIA,EAAIvB,OAAS,GACnC,MAAM,IAAIgC,MAAM,sBAEpBT,EAAMA,EAAIU,MAAM,GAAI,GACpB,IAAIN,GAAU,EACd,IAAK,IAAIvB,EAAI,EAAGA,EAAImB,EAAIvB,OAAQI,IAC5B,GAAIuB,EAAS,CACT,IAAIO,EACW,OAAXX,EAAInB,GACJ2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,IAAKJ,GAEX,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,IAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,GAEZ,MAAXR,EAAInB,GACT2B,GAAYH,EAAIO,MAAM,KAAMJ,IAEvBG,EAAI7C,EAAWS,KAAKyB,EAAIxB,OAAOK,MACpCwB,EAAIQ,WAAW/B,SAAS6B,EAAE,GAAI,GAAIH,KAClC3B,GAAK,GAGL2B,GAAYH,EAAIO,MAAMZ,EAAInB,GAAI2B,GAElCJ,GAAU,OAEV,GAAe,OAAXJ,EAAInB,GACJuB,GAAU,MAET,IAAe,MAAXJ,EAAInB,GACT,MAAM,IAAI4B,MAAM,sBAGhBD,GAAYH,EAAIO,MAAMZ,EAAInB,GAAI2B,GAI1C,OAAOH,EAAIK,MAAM,EAAGF,GAAUM,SAAS,QA8JzBC,CAAYzB,EAAOd,OAAO,EAAGyB,IAEvC,MAAOe,GACHhB,EAAMV,EAAOd,OAAO,EAAGyB,GAG3B,OADAX,EAASA,EAAOd,OAAOyB,GAChBD,GAGX,IAAIiB,EACAC,EACAC,EACAC,EA8EAC,EAEJ,IAxCAJ,EAAa,IACS,MAAd3B,EAAO,GACAS,IAEY,MAAdT,EAAO,IAA4B,MAAdA,EAAO,GA1ChB,MACrB,GAAkB,MAAdA,EAAO,IAA4B,MAAdA,EAAO,GAC5B,OAEJ,MACMgC,EAA+B,MAAdhC,EAAO,GAE9B,GAAkB,OADlBA,EAASA,EAAOd,OAAO,IACZ,IAA4B,MAAdc,EAAO,GAE5B,OADAA,EAASA,EAAOd,OAAO,GAChB,GAEX,GAAI8C,EAAgB,CAChB,IAAI3F,EAAQsF,IACZ,GAAItF,EAAO,CACP,MAAM4F,EAAS,GACfA,EAAO3C,KAAKjD,GAEZ,UAAuC6F,KAA/B7F,EAAQwF,MACZI,EAAO3C,KAAKjD,GAGhB,OADA2D,EAASA,EAAOd,OAAO,GAChB+C,GAGf,IAAItC,EAASmC,IACb,GAAInC,EAAQ,CACR,MAAMM,EAAU,GAEhB,IADAA,EAAQX,KAAKK,GACNA,EAASiC,KACZ3B,EAAQX,KAAKK,GAGjB,OADAK,EAASA,EAAOd,OAAO,GAChBe,EAEXD,GAAUgC,EAAiB,IAAM,KAAOhC,GAS7BmC,QAGP,EAIRL,EAAc,KACV,MAAMM,EAAgB/B,EAAcpB,KAAKe,GACzC,GAAKoC,EAKL,OAFApC,EAASA,EAAOd,OAAOkD,EAAc,GAAGjD,OAAS,GAE1C,CADUiD,EAAc,GACbT,MAGtBE,EAAkB,KACd,GAAkB,MAAd7B,EAAO,GAIX,OADAA,EAASA,EAAOd,OAAO,GAChByC,KAGXC,EAAmB,KACf,GAAkB,MAAd5B,EAAO,GAIX,OADAA,EAASA,EAAOd,OAAO,GAChB4C,KAKJC,EAAQ7B,EAAqBjB,KAAKe,IAAS,CAM9C,GALAA,EAASA,EAAOd,OAAO6C,EAAM,GAAG5C,QAC5B4C,EAAM,SAAgBG,IAAVzC,GAAoC,cAAbsC,EAAM,KACzCtC,EAAQD,SAASuC,EAAM,KAGvBA,EAAM,GAAI,CACV,MAAMM,EAAa/B,EAAgBrB,KAAKe,GACxCA,EAASA,EAAOd,OAAOmD,EAAW,GAAGlD,QACrC,MAAMmD,EAAc,CAChBC,UAAU,EACVlF,KAAMkD,EAAgBwB,EAAM,IAC5BS,WAAYH,EAAW,GACvBrC,OAAQ,IAEZ,IAAIL,EACJ,KAAOA,EAASiC,KACZU,EAAYtC,OAAOV,KAAKK,GAE5BE,EAAgBP,KAAKgD,QAEpB,GAAIP,EAAM,GAAI,CACf,MAAMU,EAAe,CACjBF,UAAU,EACVlF,KAAMmD,EAAiBuB,EAAM,IAC7B3E,QAASqD,KAEbZ,EAAgBP,KAAKmD,GAGzBzC,EAASA,EAAO0C,QAAQtC,EAAc,IAG1C,GAAI2B,EAAQ5B,EAAkBlB,KAAKe,GAAS,CASxC,IAAIL,EACJ,IATAK,EAASA,EAAOd,OAAO6C,EAAM,GAAG5C,QAC5B4C,EAAM,SAAgBG,IAAVzC,IACZA,EAAQD,SAASuC,EAAM,KAE3BjC,EAAgB,CACZ6C,YAAaZ,EAAM,GACnB9B,QAAS,IAGNN,EAASiC,KACZ9B,EAAcG,QAAQX,KAAKK,GAG/BK,EAASA,EAAO0C,QAAQtC,EAAc,IAG1C,OAAO,IAAI3B,EAAOgB,EAAOI,GAA0B,GAAIC,K,gBCjX3DtD,EAAOO,QAAU,EAAQ,K,6BCKzBN,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IACtD,MAAMwG,EAAa,EAAQ,IACrBC,EAAa,EAAQ,GACrBC,EAAM,EAAQ,IACdC,EAAQ,EAAQ,IActBjG,EAAQkG,OAbR,MACI,YAAYC,EAAMvE,EAAMwE,EAAK,EAAGC,EAAQC,GACpCzD,KAAKsD,KAAOA,EACZtD,KAAKjB,KAAOA,EACZiB,KAAK0D,gBAAkBH,EACnBC,IACAxD,KAAKwD,OAASA,GAEdC,IACAzD,KAAK2D,YAAcF,KAY/BtG,EAAQyG,MAPR,MACI,YAAYN,EAAMO,EAAWC,GAAY,GACrC9D,KAAKsD,KAAOA,EACZtD,KAAK+D,mBAAqBF,EAC1B7D,KAAK8D,UAAYA,IAazB3G,EAAQ6G,WATR,MACI,YAAYrE,EAAGsE,EAAIC,EAAKC,EAAK,EAAGC,EAAM,GAClCpE,KAAKuD,GAAK5D,EACVK,KAAKqE,OAASH,EACdlE,KAAKsE,KAAOH,EACZnE,KAAKuE,OAASH,EACdpE,KAAKsD,KAAOW,IAepB9G,EAAQqH,OAXR,MACI,YAAYjB,EAAID,GACZtD,KAAKuD,GAAKA,EAENvD,KAAKsD,KADLA,GAIY,WAAaC,IAkBrCpG,EAAQsH,SAbR,MACI,YAAYnB,EAAM7G,EAAOiI,EAAM,EAAGC,EAAkBC,GAChD5E,KAAKsD,KAAOA,EACZtD,KAAKvD,MAAQA,EACbuD,KAAK+D,mBAAqBW,EACI,iBAAnBE,IACP5E,KAAK4E,eAAiBA,GAEM,iBAArBD,IACP3E,KAAK2E,iBAAmBA,KAoBpCxH,EAAQ0H,WAfR,MACI,YAAYC,EAAUR,EAAMC,EAAQF,GAChCrE,KAAK8E,SAAWA,EAChB,MAAMhD,EAAI9B,KACU,iBAATsE,IACPxC,EAAEwC,KAAOA,GAES,iBAAXC,IACPzC,EAAEyC,OAASA,GAEXF,IACAvC,EAAEuC,OAASA,KAWvBlH,EAAQ4H,OANR,MACI,YAAYxB,EAAID,GACZtD,KAAKuD,GAAKA,EACVvD,KAAKsD,KAAOA,IAWpBnG,EAAQ6H,eAPR,MACI,YAAY5G,EAAOU,EAAOS,EAAS,GAC/BS,KAAK5B,MAAQA,EACb4B,KAAKlB,MAAQA,EACbkB,KAAKT,OAASA,IAItB,MAAM5B,UAAqBuF,EAAW3F,MAClC,YAAYK,EAAQC,EAAUoH,GAC1BvH,MAAM,WACNsC,KAAKkF,KAAO,CACRtH,OAAQA,GAEY,iBAAbC,IACPmC,KAAKkF,KAAKrH,SAAWA,GAEI,iBAAlBoH,IACPjF,KAAKkF,KAAKC,KAAOF,IAI7B9H,EAAQQ,aAAeA,EACvB,MAAMyH,UAAuBlC,EAAW3F,MACpC,YAAYM,EAAUwH,GAClB3H,MAAM,aACNsC,KAAKkF,KAAO,CACRrH,SAAUA,GAEqB,kBAAxBwH,IACPrF,KAAKkF,KAAKG,oBAAsBA,IAI5ClI,EAAQiI,eAAiBA,EACzB,MAAME,UAAyBpC,EAAW3F,MACtC,cACIG,MAAM,gBAGdP,EAAQmI,iBAAmBA,EAC3B,MAAMC,UAAwBrC,EAAW3F,MACrC,YAAYiI,GAER,GADA9H,MAAM,cACiB,kBAAZ8H,GAAyBA,EAAS,CAC/BxF,KACRkF,KAAO,CACLM,QAASA,KAKzBrI,EAAQoI,gBAAkBA,EAC1B,MAAME,UAAoBvC,EAAW3F,MACjC,YAAY6C,EAAQlC,EAAW,UAAWuF,GACtC/F,MAAM,UACNsC,KAAKkF,KAAO,CACRhH,SAAUA,EACVkC,OAAQA,QAECkC,IAATmB,IACAzD,KAAKkF,KAAKzB,KAAOA,IAI7BtG,EAAQsI,YAAcA,EACtB,MAAMC,UAAoBxC,EAAW3F,MACjC,YAAYK,EAAQC,GAChBH,MAAM,UACNsC,KAAKkF,KAAO,CACRtH,OAAQA,EACRC,SAAUA,IAItBV,EAAQuI,YAAcA,EACtB,MAAMC,UAAwBzC,EAAW3F,MACrC,YAAYK,EAAQgI,GAChBlI,MAAM,cACNsC,KAAKkF,KAAO,CACRtH,OAAQA,EACRgI,WAAYA,IAIxBzI,EAAQwI,gBAAkBA,EAC1B,MAAME,UAAoB3C,EAAW3F,MACjC,YAAYK,EAAQhB,GAChBc,MAAM,UACNsC,KAAKkF,KAAO,CACRtH,OAAQA,EACRhB,OAAQA,IAIpBO,EAAQ0I,YAAcA,EACtB,MAAMC,UAA0B5C,EAAW3F,MACvC,YAAYK,EAAQyG,GAChB3G,MAAM,gBACNsC,KAAKkF,KAAO,CACRtH,OAAQA,EACRyG,OAAQA,IAIpBlH,EAAQ2I,kBAAoBA,EAC5B,MAAMC,UAA0B7C,EAAW3F,MACvC,YAAYyI,GACRtI,MAAM,gBACNsC,KAAKkF,KAAO,CACRc,aAAcA,IAK1B,IAAIC,EADJ9I,EAAQ4I,kBAAoBA,EAE5B,SAAWE,GACPA,EAAiBA,EAAuB,KAAI,GAAK,OACjDA,EAAiBA,EAA4B,UAAI,GAAK,YAF1D,CAGGA,EAAmB9I,EAAQ8I,mBAAqB9I,EAAQ8I,iBAAmB,KAE9E,MAAMC,UAAqBjD,EAAWkD,eAClC,YAAYC,EAA0CC,GAClD3I,QACA,MAAM4I,EAA8E,kBAA7CF,GAAyDA,EAChGpG,KAAKuG,uBAAyBD,EAC9BtG,KAAKwG,yBAA2BF,EAChCtG,KAAKyG,uBAAwB,EAC7BzG,KAAK0G,sBAAuB,EAC5B1G,KAAK2G,wBAAyB,EAC9B3G,KAAK4G,qBAAsB,EAC3B5G,KAAK6G,UAAyC,kBAAtBR,GAAkCA,EAC1DrG,KAAK8G,GAAG,QAAS,KACb9G,KAAK+G,aAET/G,KAAK8G,GAAG,QAAUE,IACdhH,KAAK+G,aAGb,sBAAsBE,GAClBjH,KAAKyG,sBAAmC,SAAXQ,EAEjC,yBAAyBC,GACrBlH,KAAKuG,uBAAyBW,EAElC,2BAA2BA,GACvBlH,KAAKwG,yBAA2BU,EAEpC,eAAeA,GACXlH,KAAK6G,UAAYK,EAKrB,WAAWC,GAEP,IAAIzI,EAAO,EAQX,GAPa0I,QAAQC,KAAK7F,MAAM,GAC3BhD,SAAQ,SAAU8I,EAAKC,EAAOC,GAC/B,MAAMC,EAAY,uBAAuBpI,KAAKiI,GAC1CG,IACA/I,EAAOkB,SAAS6H,EAAU,GAAI,QAGlC/I,EAAO,EAEPgJ,QAAQV,MAAM,sCAAsCtI,KACpDyE,EAAIwE,aAAcC,IACdF,QAAQV,MAAM,sCACdY,EAAOd,GAAG,MAAO,KACbY,QAAQV,MAAM,mCAElB,MAAMa,EAAU,IAAIV,GAAa,GAAO,GACxCU,EAAQC,gBAAe,GACvBD,EAAQ/I,MAAM8I,EAAQA,KACvBG,OAAOrJ,OAET,CAGD,MAAMmJ,EAAU,IAAIV,GAAa,GACjCC,QAAQN,GAAG,UAAW,KAClBe,EAAQd,aAEZc,EAAQ/I,MAAMsI,QAAQY,MAAOZ,QAAQa,SAG7C,WACQjI,KAAK6G,WAKLqB,WAAW,KACPd,QAAQe,KAAK,IACd,KAGX,kBAAkBC,EAAUC,EAAepB,EAAQqB,EAAWC,EAAOtC,EAAiBuC,MAClF,IAAIC,EACyB,iBAAlBJ,GACPI,EAAM,CACFlF,GAAI8E,EACJpB,OAAQA,GAERqB,IACAG,EAAIH,UAAYA,GAEhBC,EAAOtC,EAAiBuC,OACxBC,EAAIC,UAAW,GAEfH,EAAOtC,EAAiB0C,YACxBF,EAAIG,eAAgB,IAIxBH,EAAMJ,EAEVD,EAASS,SAAU,EACnBT,EAASU,QAAU5C,EAAa6C,UAAUN,EAAIxB,QAAQ,EAAMwB,EAAIH,WAC3DF,EAASlD,OACVkD,EAASlD,KAAO,IAEpBkD,EAASlD,KAAK8B,MAAQyB,EACtBzI,KAAKgJ,aAAaZ,GAEtB,qBAAqBa,EAAMC,EAASC,GAChCnJ,KAAKoJ,YAAY,gBAAiBH,EAAMC,EAASC,GAErD,gBAAgBE,GACZ,MAAMjB,EAAW,IAAIlF,EAAWoG,SAASD,GACzC,IACI,GAAwB,eAApBA,EAAQE,QAA0B,CAClC,IAAIN,EAAOI,EAAQG,UAOnB,GANkC,kBAAvBP,EAAKQ,gBACZzJ,KAAK0G,qBAAuBuC,EAAKQ,eAED,kBAAzBR,EAAKS,kBACZ1J,KAAK2G,uBAAyBsC,EAAKS,iBAEf,SAApBT,EAAKU,WACL3J,KAAK4J,kBAAkBxB,EAAU,KAAM,2CAA4C,KAAMnC,EAAiB0C,eAEzG,CACD,MAAMkB,EAAqBzB,EAC3ByB,EAAmB3E,KAAO,GAC1BlF,KAAK8J,kBAAkBD,EAAoBZ,QAGtB,WAApBI,EAAQE,QACbvJ,KAAK+J,cAAc3B,EAAUiB,EAAQG,WAEZ,WAApBH,EAAQE,QACbvJ,KAAKgK,cAAc5B,EAAUiB,EAAQG,WAEZ,eAApBH,EAAQE,QACbvJ,KAAKiK,kBAAkB7B,EAAUiB,EAAQG,WAEhB,cAApBH,EAAQE,QACbvJ,KAAKkK,iBAAiB9B,EAAUiB,EAAQG,WAEf,YAApBH,EAAQE,QACbvJ,KAAKmK,eAAe/B,EAAUiB,EAAQG,WAEb,mBAApBH,EAAQE,QACbvJ,KAAKoK,sBAAsBhC,EAAUiB,EAAQG,WAEpB,2BAApBH,EAAQE,QACbvJ,KAAKqK,8BAA8BjC,EAAUiB,EAAQG,WAE5B,4BAApBH,EAAQE,QACbvJ,KAAKsK,+BAA+BlC,EAAUiB,EAAQG,WAE7B,sBAApBH,EAAQE,QACbvJ,KAAKuK,yBAAyBnC,EAAUiB,EAAQG,WAEvB,aAApBH,EAAQE,QACbvJ,KAAKwK,gBAAgBpC,EAAUiB,EAAQG,WAEd,SAApBH,EAAQE,QACbvJ,KAAKyK,YAAYrC,EAAUiB,EAAQG,WAEV,WAApBH,EAAQE,QACbvJ,KAAK0K,cAActC,EAAUiB,EAAQG,WAEZ,YAApBH,EAAQE,QACbvJ,KAAK2K,eAAevC,EAAUiB,EAAQG,WAEb,aAApBH,EAAQE,QACbvJ,KAAK4K,gBAAgBxC,EAAUiB,EAAQG,WAEd,oBAApBH,EAAQE,QACbvJ,KAAK6K,uBAAuBzC,EAAUiB,EAAQG,WAErB,iBAApBH,EAAQE,QACbvJ,KAAK8K,oBAAoB1C,EAAUiB,EAAQG,WAElB,SAApBH,EAAQE,QACbvJ,KAAK+K,YAAY3C,EAAUiB,EAAQG,WAEV,UAApBH,EAAQE,QACbvJ,KAAKgL,aAAa5C,EAAUiB,EAAQG,WAEX,eAApBH,EAAQE,QACbvJ,KAAKiL,kBAAkB7C,EAAUiB,EAAQG,WAEhB,WAApBH,EAAQE,QACbvJ,KAAKkL,cAAc9C,EAAUiB,EAAQG,WAEZ,cAApBH,EAAQE,QACbvJ,KAAKmL,iBAAiB/C,EAAUiB,EAAQG,WAEf,gBAApBH,EAAQE,QACbvJ,KAAKoL,mBAAmBhD,EAAUiB,EAAQG,WAEjB,kBAApBH,EAAQE,QACbvJ,KAAKqL,qBAAqBjD,EAAUiB,EAAQG,WAEnB,WAApBH,EAAQE,QACbvJ,KAAKsL,cAAclD,EAAUiB,EAAQG,WAEZ,YAApBH,EAAQE,QACbvJ,KAAKuL,eAAenD,GAEK,qBAApBiB,EAAQE,QACbvJ,KAAKwL,wBAAwBpD,EAAUiB,EAAQG,WAEtB,aAApBH,EAAQE,QACbvJ,KAAKyL,gBAAgBrD,EAAUiB,EAAQG,WAEd,kBAApBH,EAAQE,QACbvJ,KAAK0L,qBAAqBtD,EAAUiB,EAAQG,WAEnB,gBAApBH,EAAQE,QACbvJ,KAAK2L,mBAAmBvD,EAAUiB,EAAQG,WAEjB,gBAApBH,EAAQE,QACbvJ,KAAK4L,mBAAmBxD,EAAUiB,EAAQG,WAEjB,kBAApBH,EAAQE,QACbvJ,KAAK6L,qBAAqBzD,EAAUiB,EAAQG,WAEnB,kBAApBH,EAAQE,QACbvJ,KAAK8L,qBAAqB1D,EAAUiB,EAAQG,WAEnB,uBAApBH,EAAQE,QACbvJ,KAAK+L,0BAA0B3D,EAAUiB,EAAQG,WAExB,uBAApBH,EAAQE,QACbvJ,KAAKgM,0BAA0B5D,EAAUiB,EAAQG,WAExB,eAApBH,EAAQE,QACbvJ,KAAKiM,kBAAkB7D,EAAUiB,EAAQG,WAEhB,gBAApBH,EAAQE,QACbvJ,KAAKkM,mBAAmB9D,EAAUiB,EAAQG,WAG1CxJ,KAAKmM,cAAc9C,EAAQE,QAASnB,EAAUiB,EAAQG,WAG9D,MAAO1H,GACH9B,KAAK4J,kBAAkBxB,EAAU,KAAM,WAAY,CAAEgE,WAAYtK,EAAEgH,QAASuD,OAAQvK,EAAEwK,OAASrG,EAAiB0C,YAGxH,kBAAkBP,EAAUa,GAExBb,EAASlD,KAAKqH,gCAAiC,EAE/CnE,EAASlD,KAAKsH,mCAAoC,EAElDpE,EAASlD,KAAKuH,6BAA8B,EAE5CrE,EAASlD,KAAKwH,kCAAmC,EAEjDtE,EAASlD,KAAKyH,2BAA4B,EAE1CvE,EAASlD,KAAK0H,kBAAmB,EAEjCxE,EAASlD,KAAK2H,qBAAsB,EAEpCzE,EAASlD,KAAK4H,sBAAuB,EAErC1E,EAASlD,KAAK6H,8BAA+B,EAE7C3E,EAASlD,KAAK8H,4BAA6B,EAE3C5E,EAASlD,KAAK+H,4BAA6B,EAE3C7E,EAASlD,KAAKgI,wBAAyB,EAEvC9E,EAASlD,KAAKiI,0BAA2B,EAEzC/E,EAASlD,KAAKkI,gCAAiC,EAE/ChF,EAASlD,KAAKmI,8BAA+B,EAE7CjF,EAASlD,KAAKoI,0BAA2B,EAEzClF,EAASlD,KAAKqI,kCAAmC,EAEjDnF,EAASlD,KAAKsI,8BAA+B,EAE7CpF,EAASlD,KAAKuI,mBAAoB,EAElCrF,EAASlD,KAAKwI,iCAAkC,EAEhDtF,EAASlD,KAAKyI,uBAAwB,EAEtCvF,EAASlD,KAAK0I,0BAA2B,EAEzCxF,EAASlD,KAAK2I,yBAA0B,EAExCzF,EAASlD,KAAK4I,2BAA4B,EAE1C1F,EAASlD,KAAK6I,4BAA6B,EAC3C/N,KAAKgJ,aAAaZ,GAEtB,kBAAkBA,EAAUa,GACxBjJ,KAAKgJ,aAAaZ,GAClBpI,KAAK+G,WAET,cAAcqB,EAAUa,GACpBjJ,KAAKgJ,aAAaZ,GAEtB,cAAcA,EAAUa,GACpBjJ,KAAKgJ,aAAaZ,GAEtB,iBAAiBA,EAAUa,GACvBjJ,KAAKgJ,aAAaZ,GAEtB,eAAeA,EAAUa,GACrBjJ,KAAKgJ,aAAaZ,GAEtB,sBAAsBA,EAAUa,GAC5BjJ,KAAKgJ,aAAaZ,GAEtB,8BAA8BA,EAAUa,GACpCjJ,KAAKgJ,aAAaZ,GAEtB,+BAA+BA,EAAUa,GACrCjJ,KAAKgJ,aAAaZ,GAEtB,yBAAyBA,EAAUa,GAC/BjJ,KAAKgJ,aAAaZ,GAEtB,gBAAgBA,EAAUa,GACtBjJ,KAAKgJ,aAAaZ,GAEtB,YAAYA,EAAUa,GAClBjJ,KAAKgJ,aAAaZ,GAEtB,cAAcA,EAAUa,GACpBjJ,KAAKgJ,aAAaZ,GAEtB,eAAeA,EAAUa,GACrBjJ,KAAKgJ,aAAaZ,GAEtB,gBAAgBA,EAAUa,GACtBjJ,KAAKgJ,aAAaZ,GAEtB,uBAAuBA,EAAUa,GAC7BjJ,KAAKgJ,aAAaZ,GAEtB,oBAAoBA,EAAUa,GAC1BjJ,KAAKgJ,aAAaZ,GAEtB,YAAYA,EAAUa,GAClBjJ,KAAKgJ,aAAaZ,GAEtB,aAAaA,EAAUa,GACnBjJ,KAAKgJ,aAAaZ,GAEtB,cAAcA,EAAUa,GACpBjJ,KAAKgJ,aAAaZ,GAEtB,eAAeA,GACXpI,KAAKgJ,aAAaZ,GAEtB,wBAAwBA,EAAUa,GAC9BjJ,KAAKgJ,aAAaZ,GAEtB,kBAAkBA,EAAUa,GACxBjJ,KAAKgJ,aAAaZ,GAEtB,cAAcA,EAAUa,GACpBjJ,KAAKgJ,aAAaZ,GAEtB,iBAAiBA,EAAUa,GACvBjJ,KAAKgJ,aAAaZ,GAEtB,mBAAmBA,EAAUa,GACzBjJ,KAAKgJ,aAAaZ,GAEtB,qBAAqBA,EAAUa,GAC3BjJ,KAAKgJ,aAAaZ,GAEtB,gBAAgBA,EAAUa,GACtBjJ,KAAKgJ,aAAaZ,GAEtB,qBAAqBA,EAAUa,GAC3BjJ,KAAKgJ,aAAaZ,GAEtB,mBAAmBA,EAAUa,GACzBjJ,KAAKgJ,aAAaZ,GAEtB,mBAAmBA,EAAUa,GACzBjJ,KAAKgJ,aAAaZ,GAEtB,qBAAqBA,EAAUa,GAC3BjJ,KAAKgJ,aAAaZ,GAEtB,qBAAqBA,EAAUa,GAC3BjJ,KAAKgJ,aAAaZ,GAEtB,0BAA0BA,EAAUa,GAChCjJ,KAAKgJ,aAAaZ,GAEtB,0BAA0BA,EAAUa,GAChCjJ,KAAKgJ,aAAaZ,GAEtB,kBAAkBA,EAAUa,GACxBjJ,KAAKgJ,aAAaZ,GAEtB,mBAAmBA,EAAUa,GACzBjJ,KAAKgJ,aAAaZ,GAKtB,cAAcmB,EAASnB,EAAUa,GAC7BjJ,KAAK4J,kBAAkBxB,EAAU,KAAM,uBAAwB,KAAMnC,EAAiB0C,WAG1F,4BAA4BrE,GACxB,OAAItE,KAAKuG,uBACEvG,KAAK0G,qBAAuBpC,EAAOA,EAAO,EAE9CtE,KAAK0G,qBAAuBpC,EAAO,EAAIA,EAElD,4BAA4BA,GACxB,OAAItE,KAAKuG,uBACEvG,KAAK0G,qBAAuBpC,EAAOA,EAAO,EAE9CtE,KAAK0G,qBAAuBpC,EAAO,EAAIA,EAElD,8BAA8BC,GAC1B,OAAIvE,KAAKwG,yBACExG,KAAK2G,uBAAyBpC,EAASA,EAAS,EAEpDvE,KAAK2G,uBAAyBpC,EAAS,EAAIA,EAEtD,8BAA8BA,GAC1B,OAAIvE,KAAKwG,yBACExG,KAAK2G,uBAAyBpC,EAASA,EAAS,EAEpDvE,KAAK2G,uBAAyBpC,EAAS,EAAIA,EAEtD,4BAA4ByJ,GACxB,OAAIhO,KAAK4G,sBAAwB5G,KAAKyG,sBAC9BzG,KAAK4G,oBACEV,EAAa+H,SAASD,GAGtB9H,EAAagI,SAASF,GAG9BA,EAEX,4BAA4BG,GACxB,OAAInO,KAAKyG,wBAA0BzG,KAAK4G,oBAChC5G,KAAKyG,sBACEP,EAAa+H,SAASE,GAGtBjI,EAAagI,SAASC,GAG9BA,EAGX,gBAAgBpP,GACa,UAArBqI,QAAQgH,WACJ,UAAUC,KAAKtP,KACfA,EAAOA,EAAK,GAAGuP,cAAgBvP,EAAKO,OAAO,IAE/CP,EAAOA,EAAK+D,QAAQ,MAAO,MAE/B/D,EAAOwP,UAAUxP,GACjB,IAAIyP,EAAM,IAAIpL,EAAMqL,IAAI,SAExB,OADAD,EAAIE,SAAW3P,EACRyP,EAAI5M,WAEf,gBAAgB+M,GACZ,IAAIH,EAAM,IAAIpL,EAAMqL,IAAIE,GACpBC,EAAIC,mBAAmBL,EAAIE,UAO/B,MANyB,UAArBtH,QAAQgH,WACJ,eAAeC,KAAKO,KACpBA,EAAIA,EAAE,GAAGN,cAAgBM,EAAEtP,OAAO,IAEtCsP,EAAIA,EAAE9L,QAAQ,MAAO,OAElB8L,EAKX,iBAAiB3H,EAAQ6H,EAAY7F,GACjC,OAAOhC,EAAOnE,QAAQoD,EAAa6I,kBAAkB,SAAU5M,EAAO6M,GAClE,OAAIF,GAAcE,EAAUzP,OAAS,GAAsB,MAAjByP,EAAU,GACzC7M,EAEJ8G,EAAK+F,IAAc/F,EAAKlM,eAAeiS,GAC1C/F,EAAK+F,GACL7M,MAIhB+D,EAAa6I,iBAAmB,aAChC5R,EAAQ+I,aAAeA,G,6BCjsBvBrJ,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IACtD,MAAMwS,EACF,YAAYxR,GACRuC,KAAKkP,IAAM,EACXlP,KAAKvC,KAAOA,GAGpBN,EAAQ8R,QAAUA,EAelB9R,EAAQmM,SAdR,cAAuB2F,EACnB,YAAY5F,EAASP,GACjBpL,MAAM,YACNsC,KAAKmP,YAAc9F,EAAQ6F,IAC3BlP,KAAKuJ,QAAUF,EAAQE,QACnBT,GACA9I,KAAK6I,SAAU,EACf7I,KAAK8I,QAAUA,GAGf9I,KAAK6I,SAAU,IAc3B1L,EAAQI,MATR,cAAoB0R,EAChB,YAAYG,EAAOlK,GACfxH,MAAM,SACNsC,KAAKoP,MAAQA,EACTlK,IACAlF,KAAKkF,KAAOA,M,cCjCxBtI,EAAOO,QAAUC,QAAQ,Q,6BCKzBP,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IACtD,MAAM4S,EAAiB,EAAQ,GAC/BlS,EAAQ+I,aAAemJ,EAAenJ,aACtC/I,EAAQmI,iBAAmB+J,EAAe/J,iBAC1CnI,EAAQoI,gBAAkB8J,EAAe9J,gBACzCpI,EAAQQ,aAAe0R,EAAe1R,aACtCR,EAAQiI,eAAiBiK,EAAejK,eACxCjI,EAAQsI,YAAc4J,EAAe5J,YACrCtI,EAAQuI,YAAc2J,EAAe3J,YACrCvI,EAAQwI,gBAAkB0J,EAAe1J,gBACzCxI,EAAQ0I,YAAcwJ,EAAexJ,YACrC1I,EAAQ2I,kBAAoBuJ,EAAevJ,kBAC3C3I,EAAQ4I,kBAAoBsJ,EAAetJ,kBAC3C5I,EAAQqH,OAAS6K,EAAe7K,OAChCrH,EAAQ6G,WAAaqL,EAAerL,WACpC7G,EAAQyG,MAAQyL,EAAezL,MAC/BzG,EAAQsH,SAAW4K,EAAe5K,SAClCtH,EAAQ0H,WAAawK,EAAexK,WACpC1H,EAAQkG,OAASgM,EAAehM,OAChClG,EAAQ4H,OAASsK,EAAetK,OAChC5H,EAAQ6H,eAAiBqK,EAAerK,eACxC7H,EAAQ8I,iBAAmBoJ,EAAepJ,iBAC1C,MAAMqJ,EAAwB,EAAQ,IACtCnS,EAAQoS,oBAAsBD,EAAsBC,oBACpD,MAAMC,EAAS,EAAQ,IACvBrS,EAAQqS,OAASA,EACjB,MAAMtM,EAAa,EAAQ,GAC3B/F,EAAQI,MAAQ2F,EAAW3F,MAC3BJ,EAAQmM,SAAWpG,EAAWoG,SAC9B,MAAMmG,EAAY,EAAQ,IAC1BtS,EAAQuS,QAAUD,EAAUC,QAC5B,MAAMC,EAASH,EAAOG,OACtBxS,EAAQwS,OAASA,G,6BCjCjB,IAAIC,EAAa5P,MAAQA,KAAK4P,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAC1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAU3T,GAAS,IAAM4T,EAAKL,EAAUM,KAAK7T,IAAW,MAAOqF,GAAKqO,EAAOrO,IACpF,SAASyO,EAAS9T,GAAS,IAAM4T,EAAKL,EAAiB,MAAEvT,IAAW,MAAOqF,GAAKqO,EAAOrO,IACvF,SAASuO,EAAKtQ,GAAUA,EAAOyQ,KAAON,EAAQnQ,EAAOtD,OAAS,IAAIsT,GAAE,SAAUG,GAAWA,EAAQnQ,EAAOtD,UAAWgU,KAAKL,EAAWG,GACnIF,GAAML,EAAYA,EAAUU,MAAMb,EAASC,GAAc,KAAKQ,YAGtEzT,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IACtD,MAAMkU,EAAK,EAAQ,GACb5R,EAAO,EAAQ,GACf6R,EAAS,EAAQ,IACjBvB,EAAiB,EAAQ,GAC/B,IAAIwB,GACJ,SAAWA,GACPA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAc,IAAI,GAAK,MAChCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OALrC,CAMGA,EAAW1T,EAAQ0T,WAAa1T,EAAQ0T,SAAW,KACtD,MAAMrB,EACF,cACIxP,KAAK8Q,aAAe,GAExB,IAAIrI,EAAKsI,EAAQF,EAASG,KACtBvI,GAAY,KACZzI,KAAKiR,OAAOxI,EAAKsI,GAErB,QAAQtI,GACJzI,KAAKkR,IAAIzI,EAAKoI,EAASM,SAE3B,KAAK1I,GACDzI,KAAKkR,IAAIzI,EAAKoI,EAASO,MAE3B,MAAM3I,GACFzI,KAAKkR,IAAIzI,EAAKoI,EAAStP,OAE3B,UACI,GAAIvB,KAAKqR,eAAgB,CACrB,MAAMC,EAAWtR,KAAKqR,eAAeE,UAErC,OADAvR,KAAKqR,eAAiB,KACfC,EAGP,OAAOrB,QAAQC,UAMvB,OAAOzH,EAAKsI,EAAQF,EAASG,KAEzBvI,GAAY,GACRzI,KAAK8Q,aACL9Q,KAAK8Q,aAAapR,KAAK,CAAE+I,MAAKsI,UAEzB/Q,KAAKqR,gBACVrR,KAAKqR,eAAeH,IAAIzI,EAAKsI,GAOrC,MAAMS,EAAoBC,EAAcC,GAAmB,GACvD,MAAMC,EAAsC,iBAAjBF,EACvBA,EACCA,GAAgBzR,KAAK4R,qBAC1B,GAAI5R,KAAKqR,eAAgB,CACrB,MAAMQ,EAAU,CACZL,qBACAG,cACAD,oBAEJ1R,KAAKqR,eAAeS,MAAMD,GAASpB,KAAK,KAEpC,GAAIzQ,KAAK8Q,aAAc,CACnB,MAAMiB,EAAO/R,KAAK8Q,aAClB9Q,KAAK8Q,aAAe,KACpBiB,EAAKvT,QAAQwT,GAAQhS,KAAKiR,OAAOe,EAAKvJ,IAAKuJ,EAAKjB,YAKhE,KAAKkB,EAAaN,EAAaO,GAE3BlS,KAAK8Q,aAAe9Q,KAAK8Q,cAAgB,GACzC9Q,KAAKqR,eAAiB,IAAIc,EAAeF,EAAaC,GACtDlS,KAAK4R,qBAAuBD,GAGpCxU,EAAQqS,OAASA,EACjBrS,EAAQwS,OAAS,IAAIH,EAKrB,MAAM2C,EACF,YAAYF,EAAaG,GAErBpS,KAAKqS,mBAAqB,IAAMrS,KAAKuR,UACrCvR,KAAKsS,aAAeL,EACpBjS,KAAKuS,cAAgBH,EACrBpS,KAAKwS,aAAe3B,EAASO,KAC7BpR,KAAKyS,gBAAkB,CAACC,EAAQC,KAC5B3S,KAAKuR,UAGLoB,EAAOA,GAAQ,EACfA,GAAQ,IACRvL,QAAQe,KAAKwK,IAGrB,MAAMd,GACF,OAAOjC,EAAU5P,UAAM,OAAQ,GAAQ,YAInC,GAHAA,KAAKwS,aAAeX,EAAQL,mBAC5BxR,KAAK4S,kBAAoBf,EAAQH,iBAE7BG,EAAQF,YACR,GAAK5S,EAAK8T,WAAWhB,EAAQF,aAGxB,CACD,MAAMmB,EAAcC,GAAO/S,KAAKgT,QAAQ,oCAAoCnB,EAAQF,uBAAuBoB,EAAInR,eAAgBiP,EAAStP,OACxI,UAuFG0R,EAtFqBlU,EAAKmU,QAAQrB,EAAQF,aAuFtD,IAAI1B,QAAQ,CAACC,EAASC,KACzBS,EAAOqC,EAAQF,IACPA,EACA5C,EAAO4C,GAGP7C,SA5FQlQ,KAAKkR,IAAI,iCAAkCL,EAASO,MACpDpR,KAAKkR,IAAIW,EAAQF,YAAc,KAAMd,EAASO,MAC9CpR,KAAKmT,eAAiBxC,EAAGyC,kBAAkBvB,EAAQF,aACnD3R,KAAKqT,cACLrT,KAAKsT,yBACLtT,KAAKmT,eAAerM,GAAG,QAASiM,IAC5BD,EAAYC,KAGpB,MAAOA,GACHD,EAAYC,SAhBhB/S,KAAKkR,IAAI,yCAAyCW,EAAQF,cAAed,EAAStP,OA2FtG,IAAuB0R,KArEnB,cACI,IAAIxU,EAAI,IAAI8U,KAEZ,MAAMC,EADW/U,EAAEgV,iBAAmB,IAAM,GAAGhV,EAAEiV,cAAgB,IAAM,IAAMjV,EAAEkV,aACzC,KAAOC,IAC7C5T,KAAKkR,IAAIsC,EAAmB,KAAM3C,EAASM,SAAS,GAExD,yBACI/J,QAAQyM,YAAY,aAAc7T,KAAKqS,oBACvCjL,QAAQyM,YAAY,UAAW7T,KAAKyS,iBACpCrL,QAAQyM,YAAY,SAAU7T,KAAKyS,iBAEvC,0BACIrL,QAAQ0M,eAAe,aAAc9T,KAAKqS,oBAC1CjL,QAAQ0M,eAAe,UAAW9T,KAAKyS,iBACvCrL,QAAQ0M,eAAe,SAAU9T,KAAKyS,iBAE1C,UACI,OAAO,IAAIxC,QAAQC,IACflQ,KAAK+T,0BACD/T,KAAKmT,gBACLnT,KAAKmT,eAAea,IAAI9D,GACxBlQ,KAAKmT,eAAiB,MAGtBjD,MAIZ,IAAIzH,EAAKsI,EAAOW,GAAmB,GAC/B,GAAI1R,KAAKwS,eAAiB3B,EAASoD,KAAnC,CAMA,GAHIlD,GAAS/Q,KAAKwS,cACdxS,KAAKgT,QAAQvK,EAAKsI,GAElB/Q,KAAKuS,cAAe,CACpB,MAAM2B,EAAQnD,IAAUF,EAAStP,MAAQmG,QAAQV,MAC7C+J,IAAUF,EAASO,KAAO1J,QAAQyM,KAC9B,KACJD,GACAA,EAAME,EAAgB3L,IAI1BsI,IAAUF,EAAStP,QACnBkH,EAAM,IAAIoI,EAASE,OAAWtI,KAE9BzI,KAAK4S,mBAAqBlB,IAC1BjJ,EAAM,IAAMmL,IAA2B,KAAOnL,GAE9CzI,KAAKmT,gBACLnT,KAAKmT,eAAezR,MAAM+G,IAGlC,QAAQA,EAAKsI,GAET,GAAItI,EAAIlJ,OAAS,KAAM,CACnB,MAAM8U,IAAkB5L,EAAItG,MAAM,cAClCsG,EAAMA,EAAInJ,OAAO,EAAG,MAAQ,QACxB+U,IACA5L,GAAY,MAGpB,GAAIzI,KAAKsS,aAAc,CACnB,MAAMlD,EAAQ,IAAIkF,EAAe7L,EAAKsI,GACtC/Q,KAAKsS,aAAalD,KAgB9B,MAAMkF,UAAuBjF,EAAe5J,YACxC,YAAYgD,EAAKsI,GAIbrT,MAAM+K,EAHWsI,IAAUF,EAAStP,MAAQ,SACxCwP,IAAUF,EAASO,KAAO,UACtB,WAKhB,SAASgD,EAAgBtT,GACrB,OAAOA,EAAIgC,QAAQ,aAAc,IAGrC,SAAS8Q,IACL,IAAInV,EAAI,IAAI8U,KAKZ,OAJiBgB,EAAW,EAAGC,OAAO/V,EAAEgW,gBAIpB,IAHDF,EAAW,EAAGC,OAAO/V,EAAEiW,kBAGD,IAFtBH,EAAW,EAAGC,OAAO/V,EAAEkW,kBAEoB,IADtCJ,EAAW,EAAGC,OAAO/V,EAAEmW,uBACyC,OAE5F,SAASL,EAAWM,EAAkBC,GAClC,OAAIA,EAAYvV,QAAUsV,EACfC,EAGAN,OAAO,IAAIO,OAAOF,GAAoBC,GAAatT,OAAOqT,GAlBzE1X,EAAQmX,eAAiBA,EAIzBnX,EAAQiX,gBAAkBA,G,8EChP1B,aA+CA,uBAcI,YAAYY,GACRhV,KAAKsD,KAAO,EAAAzE,OAAOsB,QAAQ6U,EAAM,QACjChV,KAAKiV,IAAM,EAAApW,OAAOsB,QAAQ6U,EAAM,OAChChV,KAAKkV,SAAWtV,SAAS,EAAAf,OAAOsB,QAAQ6U,EAAM,aAC9ChV,KAAKvC,KAAO,EAAAoB,OAAOsB,QAAQ6U,EAAM,QACjChV,KAAKvD,MAAQ,EAAAoC,OAAOsB,QAAQ6U,EAAM,SAClChV,KAAKnC,SAAW,EAAAgB,OAAOsB,QAAQ6U,EAAM,aACrChV,KAAKmV,SAAW,EAAAtW,OAAOsB,QAAQ6U,EAAM,UACrChV,KAAKoV,UAAY,EAAAvW,OAAOsB,QAAQ6U,EAAM,WACtChV,KAAKqV,YAAc,EAAAxW,OAAOsB,QAAQ6U,EAAM,eACxChV,KAAKsV,SAAW,GAEhBtV,KAAKuV,UAAY,EAAA1W,OAAOsB,QAAQ6U,EAAM,YAGnC,aAAaA,GAChBhV,KAAKvD,MAAQ,EAAAoC,OAAOsB,QAAQ6U,EAAM,SAC5B,EAAAnW,OAAOsB,QAAQ6U,EAAM,kBACvBhV,KAAKvC,KAAO,EAAAoB,OAAOsB,QAAQ6U,EAAM,aAErChV,KAAKoV,UAAY,EAAAvW,OAAOsB,QAAQ6U,EAAM,WACtChV,KAAKqV,YAAc,EAAAxW,OAAOsB,QAAQ6U,EAAM,eACxChV,KAAKuV,UAAY,EAAA1W,OAAOsB,QAAQ6U,EAAM,YAGnC,aACH,OAAOhV,KAAKkV,SAAW,GACJ,UAAflV,KAAKvD,OACJuD,KAAKoV,UAAiC,UAArBpV,KAAKqV,aAAgD,QAArBrV,KAAKqV,aAGxD,qBACH,MAAMG,EAA8B,CAChClS,KAAMtD,KAAKiV,IACXQ,aAAczV,KAAK0V,SAAW1V,KAAKiV,IACnCxY,WAAuB,IAAfuD,KAAKvD,MAAoB,YAAcuD,KAAKvD,MACpDgB,KAAMuC,KAAKvC,KACXkY,iBAAkB,CACdC,KAAM5V,KAAKqV,aAEftR,mBAAoB/D,KAAKuD,IAK7B,OAHIvD,KAAKqV,YAGFG,IAgBF,EAAAK,QAA8B,MAIvC,YAAmB/M,EAAiBzE,GAChCxH,OAAOmG,eAAehD,KAAM,OAAQ,CAChCzD,IAAK,IAAOyD,KAAK8V,YAAoBxS,OAEzCzG,OAAOmG,eAAehD,KAAM,UAAW,CACnCzD,IAAK,IAAMuM,IAEfjM,OAAOmG,eAAehD,KAAM,SAAU,CAClCzD,IAAK,IAAM8H,IAEf9C,MAAMwU,kBAAkB/V,KAAMA,KAAK8V,aAGhC,WACH,MAAO,GAAG9V,KAAK8I,iBAAiB9I,KAAKqE,YAG7CxH,OAAOmZ,eAAe,EAAAH,QAAgBhZ,OAAOoZ,OAAO1U,MAAMzE,YAC1D,EAAA+Y,QAAQ/Y,UAAUgZ,YAAc,EAAAD,S,cChJhCjZ,EAAOO,QAAUC,QAAQ,W,iXCEzB,cACA,OACA,QACA,OACA,OAEA,MAAa8Y,EA6BF,mBAAmBxX,EAAcyX,GACpC,OAAO,IAAIlG,QAAQ,CAACC,EAASC,KACzB,MAAMiG,EAASC,EAAI1O,aAAc2O,OAEjCF,EAAOG,KAAK,QAAUzU,IAClB,MAAM6Q,EAAgB7Q,EAAU6Q,KAC5BA,GAAkB,eAATA,GAAoC,WAATA,GAEvB,WAATA,GAEAjL,QAAQwJ,IAAI,QAAQiF,KAAQzX,2BAEhCwR,GAAQ,KAGRxI,QAAQwJ,IAAI,QAAQiF,KAAQzX,sBAA0BoD,GACtDqO,EAAOrO,IAEXsU,EAAOI,UAGXJ,EAAOrO,OAAOrJ,EAAMyX,EAAM,KAGtBjG,GAAQ,GACRkG,EAAOI,YAeZ,qBAAqB9X,EAAcyX,GACtC,GAAID,EAAeO,sBAAsBN,GAAO,CAC5C,MAAMO,EAAQR,EAAeS,sBAC7B,IAAIC,EAAK,EAKT,OAAO,IAAI3G,QAAQ,CAACC,EAASC,MACzB,SAASG,EAAK5R,EAAcyX,GACxBD,EAAeW,YAAYnY,EAAMyX,GAAM1F,KAAMqG,IACrCA,EACA5G,EAAQ4G,KACCF,IAAOF,EAAMnX,OACtB2Q,GAAQ,GAERI,EAAK5R,EAAMgY,EAAME,MAEtBG,MAAOhE,IACN5C,EAAO4C,KAGfzC,CAAK5R,EAAMgY,EAAME,MAIrB,OAAOI,EAAYC,MAAMvY,EAAMyX,GAgBhC,sBACH,IAAEe,EAAG,IAAEC,EAAG,SAAEC,EAAW,EAAC,YAAEC,GAAc,EAAK,MAAEC,GAAQ,GAQvDnB,EAAOD,EAAeqB,aACtB,IAAIC,EAAY,GAChB,MAAMC,EAAY,GACZC,EAASN,EACTO,EAAUzB,EAAeO,sBAAsBN,GAAQD,EAAe0B,cAAgBZ,EAAYA,YACxG,OAAO,IAAI/G,QAAQ,CAACC,EAASC,KACrBuH,GAAU,EACVxH,EAAQsH,GAGZ,SAASlH,EAAK5R,EAAcyX,GACxB,MAAM0B,EAAYzQ,QAAQ0Q,SAC1BH,EAAQjZ,EAAMyX,GAAM1F,KAAMqG,IACtB,MAAMiB,EAAU3Q,QAAQ0Q,OAAOD,GAa/B,GAZIf,EACAW,EAAU/X,KAAKhB,IAEX2Y,GAAgBG,EAAUjY,OAAS,GAClCb,IAAU,EAAI8Y,EAAUA,EAAUjY,OAAS,KACxC+X,GACA5P,QAAQwJ,IAAI,qEAEhBsG,EAAY,IAEhBA,EAAU9X,KAAKhB,IAEf4Y,EAAO,CACP,MAAMU,GAAMD,EAAQ,GAAK,KAAKE,QAAQ,GAChCC,EAAI,GAAGH,EAAQ,OAAOC,MAC5BtQ,QAAQwJ,IAAI,2BAA2BiF,KAAQzX,MAC1CoY,EAAQ,OAAS,QAAU,YAAYU,EAAUjY,aAAamY,YAAiBQ,KAEpFV,EAAUjY,SAAWmY,EACrBxH,EAAQsH,GACD9Y,EAAOyY,EACd7G,EAAK5R,EAAO,EAAGyX,GAEfhG,EAAO,IAAI5O,MAAM,cAAciW,EAAUjY,aAAamY,cAE3DX,MAAOhE,IACN5C,EAAO4C,KAGfzC,CAAK4G,EAAKf,KAQX,0BACH,IAAEe,EAAG,IAAEC,EAAG,SAAEC,EAAW,EAAC,YAAEC,GAAc,EAAK,MAAEC,GAAQ,GAQvDnB,EAAOD,EAAeqB,YAAapO,EAAK,M,yCACxC,IAAIqO,EAAY,GAChB,MAAMC,EAAY,GACZC,EAASN,EACf,IAAIpQ,EAAQ,KACZ,GAAI0Q,GAAU,EACV,OAAO,IAAIzH,QAASC,IAAcA,EAAQsH,KAE9C,MAAMG,EAAUzB,EAAeO,sBAAsBN,GAAQD,EAAe0B,cAAgBZ,EAAYA,YACxG,IAAK,IAAItY,EAAOwY,EAAKxY,GAAQyY,EAAKzY,IAAQ,CACtC,GAAIgZ,GAAU,EACV,OAEJ,MAAMS,EAAY/Q,QAAQ0Q,SA4B1B,SA3BMH,EAAQjZ,EAAMyX,GACf1F,KAAMqG,IACH,MAAMiB,EAAU3Q,QAAQ0Q,OAAOK,GAa/B,GAZIrB,EACAW,EAAU/X,KAAKhB,IAEX2Y,GAAgBG,EAAUjY,OAAS,GAClCb,IAAU,EAAI8Y,EAAUA,EAAUjY,OAAS,KACxC+X,GACA5P,QAAQwJ,IAAI,gEAEhBsG,EAAY,IAEhBA,EAAU9X,KAAKhB,IAEf4Y,EAAO,CACP,MAAMU,GAAMD,EAAQ,GAAK,KAAKE,QAAQ,GAChCC,EAAI,GAAGH,EAAQ,OAAOC,MAC5BtQ,QAAQwJ,IAAI,2BAA2BiF,KAAQzX,MAC1CoY,EAAQ,OAAS,QAAU,YAAYU,EAAUjY,aAAamY,YAAmBQ,KAE1FnF,IACIuE,GACA5P,QAAQV,MAAM,kBAAmB+L,EAAIjK,SAEzC9B,EAAQ+L,IAEZ/L,GAAUwQ,EAAUjY,SAAWmY,EAC/B,MAGR,OAAKvO,GASInC,GAAUwQ,EAAUjY,SAAWmY,GAChCvO,EAAGqO,GAEA,MAXA,IAAIvH,QAAQ,CAACC,EAASC,KACpBnJ,GAAUwQ,EAAUjY,SAAWmY,EAGhCvH,EAAOnJ,GAAgB,cAAcwQ,EAAUjY,aAAamY,WAF5DxH,EAAQsH,QAed,0BAON,GAAqC,KAAjCtB,EAAekC,cAAsB,CACrC,MAAMC,EAAoBC,EAAeC,KACnCnK,EAAWoK,EAAGpK,WACdqK,EAAqB,UAAbrK,EACRsK,EAAqB,WAAbtK,EAMTqK,GAAUC,IAASL,EAAkB,MAG/BA,EAAkB,YAGzBnC,EAAekC,cAAgBK,EAAQ,mBAAqB,2BAE5DvC,EAAeyC,uBAAyB,iEACjCD,GAASL,EAAkB,SAElCnC,EAAekC,cAAgB,mCAC/BlC,EAAeyC,uBAAyB,qDAExCzC,EAAekC,cAAgB,KAb/BlC,EAAekC,cAAgB,UAC/BlC,EAAeyC,uBAAyB,gDAehD,OAAOzC,EAAekC,cAiBnB,4BAA4B1Z,EAAcka,EAAc,IAAKC,EAAY,IAAMC,GAAW,EAAMxB,GAAQ,GAC3G,MAAMyB,EAAM7C,EAAe8C,mBAAmBlW,QAAQ,QAASpE,EAAKkD,YAEpE,GADI0V,GAAS5P,QAAQwJ,IAAI6H,GACrBD,GAAqB,MAARC,EACb,OAAO7C,EAAe+C,gBAAgBva,EAAMwX,EAAeqB,aAAa,EAAMqB,EAAaC,GAG/F,MAAMK,EAAShD,EAAeyC,uBAAuB7V,QAAQ,QAASpE,EAAKkD,YACvE0V,GAAS5P,QAAQwJ,IAAIgI,GACzB,MAAMC,EAAM,IAAIC,OAAOF,GACjBG,EAAc9F,KAAK+F,MACzB,IAAIC,GAAQ,EAEZ,OADAX,EAAcY,KAAKrC,IAAIyB,EAAa,GAC7B,IAAI3I,SAAQ,SAASwJ,EAASvJ,EAASC,GAC1C,GAAY,MAAR4I,EACA,OAAO5I,EAAO,IAAI5O,MAAM,WAE5BmY,EAAcra,KAAK0Z,EAAK,CAAC/R,EAAOiB,KAC5B,GAAIjB,IAAU+R,EAAIY,WAAW,QAEzB,OAAOxJ,EAAOnJ,GACX,GAAImS,EAAI9K,KAAKpG,GAEhB,OADIqP,GAAS5P,QAAQwJ,IAAIjJ,EAAO9F,MAAMgX,GAAKS,KAAK,OACzC1J,IACJ,CACCqJ,IAEAA,GAAQ,GAEZ,MAAMrB,EAAI3E,KAAK+F,MAAQD,EACvB,KAAInB,EAAIW,GAMJ,OAAO1I,EAAO,IAAI5O,MAAM,YALpB+V,GAAS5P,QAAQwJ,IAAI,6CAA6C0H,kBAA4BV,OAClGhQ,WAAW,KACPuR,EAASvJ,EAASC,IACnByI,SAcb,2BAA2BiB,GACjCA,EAAKR,YAAc9F,KAAK+F,MACxB,MAAM3B,EAAUkC,EAAKC,sBAAwB5D,EAAe0B,cAAgB1B,EAAeW,YAC3F,OAAO,IAAI5G,SAAQ,SAASwJ,EAASvJ,EAASC,GAC1CwH,EAAQkC,EAAKnb,KAAMmb,EAAK1D,MACnB1F,KAAMqG,IAEH,GAAIA,IAAU+C,EAAKE,cACf,OAAO7J,IAEP,MAAM,IAAI3O,MAAM,cAErBwV,MAAOjV,IACN,GAAkB,aAAdA,EAAEgH,QACF,OAAOqH,EAAOrO,GAGd,KADUyR,KAAK+F,MAAQO,EAAKR,YACpBQ,EAAKhB,WAMT,OAAO1I,EAAO,IAAI5O,MAAM,YAJxB2G,WAAW,KACPuR,EAASvJ,EAASC,IACnB0J,EAAKjB,kBAiBzB,yBACHla,EAAMyX,EAAOD,EAAeqB,YAAaT,GAAQ,EACjDkD,GAAuB,EAAMpB,EAAc,IAAKC,EAAY,KAE5D,GADAD,EAAcY,KAAKrC,IAAIyB,EAAa,GAC/B1C,EAAeO,sBAAsBN,GAEnC,CACH,MAAM0D,EAAO,IAAII,EAAenD,EAAOpY,EAAMyX,EAAM6D,EAAsBpB,EAAaC,GACtF,OAAO3C,EAAegE,oBAAoBL,GAH1C,OAAO7C,EAAYmD,cAAczb,EAAMyX,EAAMW,EAAO8B,EAAaC,GAclE,uBACHna,EAAMyX,EAAOD,EAAeqB,YAAayC,GAAuB,EAChEpB,EAAc,IAAKC,EAAY,KAE/B,GADAD,EAAcY,KAAKrC,IAAIyB,EAAa,GAC/B1C,EAAeO,sBAAsBN,GAEnC,CACH,MAAM0D,EAAO,IAAII,GAAe,EAAMvb,EAAMyX,EAAM6D,EAAsBpB,EAAaC,GACrF,OAAO3C,EAAegE,oBAAoBL,GAH1C,OAAO7C,EAAYoD,oBAAoB1b,EAAMyX,EAAMyC,EAAaC,GAcjE,yBACHna,EAAMyX,EAAOD,EAAeqB,YAAayC,GAAuB,EAChEpB,EAAc,IAAKC,EAAY,KAE/B,GADAD,EAAcY,KAAKrC,IAAIyB,EAAa,GAC/B1C,EAAeO,sBAAsBN,GAEnC,CACH,MAAM0D,EAAO,IAAII,GAAe,EAAOvb,EAAMyX,EAAM6D,EAAsBpB,EAAaC,GACtF,OAAO3C,EAAegE,oBAAoBL,GAH1C,OAAO7C,EAAYqD,oBAAoB3b,EAAMyX,EAAMyC,EAAaC,GAU9D,6BACN,GAA+C,IAA3C3C,EAAeoE,iBAAiB/a,OAAc,CAG9C2W,EAAeoE,iBAAmB,CAAC,UAAW,YAAa,IAC3D,MAAMC,EAAS/B,EAAGgC,oBAClB3d,OAAO4d,KAAKF,GAAQ/b,QAASkc,IACzBH,EAAOG,GAAQlc,QAASmc,IAEhBA,EAAMC,UAAa,SAAWD,EAAME,OAAOvM,gBACqB,IAA5D4H,EAAeoE,iBAAiBQ,QAAQH,EAAMI,UAC9C7E,EAAeoE,iBAAiB5a,KAAKib,EAAMI,aAO/D,OAAO7E,EAAeoE,iBAYhB,6BAA6BnE,GACnC,OAAID,EAAe8E,qBAGV7E,GAAgC,cAAvBA,EAAK7H,eAClB4H,EAAeS,sBAAsBmE,QAAQ3E,IAAS,IAlcjD,EAAA6E,mBAAoB,EACX,EAAAzD,YAAc,UA8NpB,EAAAa,cAAgB,GAChB,EAAAO,uBAAyB,GA8L3B,EAAA2B,iBAA6B,GAhbhD,mBAwdA,MAAaL,EAET,YACoBF,EACArb,EACAyX,EAAeD,EAAeqB,YAC9BuC,GAAwB,EACxBlB,EAAsB,IACtBC,EAAoB,KALpB,KAAAkB,gBACA,KAAArb,OACA,KAAAyX,OACA,KAAA2D,wBACA,KAAAlB,cACA,KAAAC,YAPb,KAAAQ,YAAsB,EASzBrZ,KAAK4Y,YAAcY,KAAKrC,IAAInX,KAAK4Y,YAAa,IAVtD,oB,cCheAhc,EAAOO,QAAUC,QAAQ,S,gBCuQzBR,EAAOO,QAjQP,SAAe8d,GAsCd,SAASC,EAAYC,GACpB,IAAIC,EAAO,EAEX,IAAK,IAAIzb,EAAI,EAAGA,EAAIwb,EAAU5b,OAAQI,IACrCyb,GAASA,GAAQ,GAAKA,EAAQD,EAAUE,WAAW1b,GACnDyb,GAAQ,EAGT,OAAOE,EAAYC,OAAO/B,KAAKgC,IAAIJ,GAAQE,EAAYC,OAAOhc,QAW/D,SAAS+b,EAAYH,GACpB,IAAIM,EAEJ,SAASC,KAASzS,GAEjB,IAAKyS,EAAMC,QACV,OAGD,MAAMC,EAAOF,EAGPG,EAAOC,OAAO,IAAIvI,MAClByE,EAAK6D,GAAQJ,GAAYI,GAC/BD,EAAKG,KAAO/D,EACZ4D,EAAKI,KAAOP,EACZG,EAAKC,KAAOA,EACZJ,EAAWI,EAEX5S,EAAK,GAAKqS,EAAYW,OAAOhT,EAAK,IAEX,iBAAZA,EAAK,IAEfA,EAAKiT,QAAQ,MAId,IAAI3U,EAAQ,EACZ0B,EAAK,GAAKA,EAAK,GAAGnG,QAAQ,gBAAiB,CAACX,EAAO8E,KAElD,GAAc,OAAV9E,EACH,OAAOA,EAERoF,IACA,MAAM4U,EAAYb,EAAYc,WAAWnV,GACzC,GAAyB,mBAAdkV,EAA0B,CACpC,MAAM7U,EAAM2B,EAAK1B,GACjBpF,EAAQga,EAAUnf,KAAK4e,EAAMtU,GAG7B2B,EAAKoT,OAAO9U,EAAO,GACnBA,IAED,OAAOpF,IAIRmZ,EAAYgB,WAAWtf,KAAK4e,EAAM3S,IAEpB2S,EAAK1K,KAAOoK,EAAYpK,KAChCR,MAAMkL,EAAM3S,GAmBnB,OAhBAyS,EAAMP,UAAYA,EAClBO,EAAMC,QAAUL,EAAYK,QAAQR,GACpCO,EAAMa,UAAYjB,EAAYiB,YAC9Bb,EAAMc,MAAQtB,EAAYC,GAC1BO,EAAMe,QAAUA,EAChBf,EAAMgB,OAASA,EAKiB,mBAArBpB,EAAYqB,MACtBrB,EAAYqB,KAAKjB,GAGlBJ,EAAYsB,UAAUld,KAAKgc,GAEpBA,EAGR,SAASe,IACR,MAAMlV,EAAQ+T,EAAYsB,UAAU9B,QAAQ9a,MAC5C,OAAe,IAAXuH,IACH+T,EAAYsB,UAAUP,OAAO9U,EAAO,IAC7B,GAKT,SAASmV,EAAOvB,EAAW0B,GAC1B,OAAOvB,EAAYtb,KAAKmb,gBAAkC,IAAd0B,EAA4B,IAAMA,GAAa1B,GA6F5F,SAAS2B,EAAYC,GACpB,OAAOA,EAAOnb,WACZob,UAAU,EAAGD,EAAOnb,WAAWrC,OAAS,GACxCuD,QAAQ,UAAW,KAmBtB,OA7PAwY,EAAYI,MAAQJ,EACpBA,EAAY2B,QAAU3B,EACtBA,EAAYW,OAkPZ,SAAgB3U,GACf,GAAIA,aAAe/F,MAClB,OAAO+F,EAAIgF,OAAShF,EAAIwB,QAEzB,OAAOxB,GArPRgU,EAAY4B,QAsLZ,WACC,MAAMC,EAAa,IACf7B,EAAY8B,MAAMC,IAAIP,MACtBxB,EAAYgC,MAAMD,IAAIP,GAAaO,IAAIlC,GAAa,IAAMA,IAC5DvB,KAAK,KAEP,OADA0B,EAAYpU,OAAO,IACZiW,GA3LR7B,EAAYpU,OAgJZ,SAAgBiW,GAMf,IAAIxd,EALJ2b,EAAYiC,KAAKJ,GAEjB7B,EAAY8B,MAAQ,GACpB9B,EAAYgC,MAAQ,GAGpB,MAAME,GAA+B,iBAAfL,EAA0BA,EAAa,IAAIK,MAAM,UACjEC,EAAMD,EAAMje,OAElB,IAAKI,EAAI,EAAGA,EAAI8d,EAAK9d,IACf6d,EAAM7d,KAOW,OAFtBwd,EAAaK,EAAM7d,GAAGmD,QAAQ,MAAO,QAEtB,GACdwY,EAAYgC,MAAM5d,KAAK,IAAI0Z,OAAO,IAAM+D,EAAW7d,OAAO,GAAK,MAE/Dgc,EAAY8B,MAAM1d,KAAK,IAAI0Z,OAAO,IAAM+D,EAAa,OAIvD,IAAKxd,EAAI,EAAGA,EAAI2b,EAAYsB,UAAUrd,OAAQI,IAAK,CAClD,MAAM+d,EAAWpC,EAAYsB,UAAUjd,GACvC+d,EAAS/B,QAAUL,EAAYK,QAAQ+B,EAASvC,aA1KlDG,EAAYK,QAoMZ,SAAiBrY,GAChB,GAA8B,MAA1BA,EAAKA,EAAK/D,OAAS,GACtB,OAAO,EAGR,IAAII,EACA8d,EAEJ,IAAK9d,EAAI,EAAG8d,EAAMnC,EAAYgC,MAAM/d,OAAQI,EAAI8d,EAAK9d,IACpD,GAAI2b,EAAYgC,MAAM3d,GAAG0O,KAAK/K,GAC7B,OAAO,EAIT,IAAK3D,EAAI,EAAG8d,EAAMnC,EAAY8B,MAAM7d,OAAQI,EAAI8d,EAAK9d,IACpD,GAAI2b,EAAY8B,MAAMzd,GAAG0O,KAAK/K,GAC7B,OAAO,EAIT,OAAO,GAvNRgY,EAAYqC,SAAW,EAAQ,IAE/B9gB,OAAO4d,KAAKQ,GAAKzc,QAAQ9B,IACxB4e,EAAY5e,GAAOue,EAAIve,KAMxB4e,EAAYsB,UAAY,GAMxBtB,EAAY8B,MAAQ,GACpB9B,EAAYgC,MAAQ,GAOpBhC,EAAYc,WAAa,GAkBzBd,EAAYJ,YAAcA,EA4M1BI,EAAYpU,OAAOoU,EAAYsC,QAExBtC,I,cCpQR1e,EAAOO,QAAUC,QAAQ,W,8ECEzB,SAAYygB,GACR,2BACA,mBACA,uBACA,uBAJJ,CAAY,EAAAA,aAAA,EAAAA,WAAU,KAOtB,SAAYC,GACR,qBACA,uBACA,yBACA,mBAJJ,CAAY,EAAAA,cAAA,EAAAA,YAAW,M,iXCTvB,cAEA,QACA,QACA,QACA,OACA,QACA,OACA,QACA,OAEA,OACA,OACA,QACA,QAEA,QACA,OAEA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAEMC,EAAkB,CACpBC,MAAO,EAAAC,sBACPC,QAAS,EAAAC,wBACTC,OAAQ,EAAAC,uBACRC,MAAO,EAAAC,sBACPC,GAAI,EAAAC,mBACJC,IAAK,EAAAC,oBACLC,KAAM,EAAAC,qBACNC,SAAU,EAAAC,0BAGd,MAAMC,EACF,YAAmB1b,EAAauO,GAAb,KAAAvO,OAAa,KAAAuO,WAIpC,MAOMoN,EAAe3I,GAAMA,EAAEqD,WAAW,KAAOrD,EAAE0G,UAAU,GAAK,6BAA6B1G,KAE7F,MAAM4I,UAA2B,EAAA3hB,MAO7B,YAAYK,EAAgBuhB,GACxBzhB,MAAM,cAAe,CAAEE,OAAQA,EAAQuhB,SAAUA,KAIzD,MAAMC,UAA6B,EAAA7hB,MAO/B,YAAY4hB,EAAkBE,GAAsB,GAChD3hB,MAAM,mBAAoB,CAAEyhB,SAAUA,EAAUE,WAAYA,KAMpE,MAAaC,UAAwB,EAAApZ,aAoDjC,YAAmBqZ,EAAgCnN,GAAoB,EAAO+M,EAAmB,GAC7FzhB,MAAM6hB,EAAuBnN,GA9CvB,KAAAoN,gBAAkB,IAAI,EAAA9P,QArCV,QAsCZ,KAAA+P,uBAAmD,GAUnD,KAAAC,kBAA4B,EAC5B,KAAAC,iBAA2B,KAI3B,KAAAC,gBAA0B,EAC1B,KAAAC,gBAAkB,IAAIC,IAStB,KAAAC,0BAA2B,EAE7B,KAAAC,SAAmB,EACnB,KAAAC,cAAwB,GAOxB,KAAAC,gBAA0B,EAC1B,KAAAC,qBAAsB,EAEpB,KAAAC,cAA2C,IAAIC,IAC/C,KAAAC,gBAAwC,IAAID,IAG5C,KAAAE,aAA6B,IAAI,EAAAC,aA+sCnC,KAAAC,oBAA6E,GAzsC3E,eACNzgB,KAAK0gB,WAAW5Z,GAAG,cAAe9G,KAAK2gB,YAAYhkB,KAAKqD,OACxDA,KAAK0gB,WAAW5Z,GAAG,OAAQ9G,KAAK4gB,UAAUjkB,KAAKqD,OAC/CA,KAAK0gB,WAAW5Z,GAAG,kBAAmB9G,KAAK4gB,UAAUjkB,KAAKqD,OAC1DA,KAAK0gB,WAAW5Z,GAAG,UAAW9G,KAAK6gB,UAAUlkB,KAAKqD,OAClDA,KAAK0gB,WAAW5Z,GAAG,MAAO9G,KAAK8gB,UAAUnkB,KAAKqD,OAC9CA,KAAK0gB,WAAW5Z,GAAG,aAAc9G,KAAK+gB,iBAAiBpkB,KAAKqD,OAC5DA,KAAK0gB,WAAW5Z,GAAG,WAAY9G,KAAKghB,YAAYrkB,KAAKqD,OACrDA,KAAK0gB,WAAW5Z,GAAG,eAAgB9G,KAAKghB,YAAYrkB,KAAKqD,OACzDA,KAAK0gB,WAAW5Z,GAAG,cAAe9G,KAAKihB,YAAYtkB,KAAKqD,OACxDA,KAAK0gB,WAAW5Z,GAAG,UAAW9G,KAAKkhB,cAAcvkB,KAAKqD,OACtDA,KAAK0gB,WAAW5Z,GAAG,iBAAkB9G,KAAKmhB,oBAAoBxkB,KAAKqD,OACnEA,KAAK0gB,WAAW5Z,GAAG,gBAAiB9G,KAAKohB,mBAAmBzkB,KAAKqD,OACjEA,KAAK0gB,WAAW5Z,GAAG,kBAAmB9G,KAAKqhB,qBAAqB1kB,KAAKqD,OACrEA,KAAK0gB,WAAW5Z,GAAG,sBAAuB9G,KAAKshB,wBAAwB3kB,KAAKqD,OAC5EA,KAAKuhB,UAAU,IAAI,EAAAjc,kBAGb,kBAAkB8C,EAA4Ca,GACpEb,EAASlD,KAAKsH,mCAAoC,EAClDpE,EAASlD,KAAKwH,kCAAmC,EACjDtE,EAASlD,KAAKqH,gCAAiC,EAC/CnE,EAASlD,KAAKuH,6BAA8B,EAC5CrE,EAASlD,KAAKyH,2BAA4B,EAC1CvE,EAASlD,KAAK2H,qBAAsB,EACpCzE,EAASlD,KAAKgI,wBAAyB,EACvClN,KAAKgJ,aAAaZ,GAGZ,cAAcA,EAAwCa,GAC5DjJ,KAAKiJ,KAAOjJ,KAAKwhB,mBAAmBvY,GACpCjJ,KAAKyhB,YAAc,IAAI,EAAAC,YAAYzY,EAAK0Y,cAAe1Y,EAAK2Y,gBAAiB3Y,EAAK4Y,WAAY5Y,EAAK6Y,UACnG9hB,KAAKyhB,YAAYM,cACjB/hB,KAAKogB,cAAgB,IAAIC,IACzBrgB,KAAKsgB,gBAAkB,IAAID,IAC3BrgB,KAAKgiB,2BAA2B5Z,GAAU,GAGpC,cAAcA,EAAwCa,GAC5DjJ,KAAKiJ,KAAOjJ,KAAKwhB,mBAAmBvY,GACpCjJ,KAAKyhB,YAAc,IAAI,EAAAC,YAAYzY,EAAK0Y,cAAe1Y,EAAK2Y,gBAAiB3Y,EAAK4Y,WAAY5Y,EAAK6Y,UACnG9hB,KAAKyhB,YAAYM,cACjB/hB,KAAKogB,cAAgB,IAAIC,IACzBrgB,KAAKsgB,gBAAkB,IAAID,IAC3BrgB,KAAKgiB,2BAA2B5Z,GAAU,GAGtC,mBAAmBa,GAoBvB,OAnBAA,EAAKgZ,YAAchZ,EAAKgZ,aAAe,GAEnChZ,EAAK4Y,aAAe9iB,EAAK8T,WAAW5J,EAAK4Y,cACzC5Y,EAAK4Y,WAAa9iB,EAAKmjB,UAAUnjB,EAAK6a,KAAK3Q,EAAKkZ,IAAKlZ,EAAK4Y,cAG1D5Y,EAAKmZ,UAAYrjB,EAAK8T,WAAW5J,EAAKmZ,WACtCnZ,EAAKmZ,QAAUrjB,EAAKmjB,UAAUnjB,EAAK6a,KAAK3Q,EAAKkZ,IAAKlZ,EAAKmZ,WAGvDnZ,EAAKoZ,WAAapZ,EAAKoZ,UAAU/jB,WACjC2K,EAAKoZ,UAAU/jB,SAAW2K,EAAKoZ,UAAU/jB,SAAS+e,IAAKiF,IAClC,aAAbA,EAAI7kB,MAAuB6kB,EAAIC,UAAYxjB,EAAK8T,WAAWyP,EAAIC,WAC/DD,EAAIC,QAAUxjB,EAAKmjB,UAAUnjB,EAAK6a,KAAK3Q,EAAKkZ,IAAKG,EAAIC,WAElDD,KAIRrZ,EAGH,2BAA2Bb,EAAwCoa,GACvE,IAAK7R,EAAG8R,WAAWziB,KAAKiJ,KAAK4Y,YAMzB,YALA7hB,KAAK4J,kBACDxB,EACA,IACA,qCAAqCpI,KAAKiJ,KAAK4Y,eAKvD,MAAMa,EAAkB3E,EAAgB/d,KAAKiJ,KAAK0Z,YAClD3iB,KAAK4iB,iBAAmB,IAAIF,EAC5B1iB,KAAK4iB,iBAAiBC,aAAa7iB,KAAKiJ,MACxCjJ,KAAK4iB,iBAAiB9b,GAAG,QAAS9G,KAAK8iB,sBAAsBnmB,KAAKqD,OAElEA,KAAK+iB,MAAO,EACZ/iB,KAAKgjB,UAAW,EAChBhjB,KAAKijB,SAAU,EACfjjB,KAAKkjB,SAAU,EACfljB,KAAKmjB,YAAa,EAClBnjB,KAAKggB,SAAU,EACfhgB,KAAK6f,gBAAgBuD,QAErB,MAAMC,EAAiB,CAAEnM,IAAK,IAAOC,IAAK,KAAOC,SAAUpX,KAAK4iB,iBAAiBU,YAAY/jB,QAC7F,EAAA2W,eAAeqN,cAAcF,EAAgB,EAAAG,UAAUC,WAAWhT,KAAM9R,IACpEqB,KAAKrB,MAAQ,GACbqB,KAAK4iB,iBAAiBU,YAAY9kB,QAAQ,CAAC8I,EAAKoc,KAC5C1jB,KAAKrB,MAAM2I,GAAO3I,EAAM+kB,KAG5B1jB,KAAK4iB,iBAAiBe,SAAS3jB,KAAKrB,OAEpC,MAAMkjB,EAAa7hB,KAAK4iB,iBAAiBgB,mBACnC3a,EAAOjJ,KAAK4iB,iBAAiBiB,kBAEnC,IAAIC,EAA+B,UAAlBtL,EAAGpK,WAAyB,GAAGpO,KAAKiJ,KAAK2Y,sBAAwB,GAAG5hB,KAAKiJ,KAAK2Y,0BAS/F,GARI5hB,KAAKiJ,KAAK0Y,gBACVmC,EAAa/kB,EAAKmjB,UAAUnjB,EAAK6a,KAAK5Z,KAAKiJ,KAAK0Y,cAAemC,KAE/D9jB,KAAKiJ,KAAK8a,UACVD,EAAa9jB,KAAKiJ,KAAK8a,SAIvBhlB,EAAK8T,WAAWiR,IAChB,IAAkC,IAA9BnT,EAAG8R,WAAWqB,GAOd,YANA9jB,KAAK4J,kBACDxB,EACA,IACA,GAAGpI,KAAK4iB,iBAAiBtf,wBAAwBwgB,sBAC7C,oEAMZ,IAAKE,EAAOzL,KAAKuL,EAAWhhB,QAAQ,OAAQ,KAOxC,YANA9C,KAAK4J,kBACDxB,EACA,IACA,GAAGpI,KAAK4iB,iBAAiBtf,wBAAwBwgB,sBAC7C,+DAMhB,GAAIjC,EAAY,CACZ7hB,KAAK8gB,UAAU,MAAO,4DAA4De,IAAe,MACjG,MAAMoC,EAAS,sBAAsBpC,MAAiB5Y,EAAKoU,IAAKzO,GACrD,IAAMA,EAAE9L,QAAQ,KAAM,OAAS,KACvC8W,KAAK,KAAO,KACf5Z,KAAK8gB,UAAU,MAAOmD,GAG1B,IAAIC,EAAYlkB,KAAK4iB,iBAAiBsB,YAClClkB,KAAKiJ,KAAKkb,gCACVD,EAAY,IAAI9K,OAAOpZ,KAAKiJ,KAAKkb,8BAA+B,MAGpEnkB,KAAKoW,OAAS,IAAI,EAAAoN,UAAUxjB,KAAKiJ,KAAKkZ,IAAKN,EAAY5Y,EAAMib,EAAWlkB,KAAKrB,MAAe,SAC5FqB,KAAKoW,OAAOtP,GAAG,SAAU9G,KAAKokB,oBAAoBznB,KAAKqD,OACvDA,KAAKoW,OAAOtP,GAAG,OAAQ,KACf9G,KAAKijB,QACLjjB,KAAK4gB,YAGL5gB,KAAK4J,kBACDxB,EACA,IACA,GAAGpI,KAAK4iB,iBAAiBtf,6EAIrCtD,KAAKoW,OAAOtP,GAAG,cAAgBiM,IAC3B/S,KAAK4J,kBAAkBxB,EAAU,IAAK,oBAAoBpI,KAAK4iB,iBAAiBtf,oBAAoByP,EAAInR,gBAG5G,IAAIsH,EAAU,EAAAhB,WAAW,KACrBlI,KAAKoW,OAAOjO,OACZnI,KAAKuhB,UAAU,IAAI,EAAAtjB,eACf,QACA,mBACA,oBAAoB+B,KAAK4iB,iBAAiBtf,8BAE9CtD,KAAK4J,kBAAkBxB,EAAU,IAAK,oBAAoBpI,KAAK4iB,iBAAiBtf,8BACjF,EAAAkgB,UAAUa,gBAEbrkB,KAAK4iB,iBAAiB0B,sBACtBtkB,KAAKoW,OAAOuG,OAAOlM,KAAMwS,IACjB/Z,IACAqb,aAAarb,GACbA,EAAU,MAGdlJ,KAAK4iB,iBAAiB4B,wBAEtB,IAAIC,EAAU,CAAC,KAAM,qBACrBA,EAAUA,EAAQC,OAAO1kB,KAAKiJ,KAAK0b,cAAgB,IAEnD3kB,KAAK0gB,WAAa,IAAI,EAAAkE,IAAId,EAAYW,GACtCzkB,KAAK6kB,eAEL7kB,KAAK0gB,WAAWoE,aAAe9kB,KAAKiJ,KAAK8b,mBACzC/kB,KAAK0gB,WAAWsE,cAAgBhlB,KAAKiJ,KAAK8b,mBAE1C,MAAME,EAAW,CAAC,oCAAoCjlB,KAAKiJ,KAAKic,0CAOhE,GANIllB,KAAKiJ,KAAK6Y,WACVmD,EAASvlB,KAAK,oDACdulB,EAASvlB,KAAK,yDAElBulB,EAASvlB,QAAQM,KAAK4iB,iBAAiBuC,gBAEnC3C,EAAQ,CACRyC,EAASvlB,QAAQM,KAAKiJ,KAAKmc,kBAAkB/H,IAAI4B,IACjD,MAAMoG,EAAqD,MAApCrlB,KAAKiJ,KAAKqc,uBAC7BtlB,KAAKiJ,KAAKqc,uBAAuBjI,IAAI4B,GAAejf,KAAK4iB,iBAAiByC,iBAC9EJ,EAASvlB,QAAQ2lB,GACjBJ,EAASvlB,QAAQM,KAAKiJ,KAAKsc,mBAAmBlI,IAAI4B,IAClDgG,EAASvlB,QAAQM,KAAK4iB,iBAAiB4C,mBAEtC,CACDP,EAASvlB,QAAQM,KAAKiJ,KAAKwc,kBAAkBpI,IAAI4B,IACjD,MAAMyG,EAAqD,MAApC1lB,KAAKiJ,KAAK0c,uBAC7B3lB,KAAKiJ,KAAK0c,uBAAuBtI,IAAI4B,GAAejf,KAAK4iB,iBAAiB8C,iBAC9ET,EAASvlB,QAAQgmB,GACjBT,EAASvlB,QAAQM,KAAKiJ,KAAK2c,mBAAmBvI,IAAI4B,IAClDgG,EAASvlB,QAAQM,KAAK4iB,iBAAiB4C,eAG3CxlB,KAAK4iB,iBAAiBiD,wBACtB7lB,KAAK0gB,WAAWnK,KAAK,cAAe,KAChCvW,KAAKmjB,YAAa,EAClBnjB,KAAKgjB,SAAWR,IAGV,CACN,MAAMyB,EAAS,mBAAmBH,MAAiBW,EAAQpH,IAAKzO,GACrD,IAAMA,EAAE9L,QAAQ,KAAM,OAAS,KACvC8W,KAAK,KAAO,KACf5Z,KAAK8gB,UAAU,MAAOmD,GAG1BjkB,KAAK0gB,WAAWoF,QAAQ9lB,KAAKiJ,KAAKkZ,IAAKniB,KAAKiJ,KAAK4Y,WAAYoD,GAAUxU,KAAK,KACxEzQ,KAAKijB,SAAU,EACfjjB,KAAK4iB,iBAAiBmD,0BACtB/lB,KAAKgJ,aAAaZ,GAElB,MAAM4d,EAAiB,KACnB,EAAA9d,WAAW,KACPlI,KAAKggB,SAAU,EACfhgB,KAAKigB,cAAgB,QACrBjgB,KAAKkgB,gBAAkBlgB,KAAK4f,gBAC5B5f,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAa,QAASqC,KAAK4f,iBAAiB,IAC/D5f,KAAKuhB,UAAU,IAAIrC,EAAmB,QAASlf,KAAK4f,mBACrD,KAGH5f,KAAKiJ,KAAKgd,UACVjmB,KAAK0gB,WAAWwF,YAAY,mCAAmCzV,KAAK,KAChEzQ,KAAK0gB,WAAWnK,KAAK,kBAAmByP,GAIxChmB,KAAKugB,aAAahK,KAAK,OAAQ,KAC3BvW,KAAK0gB,WAAWwF,YAAY,sBAKpCF,IACAhmB,KAAKugB,aAAahK,KAAK,OAAQ,KAC3BvW,KAAKmmB,6BAA4B,OAGzCpT,IACA/S,KAAK4J,kBAAkBxB,EAAU,IAAK,yBAAyB2K,EAAInR,cACnE5B,KAAKuhB,UAAU,IAAI,EAAAtjB,eAAe,QAAS,gBAAiB8U,EAAInR,gBAGpEoF,IACIkC,IACAqb,aAAarb,GACbA,EAAU,MAEdlJ,KAAKuhB,UAAU,IAAI,EAAAtjB,eACf,QACA,mBACA,oBAAoB+B,KAAK4iB,iBAAiBtf,oBAAoB0D,EAAMpF,eAExE5B,KAAK4J,kBAAkBxB,EAAU,IAAK,oBAAoBpI,KAAK4iB,iBAAiBtf,oBAAoB0D,EAAMpF,iBAG9GmR,IACA/S,KAAKuhB,UAAU,IAAI,EAAAtjB,eAAe,QAAS,mBAAoB,8BAA8B8U,EAAInR,eACjG5B,KAAK4J,kBAAkBxB,EAAU,IAAK,8BAA8B2K,EAAInR,gBAKtE,4BAA4BwkB,EAAoBC,EAAmB,IACzE,IAAIpB,EAAWmB,EAAYpmB,KAAKiJ,KAAKqd,2BAA6BtmB,KAAKiJ,KAAKsd,yBAC5E,GAAItB,GAAaA,EAAS1lB,OAAS,EAAI,CACnC,IAAIinB,EAAWxmB,KAAK0gB,WAAW+F,kBAC/BxB,EAAWA,EAAS5H,IAAI4B,GAIxB,MAAMyH,EAAKC,YAAY,KACnB,MAAMC,EAAW5mB,KAAK0gB,WAAW+F,kBAC7BD,IAAaI,GACbC,cAAcH,GACd1mB,KAAK0gB,WAAWoG,UAAU7B,IAE1BuB,EAAWI,GAEhBP,IAID,cAAc9c,EAAiBnB,EAAkCa,GACvE,GAAIjJ,KAAK4iB,iBAAiBzW,cAAc5C,EAASnB,EAAUa,GACvDjJ,KAAKgJ,aAAaZ,QAItB,OAAQmB,GACJ,IAAK,wBACDnB,EAASlD,KAAO,CAAE2D,SAAS,GAC3B7I,KAAK0f,iBAAmBzW,EAAK8d,MACzB/mB,KAAKggB,UACLhgB,KAAK2f,iBAAmB,KACxB3f,KAAKuhB,UAAU,IAAI,EAAAnc,eAAepF,KAAK4f,iBAAiB,IACxD5f,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAaqC,KAAKigB,cAAejgB,KAAK4f,iBAAiB,KAE9E5f,KAAKgJ,aAAaZ,GAClB,MACJ,IAAK,wBACDA,EAASlD,KAAO,CAAE8hB,gBAAiBhnB,KAAKyhB,YAAYwF,sBACpDjnB,KAAKgJ,aAAaZ,GAClB,MACJ,IAAK,oBACGa,EAAKlK,OAASiB,KAAK2f,mBACnB3f,KAAK2f,iBAAmB1W,EAAKlK,MAKjCqJ,EAASlD,KAAO,GAChBlF,KAAKgJ,aAAaZ,GAClB,MACJ,IAAK,gBACDA,EAASlD,KAAOlF,KAAKiJ,KACrBjJ,KAAKgJ,aAAaZ,GAClB,MACJ,IAAK,cACDpI,KAAKknB,wBAAwB9e,EAAUa,EAAc,QAAGA,EAAa,QACrE,MACJ,IAAK,eACDjJ,KAAKmnB,mBAAmB/e,EAAUa,EAAc,QAAGA,EAAW,MAC9D,MACJ,IAAK,iBACDjJ,KAAKonB,qBAAqBhf,GAC1B,MACJ,IAAK,qBACDpI,KAAKqnB,wBAAwBjf,GAC7B,MACJ,IAAK,cACDpI,KAAKkM,mBAAmB9D,EAAUa,GAClC,MACJ,IAAK,kBACD,IAAI8P,EAAM9P,EAAc,QACG8P,EAAvBA,EAAIY,WAAW,KAAcZ,EAAIiE,UAAU,GAClC,6BAA6BjE,KAC1C/Y,KAAK0gB,WAAWwF,YAAYnN,GAAKtI,KAAMuE,IACnC5M,EAASlD,KAAO8P,EAAK9U,cACrBF,KAAKgJ,aAAaZ,IAClBpB,IACAoB,EAASlD,KAAO8B,EAChBhH,KAAK4J,kBAAkBxB,EAAU,IAAK,+BAE1C,MACJ,QACIA,EAASlD,KAAO,CAAE8B,MAAO,oBACzBhH,KAAKgJ,aAAaZ,IAKd,mBAAmBA,EAAkCa,G,yCACjE,GAAIA,EAAKqe,SACL,IACI,MAAMC,QAAoCvnB,KAAKwnB,0BAA0Bve,EAAKqe,SAAUre,EAAKwe,MAC7Frf,EAASlD,KAAO,CACZwiB,aAAcH,EAASG,aACvBpkB,KAAMikB,EAASjkB,KACfmkB,KAAMF,EAASE,KACf1M,QAASwM,EAASxM,QAClBxb,OAAQgoB,EAAShoB,QAErBS,KAAKgJ,aAAaZ,GAEtB,MAAOtG,GACH9B,KAAK4J,kBAAkBxB,EAAU,EAAG,0BAA0BtG,EAAEF,mBAInE,GAAIqH,EAAK0e,aACV,IACI,IAAIJ,EAAWvnB,KAAKyhB,YAAYmG,qBAAqB3e,EAAK0e,cAC1D,GAAIJ,EACAA,QAAiBvnB,KAAKwnB,0BAA0BD,EAASjkB,KAAMikB,EAASE,MACxErf,EAASlD,KAAO,CACZwiB,aAAcH,EAASG,aACvBpkB,KAAMikB,EAASjkB,KACfmkB,KAAMF,EAASE,KACf1M,QAASwM,EAASxM,QAClBxb,OAAQgoB,EAAShoB,QAErBS,KAAKgJ,aAAaZ,OAEjB,CAED,MAAMsf,QAA+C1nB,KAAK6nB,2BAA2B5e,EAAK0e,aAAc1e,EAAK1J,QAAU,KACvH6I,EAASlD,KAAO,CAAEwiB,aAAcA,GAChC1nB,KAAKgJ,aAAaZ,IAG1B,MAAOtG,GACH9B,KAAK4J,kBAAkBxB,EAAU,EAAG,0BAA0BtG,EAAEF,mBAKpE5B,KAAK4J,kBAAkBxB,EAAU,EAAG,iDAI9B,0BAA0B0f,EAAsBL,G,yCAC1D,MAAMM,EAA4B/nB,KAAKyhB,YAAYuG,kBAAkBF,EAAcL,GAEnF,IAAKM,EAAU,MAAM,IAAIxmB,MAAM,qCAAqCumB,MAEpE,GAAIC,EAAOL,aAAgB,OAAOK,EAElC,MAAMJ,EAAeI,EAAOhN,QACtBkN,EAAaF,EAAOhN,QAAUgN,EAAOxoB,OAKrCmoB,SAFe1nB,KAAK0gB,WAAWwF,YAAY,uBAAuB,EAAAgC,UAAUP,EAAc,SAAS,EAAAO,UAAUD,EAAY,YAChGloB,OAAO,aACyBsd,IAAK8K,IAOzD,CACHpN,QAPY,EAAAlc,OAAOsB,QAAQgoB,EAAI,WAQ/BL,aAPiB,EAAAjpB,OAAOsB,QAAQgoB,EAAI,aAQpCC,OAPWxoB,SAAS,EAAAf,OAAOsB,QAAQgoB,EAAI,WAQvCE,YAPS,EAAAxpB,OAAOsB,QAAQgoB,EAAI,QAQ5BG,QAPY,EAAAzpB,OAAOsB,QAAQgoB,EAAI,cAWvC,OADAJ,EAAOL,aAAeA,EACfK,KAGG,2BAA2BJ,EAAsBpoB,G,yCAC3D,MAAM0oB,EAAaN,EAAepoB,EAqBlC,aAlBqBS,KAAK0gB,WAAWwF,YAAY,uBAAuB,EAAAgC,UAAUP,EAAc,SAAS,EAAAO,UAAUD,EAAY,YAChGloB,OAAO,aACyBsd,IAAK8K,IAOzD,CACHpN,QAPY,EAAAlc,OAAOsB,QAAQgoB,EAAI,WAQ/BL,aAPiB,EAAAjpB,OAAOsB,QAAQgoB,EAAI,aAQpCC,OAPWxoB,SAAS,EAAAf,OAAOsB,QAAQgoB,EAAI,WAQvCE,YAPS,EAAAxpB,OAAOsB,QAAQgoB,EAAI,QAQ5BG,QAPY,EAAAzpB,OAAOsB,QAAQgoB,EAAI,iBAcjC,wBAAwB/f,EAAkCuf,EAAsBpoB,GACtFS,KAAK0gB,WAAWwF,YAAY,2BAA2ByB,MAAiBpoB,KAAUkR,KAAMuE,IACpF,MAAM2S,EAAe3S,EAAK9U,cAAcG,QAAQ,GAAG,GAAG,GAAG,GAAG,GACtD4nB,EAAajT,EAAK9U,cAAcG,QAAQ,GAAG,GAAG,GAAG,GAAG,GAEpDkoB,EADOvT,EAAK9U,cAAcG,QAAQ,GAAG,GAAG,GAAG,GAAG,GACjC8B,MAAM,gBAAgBkb,IAAKmL,GAAM5oB,SAAS4oB,EAAG,KAChEpgB,EAASlD,KAAO,CACZyiB,aAAcA,EACdM,WAAYA,EACZM,MAAOA,GAEXvoB,KAAKgJ,aAAaZ,IAClBpB,IACAoB,EAASlD,KAAO,CAAE8B,MAAOA,GACzBhH,KAAK4J,kBAAkBxB,EAAU,IAAK,0BAA0BpB,EAAMpF,cACtE5B,KAAKuhB,UAAU,IAAI,EAAAtjB,eAAe,QAAS,iBAAkB,GAAG0pB,KAAgBpoB,EAAOqC,SAAS,UAI9F,mBAAmBwG,EAAkCuf,EAAsBlkB,GACjF,MAAMsX,EAAU,EAAAmN,UAAUP,EAAc,GACxC3nB,KAAK0gB,WAAWwF,YAAY,2BAA2BnL,KAAWtX,KAAQgN,KAAMuE,IAC5EhV,KAAKgJ,aAAaZ,IAClBpB,IACAoB,EAASlD,KAAO,CAAE8B,MAAOA,GACzBhH,KAAK4J,kBAAkBxB,EAAU,IAAK,2BAA2BpB,EAAMpF,cACvE5B,KAAKuhB,UAAU,IAAI,EAAAtjB,eAAe,QAAS,iBAAkB,GAAG0pB,EAAa/lB,SAAS,OAAO6B,EAAKlE,OAAOqC,SAAS,UAIhH,qBAAqBwG,GAC3B,MAAMqgB,EAAMzoB,KAAKiJ,KAAKyf,yBAA2B,IAAM,IACvD1oB,KAAK0gB,WAAWwF,YAAY,6BAA6BuC,KAAOhY,KAAMuE,IAClE,GAAuC,SAAnCA,EAAK9U,cAAc6C,YAAwB,CAC3C,MAAM4lB,EAAK3T,EAAK9U,cAAcG,QAAQ,GAAG,GACzC+H,EAASlD,KAAOyjB,EAAGtL,IAAKuL,IACpB,MAAMthB,EAAM,GAIZ,OAHAshB,EAAEpqB,QAASqqB,IACPvhB,EAAIuhB,EAAE,IAAMA,EAAE,KAEXvhB,SAIXc,EAASlD,KAAO,CACZ8B,MAAO,4BAGfhH,KAAKgJ,aAAaZ,IAClBpB,IACAoB,EAASlD,KAAO,CAAE8B,MAAOA,GACzBhH,KAAK4J,kBAAkBxB,EAAU,IAAK,6BAA6BpB,EAAMpF,cACzE5B,KAAKuhB,UAAU,IAAI,EAAAtjB,eAAe,QAAS,oBAAqB,OAI9D,wBAAwBmK,GAC9BpI,KAAK0gB,WAAWwF,YAAY,4BAA4BzV,KAAMuE,IAC1D,GAAuC,SAAnCA,EAAK9U,cAAc6C,YAAwB,CAC3C,IAAI+lB,EACJ9T,EAAK9U,cAAcG,QAAQ7B,QAASuqB,IAClB,mBAAVA,EAAG,KACHD,EAAgBC,EAAG,MAG3B3gB,EAASlD,KAAO4jB,OAGhB1gB,EAASlD,KAAO,CAAE8B,MAAOgO,EAAK9U,cAAcG,SAEhDL,KAAKgJ,aAAaZ,IAClBpB,IACAoB,EAASlD,KAAO,CAAE8B,MAAOA,GACzBhH,KAAK4J,kBAAkBxB,EAAU,IAAK,iCAAiCpB,EAAMpF,cAC7E5B,KAAKuhB,UAAU,IAAI,EAAAtjB,eAAe,QAAS,wBAAyB,OAIlE,kBAAkBmK,EAA4Ca,GACpE,MAAM+f,EAAyB,KACvBhpB,KAAKgjB,UACLhjB,KAAKgjB,UAAW,EAChBhjB,KAAK0gB,WAAWuI,UAEhBjpB,KAAK0gB,WAAWwI,OAEhBlpB,KAAKmpB,gBACLnpB,KAAKmpB,cAAc3S,QACnBxW,KAAKmpB,mBAAgB7mB,GAEzB,EAAA4F,WAAW,KACP,IACIlI,KAAK+f,0BAA2B,EAChC/f,KAAKoW,OAAOjO,OAEhB,MAAOrG,I,QAEH9B,KAAKgJ,aAAaZ,KAEvB,KAGPpI,KAAK+f,0BAA2B,EAC5B/f,KAAK0gB,aACD1gB,KAAKgjB,WAAahjB,KAAKggB,SACvBhgB,KAAK0gB,WAAWnK,KAAK,kBAAmByS,GACxChpB,KAAK0gB,WAAWwF,YAAY,mBAE5B8C,KAYF,eAAe5gB,EAAyCa,GAC9D,MAAMmgB,EAAoB,IAAY,EAAD,gCACjCppB,KAAK+f,0BAA2B,EAChC,MAAMkF,EAAW,GAEjBA,EAASvlB,QAAQM,KAAKiJ,KAAKogB,mBAAmBhM,IAAI4B,IAClD,MAAMqK,EAAuD,MAArCtpB,KAAKiJ,KAAKsgB,wBAC9BvpB,KAAKiJ,KAAKsgB,wBAAwBlM,IAAI4B,GAAejf,KAAK4iB,iBAAiB0G,kBAC/ErE,EAASvlB,QAAQ4pB,GACjBrE,EAASvlB,QAAQM,KAAKiJ,KAAKugB,oBAAoBnM,IAAI4B,IACnDgG,EAASvlB,QAAQM,KAAK4iB,iBAAiB4C,eAEvCxlB,KAAK0gB,WAAWlb,QAAQyf,GAAUxU,KAAMD,IACpCxQ,KAAKgJ,aAAaZ,GAClB,EAAAF,WAAW,KACPlI,KAAKggB,SAAU,EACfhgB,KAAKigB,cAAgB,UACrBjgB,KAAKuhB,UAAU,IAAI,EAAAnc,eAAepF,KAAK4f,iBAAiB,IACxD5f,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAa,UAAWqC,KAAK4f,iBAAiB,IACjE5f,KAAKuhB,UAAU,IAAIrC,EAAmB,UAAWlf,KAAK4f,kBACtD5f,KAAKmmB,6BAA4B,EAAM,KACxC,KACH1d,IACAzI,KAAK4J,kBAAkBxB,EAAU,EAAG,sBAAsBK,UAIlEzI,KAAK+f,0BAA2B,EAC5B/f,KAAKggB,QACLoJ,KAGAppB,KAAK0gB,WAAWnK,KAAK,kBAAmB6S,GACxCppB,KAAK0gB,WAAWwF,YAAY,mBAI1B,oBAAoB9lB,GAC1BJ,KAAKuhB,UAAU,IAAI,EAAAjkB,mBAAmB8C,EAAQ,QAG1C,sBAAsBgP,GAC1BpP,KAAKuhB,UAAUnS,GAGT,UAAU3R,EAAcgL,GACjB,WAAThL,IAAqBA,EAAO,UACnB,QAATA,IAAkBA,EAAO,UAC7BuC,KAAKuhB,UAAU,IAAI,EAAA9b,YAAYgD,EAAKhL,IAG9B,cAAcqC,GACpBE,KAAKggB,SAAU,EACfhgB,KAAKuhB,UAAU,IAAI,EAAAnc,eAAepF,KAAK4f,iBAAiB,IACxD5f,KAAKuhB,UAAU,IAAInC,EAAqBpf,KAAK4f,iBAAiB,IAGxD,iBAAiB9f,GACvB,GAAIA,EAAKG,iBAAmBH,EAAKG,gBAAgB,IAAMH,EAAKG,gBAAgB,GAAGG,OAC3E,IAAK,MAAM4R,KAAQlS,EAAKG,gBAAgB,GAAGG,OACvC,GAAgB,cAAZ4R,EAAK,GAML,OALAhS,KAAK4f,gBAAkBhgB,SAASoS,EAAK,SACrChS,KAAKkgB,gBAAkBlgB,KAAK4f,iBAalC,iBAAiB9f,GACvBE,KAAKggB,SAAU,EACfhgB,KAAKigB,cAAgB,aACrBjgB,KAAKypB,iBAAiB3pB,GACjBE,KAAK+f,yBAIN/f,KAAKmgB,qBAAsB,GAH3BngB,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAa,aAAcqC,KAAK4f,iBAAiB,IACpE5f,KAAKuhB,UAAU,IAAIrC,EAAmB,aAAclf,KAAK4f,mBAMvD,YAAY9f,GAClBE,KAAKggB,SAAU,EACfhgB,KAAKigB,cAAgB,OACrBjgB,KAAKypB,iBAAiB3pB,GACjBE,KAAK+f,yBAIN/f,KAAKmgB,qBAAsB,GAH3BngB,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAa,OAAQqC,KAAK4f,iBAAiB,IAC9D5f,KAAKuhB,UAAU,IAAIrC,EAAmB,OAAQlf,KAAK4f,mBAMpD,UAAUxQ,GACb1R,MAAM6jB,UAAUnS,GAMV,YAAYtP,GAClBE,KAAKggB,SAAU,EACfhgB,KAAKigB,cAAgB,eACrBjgB,KAAKypB,iBAAiB3pB,GACjBE,KAAK+f,yBAIN/f,KAAKmgB,qBAAsB,GAH3BngB,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAa,eAAgBqC,KAAK4f,iBAAiB,IACtE5f,KAAKuhB,UAAU,IAAIrC,EAAmB,eAAgBlf,KAAK4f,mBAMzD,oBAAoB9f,GACrBE,KAAK6f,gBAAgB6J,IAAI5pB,EAAKjC,UAO/BmC,KAAK8gB,UAAU,MAAO,8CAA8ChhB,EAAKjC,kCAHzEmC,KAAK6f,gBAAgB8J,IAAI7pB,EAAKjC,UAC9BmC,KAAKuhB,UAAU,IAAI,EAAA7b,YAAY,UAAW5F,EAAKjC,YAM7C,mBAAmBiC,GAIrBE,KAAK6f,gBAAgB6J,IAAI5pB,EAAKjC,UAC9BmC,KAAK6f,gBAAgB+J,OAAO9pB,EAAKjC,UAEjCmC,KAAK8gB,UAAU,MAAO,8CAA8ChhB,EAAKjC,oCAEzEmC,KAAK4f,kBAAoB9f,EAAKjC,WAC9BmC,KAAK4f,gBAAkB,GAEvB5f,KAAKkgB,kBAAoBpgB,EAAKjC,WAC9BmC,KAAKkgB,gBAAkB,GAE3BlgB,KAAKuhB,UAAU,IAAI,EAAA7b,YAAY,SAAU5F,EAAKjC,WAGxC,qBAAqBiC,GAItBE,KAAK6f,gBAAgB6J,IAAI5pB,EAAKjC,UAI/BmC,KAAK4f,gBAAkB9f,EAAKjC,SAF5BmC,KAAK8gB,UAAU,MAAO,8CAA8ChhB,EAAKjC,iDAMvE,wBAAwBiC,GAO9BE,KAAK4f,gBAAkB,EACvB,IAAK,MAAMiK,KAAQ7pB,KAAK6f,gBAAgBxd,SACpCrC,KAAKuhB,UAAU,IAAI,EAAA7b,YAAY,SAAUmkB,IAE7C7pB,KAAK6f,gBAAgBuD,QAGf,UAAUtjB,GACXE,KAAKijB,UAAWjjB,KAAKkjB,SAAU,GAC/BljB,KAAK+iB,OACN/iB,KAAKggB,SAAU,EACfhgB,KAAKigB,cAAgB,YACrBjgB,KAAKypB,iBAAiB3pB,GACtBE,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAa,YAAaqC,KAAK4f,iBAAiB,IACnE5f,KAAKuhB,UAAU,IAAIrC,EAAmB,YAAalf,KAAK4f,mBAItD,YAIN5f,KAAK+iB,MAAO,EACZ/iB,KAAKuhB,UAAU,IAAI,EAAAhc,iBAGb,YAAYwN,GAClB/S,KAAK8gB,UAAU,SAAU,6EACzB9gB,KAAK8gB,UAAU,SAAU/N,EAAInR,WAAa,MAC1C5B,KAAK4gB,YAIC,uBAAuBkJ,GAC7B,MAAO,EAAW,MAATA,KAAqB,EAAY,IAATA,GAG3B,uBAAuBjsB,EAAkBksB,GAC/C,OAA8C,OAArClsB,GAAY,EAAgB,IAAVksB,GAGf,mBAAmB3hB,EAA6Ca,G,yCAC5E,IACI,IAAI3F,EAAO2F,EAAK3F,KACZzF,GAAY,EACZksB,GAAW,EACf,MAAMD,EAAS7gB,EAAKlF,mBACdimB,EAAehqB,KAAKiqB,oBAAoBH,EAAQxmB,GACtD,GAAI0mB,EACA1mB,EAAO0mB,EAAa1mB,UACjB,GAAIwmB,GA54BG,OA44B0B,CACpC,MAAMI,EAASlqB,KAAKwf,gBAAgBjjB,IAAI0M,EAAKlF,oBACvComB,EAAWD,EAAO5U,SAAShS,GACjCA,EAAO6mB,GAAsB,GAAGD,EAAO5mB,QAAQA,SAC5C,GAAIwmB,GAp5BK,KAo5B4BA,EAn5B3B,MAm5B0D,CACvE,MAAMM,EAAUpqB,KAAKqqB,mBAAmB/mB,EAAMwmB,GAC1C9pB,KAAKyf,uBAAuB1iB,eAAeqtB,KAC3C9mB,EAAO8mB,IAEVvsB,EAAUksB,GAAWzK,EAAgBgL,gBAAgBR,GAG1D,MAAMtU,QAAYxV,KAAK0gB,WAAW6J,UAAUjnB,EAAM2F,EAAKxM,MAAOoB,EAAUksB,GACxE3hB,EAASlD,KAAO,CACZzI,MAAO+Y,EAAIzV,OAAO,UAEtBC,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH/S,KAAK4J,kBAAkBxB,EAAU,GAAI,2BAA2B2K,SAI9D,8BACN3K,EACAa,GAEA,MAAMuhB,EAA2BC,GAAmB,EAAD,gCAC/C,MAAMC,EAAM,GACZzhB,EAAK0hB,YAAYnsB,QAASosB,IACtBF,EAAIhrB,KAAKM,KAAK0gB,WAAWmK,cAAc,CAAEC,IAAKF,EAAItnB,KAAMynB,UAAWH,EAAIG,UAAWC,eAAgBJ,EAAIK,kBAG1G,IACI,MAAMN,QAAoB1a,QAAQya,IAAIA,GAChCQ,EAAY,GAClBP,EAAYnsB,QAAS2sB,IACbA,EAAK,IAAMD,EAAUxrB,KAAK,CAAE4E,KAAM6mB,EAAK,GAAG7mB,SAElD8D,EAASlD,KAAO,CACZylB,YAAaO,GAEjBlrB,KAAKgJ,aAAaZ,GAEtB,MAAOK,GACHzI,KAAK4J,kBAAkBxB,EAAU,GAAIK,EAAI7G,YAEzC6oB,UACMzqB,KAAK0gB,WAAWwF,YAAY,qBAIpC9e,EAAU,IAAY,EAAD,gCACnBpH,KAAKggB,cAAiBwK,GAAkB,IAExCxqB,KAAK0gB,WAAWwF,YAAY,kBAC5BlmB,KAAK0gB,WAAWnK,KAAK,kBAAmB,KAAQiU,GAAkB,SAItExqB,KAAKmjB,WAAc/b,IAChBpH,KAAK0gB,WAAWnK,KAAK,cAAenP,GAGrC,sBAAsBgB,EAAgDa,GAC5E,MAAMuhB,EAA2BC,GAAmB,EAAD,gCAC/CzqB,KAAKmjB,YAAa,EAClB,MAAMiI,GAAsBprB,KAAKogB,cAAc7jB,IAAI0M,EAAK5E,OAAOtF,OAAS,IAAIse,IAAKgO,GAAOA,EAAGC,QAE3F,UACUtrB,KAAK0gB,WAAW6K,kBAAkBH,GACxCprB,KAAKogB,cAAcoL,IAAIviB,EAAK5E,OAAOtF,KAAM,IAEzC,MAAM2rB,EAAkC,GAClCe,EAAa5c,mBAAmB5F,EAAK5E,OAAOtF,MAElD,GAAI0sB,EAAW9R,WAAW,iBAAkB,CACxC,IAAI+R,EAAO,GACPD,EAAW9R,WAAW,qBAAsB+R,EAAO,IACvD,MACMC,EADOF,EAAWzO,UAAU0O,EAAMD,EAAWlsB,OAAS,GACzCie,MAAM,OACzB,IAAIoO,EACAnE,EAEiB,IAAjBkE,EAAMpsB,QACNqsB,EAAOD,EAAM,GACblE,EAAOkE,EAAM,IAGbC,EAAOD,EAAM,GAGjB,MAAM5D,QAAkC/nB,KAAKwnB,0BAA0BoE,EAAMnE,GAEzEM,GACA9e,EAAK0hB,YAAYnsB,QAASosB,IACtB,GAAIA,EAAItmB,MAAQyjB,EAAOL,aAAanoB,OAAQ,CACxC,MAAM+E,EAAOyjB,EAAOL,aAAakD,EAAItmB,KAAO,GAC5ComB,EAAIhrB,KAAKM,KAAK0gB,WAAWmK,cAAc,CACnCpD,KAAMxe,EAAK5E,OAAOtF,KAClBuF,KAAMsmB,EAAItmB,KACVymB,UAAWH,EAAIG,UACfC,eAAgBJ,EAAIK,aACpBH,IAAKxmB,EAAKyW,mBAO1B9R,EAAK0hB,YAAYnsB,QAASosB,IACtBF,EAAIhrB,KAAKM,KAAK0gB,WAAWmK,cAAc,CACnCpD,KAAMxe,EAAK5E,OAAOtF,KAClBuF,KAAMsmB,EAAItmB,KACVymB,UAAWH,EAAIG,UACfC,eAAgBJ,EAAIK,kBAKhC,MAEMC,SAFkBjb,QAAQya,IAAIA,IAEMmB,OAAQR,GAAc,OAAPA,GAEzDjjB,EAASlD,KAAO,CACZylB,YAAaO,EAAU7N,IAAKgO,IACjB,CACH/mB,KAAM+mB,EAAG/mB,KACTf,GAAI8nB,EAAGC,OACPxmB,UAAU,MAKtB9E,KAAKogB,cAAcoL,IAAIviB,EAAK5E,OAAOtF,KAAMmsB,GACzClrB,KAAKgJ,aAAaZ,GAEtB,MAAOK,GACHzI,KAAK4J,kBAAkBxB,EAAU,EAAGK,EAAI7G,YAGxC6oB,UACMzqB,KAAK0gB,WAAWwF,YAAY,qBAIpC9e,EAAU,IAAY,EAAD,gCACnBpH,KAAKggB,cACCwK,GAAkB,UAGlBxqB,KAAK0gB,WAAWwF,YAAY,kBAClClmB,KAAK0gB,WAAWnK,KAAK,kBAAmB,KAAQiU,GAAkB,SAItExqB,KAAKmjB,WAAc/b,IAChBpH,KAAK0gB,WAAWnK,KAAK,cAAenP,GAG/B,eAAegB,G,yCAC3B,IAAKpI,KAAKggB,SAAWhgB,KAAK+f,yBAGtB,OAFA3X,EAASlD,KAAO,CAAE4mB,QAAS,IAC3B9rB,KAAKgJ,aAAaZ,GACX6H,QAAQC,UAEnB,IACI,MAAM6b,QAAqB/rB,KAAK0gB,WAAWwF,YAAY,mBACjD8F,EAAsBD,EAAahsB,OAAO,cAAcsd,IAAK4O,GAAOrsB,SAASqsB,EAAG,KAChFC,EAAgBH,EAAahsB,OAAO,qBAE1C,IAAKisB,GAAmC,IAArBA,EAAUzsB,OAIzB,OAFA6I,EAASlD,KAAO,CAAE4mB,QAAS,IAC3B9rB,KAAKgJ,aAAaZ,GACX6H,QAAQC,UAGnB,IAAK,MAAM2Z,KAAQmC,EAGVhsB,KAAK6f,gBAAgB6J,IAAIG,IAC1B7pB,KAAKmhB,oBAAoB,CAACtjB,SAAUgsB,EAAMsC,cAAe,OAI5DD,EAeDlsB,KAAK4f,gBAAkBhgB,SAASssB,IAdhClsB,KAAK4f,gBAAkBoM,EAAUI,UAAWvD,GACjCA,IAAM7oB,KAAKkgB,kBAChB,EAAIlgB,KAAKkgB,gBAAkB8L,EAAU,GAIvCA,EAAUzsB,OAAS,UAIbS,KAAK0gB,WAAWwF,YAAY,iBAAiBlmB,KAAK4f,sBAe5D5f,KAAKmgB,qBAAwBngB,KAAK4f,kBAAoB5f,KAAKkgB,mBAC3DlgB,KAAKmgB,qBAAsB,EAC3BngB,KAAKkgB,gBAAkBlgB,KAAK4f,gBAC5B5f,KAAKuhB,UAAU,IAAI,EAAA5jB,aAAaqC,KAAKigB,cAAejgB,KAAK4f,iBAAiB,IAC1E5f,KAAKuhB,UAAU,IAAIrC,EAAmBlf,KAAKigB,cAAejgB,KAAK4f,mBAGnE,MAEMkM,SAFc7b,QAAQya,IAAIsB,EAAU3O,IAAK9Z,GAAOvD,KAAK0gB,WAAWwF,YAAY,eAAe3iB,QAE3E8Z,IAAKrI,IACvB,IAAIqX,EAAKrX,EAAKjV,OAAO,WACrB,GAAkB,IAAdssB,EAAG9sB,OAAc,CACjB8sB,EAAKA,EAAG,GACR,MAAM9oB,EAAK3D,SAAS,EAAAf,OAAOsB,QAAQksB,EAAI,OACjCC,EAAM,EAAAztB,OAAOsB,QAAQksB,EAAI,aACzBE,EAAU,EAAA1tB,OAAOsB,QAAQksB,EAAI,WAEnC,OAAO,IAAI,EAAA7nB,OAAOjB,EAAIgpB,GAAWD,GAGjC,OAAO,OAEZT,OAAQ3T,GAAY,OAANA,GAEjB9P,EAASlD,KAAO,CACZ4mB,QAASA,GAEb9rB,KAAKgJ,aAAaZ,GAEtB,MAAOtG,GACH9B,KAAK4J,kBAAkBxB,EAAU,EAAG,qCAAqCtG,SAIjE,kBAAkBsG,EAA4Ca,G,yCAC1E,IACI,MAAMqD,QAActM,KAAK0gB,WAAW8L,SAASvjB,EAAKpL,SAAUoL,EAAKwjB,WAAYxjB,EAAKyjB,QAC5EvrB,EAAoB,GAC1B,IAAK,MAAM1B,KAAW6M,EAAO,CACzB,MAAMqgB,EAAUrN,EAAgBsN,gBAAgB3jB,EAAKpL,SAAU4B,EAAQsR,OACjE0W,EAAOhoB,EAAQgoB,KACrB,IAAIoF,EAAc7sB,KAAK0f,mBAAqB+H,EAE5C,GADKoF,IAAeA,UAAsB7sB,KAAK8sB,gBAAgBrF,MAC1DoF,GAAe7sB,KAAK2f,kBAAoB3f,KAAK2f,iBAAiBhG,WAAW,mBAAoB,CAC9F,MAAMoT,EAAa/sB,KAAKyhB,YAAYuG,kBAAkBvoB,EAAQ6nB,SAAU7nB,EAAQutB,UAChF,IAAIC,EACAF,IAEIE,EADAF,EAAWtF,MAASsF,EAAWG,QAAU,EAAApP,YAAYqP,OAC/C,kBAAkBJ,EAAWtF,UAAUsF,EAAWzpB,aAGlD,kBAAkBypB,EAAWzpB,aAEnC2pB,IAAQjtB,KAAK2f,mBAAoBkN,GAAc,IAI3D,IACI,GAAIA,EAAa,CACb,MAAME,QAAmB/sB,KAAKwnB,0BAA0B/nB,EAAQ6nB,SAAU7nB,EAAQutB,UAClF,IAAI1oB,GAAQ,EAKZ,GAJAyoB,EAAWrF,aAAalpB,QAAQ,CAAC4uB,EAAM1J,KAC/B0J,EAAKrS,UAAYtb,EAAQsb,UAAWzW,EAAOof,EAAM,MAG3C,IAAVpf,EAAa,CACb,IAAI+oB,EAEAA,EADAN,EAAWtF,MAASsF,EAAWG,QAAU,EAAApP,YAAYqP,OAC7C,GAAGJ,EAAWtF,UAAUsF,EAAWzpB,aAGnC,GAAGypB,EAAWzpB,aAG1B,MAAM2pB,EAAM,kBAAoBI,EAChClsB,EAAIzB,KAAK,IAAI,EAAAsE,WAAW2oB,EAAS,GAAGltB,EAAQ6nB,YAAY7nB,EAAQsb,UAAW,IAAI,EAAA1X,OAAOgqB,EAAOJ,GAAM3oB,EAAM,SAGzGnD,EAAIzB,KAAK,IAAI,EAAAsE,WAAW2oB,EAASltB,EAAQ6nB,SAAW,IAAM7nB,EAAQsb,QAAS,KAAMtb,EAAQ6E,KAAM,SAInGnD,EAAIzB,KAAK,IAAI,EAAAsE,WAAW2oB,EAASltB,EAAQ6nB,SAAW,IAAM7nB,EAAQsb,QAAS,IAAI,EAAA1X,OAAO5D,EAAQutB,SAAUvF,GAAOhoB,EAAQ6E,KAAM,IAGrI,MAAOxC,GACHX,EAAIzB,KAAK,IAAI,EAAAsE,WAAW2oB,EAASltB,EAAQ6nB,SAAW,IAAM7nB,EAAQsb,QAAS,KAAMtb,EAAQ6E,KAAM,KAIvG8D,EAASlD,KAAO,CACZooB,YAAansB,GAEjBnB,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH/S,KAAK4J,kBAAkBxB,EAAU,GAAI,8BAA8B2K,EAAInR,kBAIrE,yBACNwG,EACAa,GAEAjJ,KAAKgJ,aAAaZ,GAClBpI,KAAKugB,aAAagN,KAAK,QAGjB,cAAcnlB,EAAwCa,GAC5D,MAAMukB,EAAS,IAAIC,MACnBD,EAAO9tB,KAAK,IAAI,EAAAkE,MAAM,QAAShE,SAASqJ,EAAK8gB,UAAiB,IAC9DyD,EAAO9tB,KAAK,IAAI,EAAAkE,MAAM,SAptCL,KAotCiC,IAElD,MAAM8pB,EAntCe,MAmtCmB9tB,SAASqJ,EAAK8gB,SACtDyD,EAAO9tB,KAAK,IAAI,EAAAkE,MAAM,SAAU8pB,GAAU,IAC1C1tB,KAAKygB,oBAAoBiN,GAAY,GAErCtlB,EAASlD,KAAO,CACZsoB,OAAQA,GAEZxtB,KAAKgJ,aAAaZ,GAGR,uBAAuBA,EAA2Ca,G,yCAC5E,MAAM8jB,EAAkC/sB,KAAKyhB,YAAYkM,qBAEnDC,EAAoC,GAC1C,IACI,IAAK,MAAM7F,KAAUgF,EAAY,CAC7B,MAAMc,EAAa,cAAc9F,EAAOzkB,OACxC,IAAIwqB,EACJ,WAC0B9tB,KAAK0gB,WAAWqN,UAAUF,GAAa,GAAI,IACtC9tB,OAAO,cACvBvB,QAASwvB,IAChB,MAAM1qB,EAAO,EAAAzE,OAAOsB,QAAQ6tB,EAAQ,QAC9BC,EAAMjuB,KAAKyf,uBAAuBnc,GAC9BtD,KAAKwf,gBAAgBjjB,IAAI0xB,GACjCC,aAAaF,KAEnB,MAAMG,EAAQnuB,KAAKyf,uBAAuBoO,GAC1CC,EAAS9tB,KAAKwf,gBAAgBjjB,IAAI4xB,GAEtC,MAAOpb,GACH,IACI,KAAIA,aAAe,EAAA8C,SAA2B,8BAAhB9C,EAAIjK,SAM9B,MAAMiK,EANiE,CACvE+a,QAAe9tB,KAAK0gB,WAAW0N,UAAUrG,EAAOzkB,KAAMuqB,GACtD,MAAMM,EAAQnuB,KAAKquB,qBAAqBP,GACxCA,EAAO7Y,IAAM8S,EAAOzkB,KACpBwqB,EAAOvqB,GAAK4qB,GAKpB,MAAOpb,GACC/S,KAAKiJ,KAAK8b,qBACV/kB,KAAK8gB,UAAU,SAAU,oCAAoCiH,EAAOzkB,UACpEtD,KAAK8gB,UAAU,SAAU,UAAU/N,QAEvC+a,EAAS,MAIbA,IACA9tB,KAAKsuB,oBAAoBrlB,EAAKlF,mBAAoBgkB,EAAOzkB,KAAMwqB,GAC/DF,EAAQluB,KAAKouB,EAAOS,uBAI5BnmB,EAASlD,KAAO,CAAEoD,UAAWslB,GAC7B5tB,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH/S,KAAK4J,kBAAkBxB,EAAU,EAAG,8CAA8C2K,SAIlF,oBAAoByb,EAAelrB,GAEvC,MADmB,cAAcA,KAAQkrB,IAerC,oBAAoBC,EAAiBnrB,EAAcwqB,GACvD,MAAMY,EAAW1uB,KAAKygB,oBAAoBgO,IAAY,GACtDC,EAASprB,GAAQwqB,EACjB9tB,KAAKygB,oBAAoBgO,GAAWC,EAGhC,oBAAoBD,EAAiBnrB,GACzC,MAAMorB,EAAW1uB,KAAKygB,oBAAoBgO,GAE1C,OADYC,EAAWA,EAASprB,GAAQ,KAI9B,uBACVzF,EACAksB,EACA3hB,EACAa,G,yCAEA,MAAM0lB,EAAoC,GAE1C,IACI,MACMlH,SADcznB,KAAK0gB,WAAWkO,SAAS/wB,EAAUksB,IACpCiD,SACb6B,EAAgB7uB,KAAKyhB,YAAYqN,mBAAmBrH,GAEpDsH,EAASC,EAAOC,WAAW,UACjCF,EAAOG,OAAOzH,GACd,MAAM+G,EAAQO,EAAOI,OAAO,OAE5B,IAAK,MAAMpH,KAAU8G,EAAe,CAChC,MAAMhB,EAAa7tB,KAAKovB,oBAAoBZ,EAAOzG,EAAOzkB,MAC1D,IAAIwqB,EACJ,WAC0B9tB,KAAK0gB,WAAWqN,UAAUF,GAAa,GAAI,IACtC9tB,OAAO,cACvBvB,QAASwvB,IAChB,MAAM1qB,EAAO,EAAAzE,OAAOsB,QAAQ6tB,EAAQ,QAC9BC,EAAMjuB,KAAKyf,uBAAuBnc,GAC9BtD,KAAKwf,gBAAgBjjB,IAAI0xB,GACjCC,aAAaF,KAEnB,MAAMG,EAAQnuB,KAAKyf,uBAAuBoO,GAC1CC,EAAS9tB,KAAKwf,gBAAgBjjB,IAAI4xB,GAEtC,MAAOpb,GACH,IAII,KAAIA,aAAe,EAAA8C,SAA2B,8BAAhB9C,EAAIjK,SAM9B,MAAMiK,EANiE,CACvE+a,QAAe9tB,KAAK0gB,WAAW0N,UAAUrG,EAAOzkB,KAAMuqB,GACtD,MAAMM,EAAQnuB,KAAKquB,qBAAqBP,GACxCA,EAAO7Y,IAAM8S,EAAOzkB,KACpBwqB,EAAOvqB,GAAK4qB,GAKpB,MAAOpb,GACC/S,KAAKiJ,KAAK8b,qBACV/kB,KAAK8gB,UAAU,SAAU,oCAAoC2G,KAAQM,EAAOzkB,UAC5EtD,KAAK8gB,UAAU,SAAU,UAAU/N,QAEvC+a,EAAS,MAIbA,IACA9tB,KAAKsuB,oBAAoBrlB,EAAKlF,mBAAoBgkB,EAAOzkB,KAAMwqB,GAC/Da,EAAQjvB,KAAKouB,EAAOS,uBAI5BnmB,EAASlD,KAAO,CAAEoD,UAAWqmB,GAC7B3uB,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH/S,KAAK4J,kBAAkBxB,EAAU,EAAG,8CAA8C2K,SAIlF,eAAesc,EAAKxd,GACxB,OAAIA,EACO7R,KAAKwf,gBAAgBvJ,OAAO,IAAI+I,EAAiBqQ,EAAKxd,IAGtD7R,KAAKwf,gBAAgBvJ,OAAOoZ,GAInC,qBAAqBvB,GACzB,IAAIvqB,EAQJ,OAPIvD,KAAKyf,uBAAuB1iB,eAAe+wB,EAAOxqB,MAClDC,EAAKvD,KAAKyf,uBAAuBqO,EAAOxqB,OAGxCC,EAAKvD,KAAKsvB,eAAexB,GACzB9tB,KAAKyf,uBAAuBqO,EAAOxqB,MAAQC,GAExCuqB,EAAOyB,aAAehsB,EAAK,EAG5B,mBAAmBD,EAAcwmB,GACvC,MAAO,OAAOxmB,KAAQwmB,IAGZ,sBACV1hB,EACAa,G,yCAEA,MAAOpL,EAAUksB,GAAWzK,EAAgBgL,gBAAgBrhB,EAAKlF,oBAC3DuE,EAAsC,GAC5C,IAAIgE,EACJ,IACIA,QAActM,KAAK0gB,WAAW8O,kBAAkB3xB,EAAUksB,GAC1D,IAAK,MAAM0F,KAAYnjB,EACnB,IACI,MAAMuhB,EAAa7tB,KAAKqqB,mBAAmBoF,EAASnsB,KAAM2F,EAAKlF,oBAC/D,IAAI+pB,EACJ,WAC0B9tB,KAAK0gB,WAAWqN,UAAUF,EAAYhwB,EAAUksB,IAC3ChqB,OAAO,cACvBvB,QAASwvB,IAChB,MAAM1qB,EAAO,EAAAzE,OAAOsB,QAAQ6tB,EAAQ,QAC9BC,EAAMjuB,KAAKyf,uBAAuBnc,GAC9BtD,KAAKwf,gBAAgBjjB,IAAI0xB,GACjCC,aAAaF,KAEnB,MAAMG,EAAQnuB,KAAKyf,uBAAuBoO,GAC1CC,EAAS9tB,KAAKwf,gBAAgBjjB,IAAI4xB,GAEtC,MAAOpb,GACH,KAAIA,aAAe,EAAA8C,SAA2B,8BAAhB9C,EAAIjK,SAQ9B,MAAMiK,EARiE,CAEvE+a,QAAe9tB,KAAK0gB,WAAW0N,UAAUqB,EAASnsB,KAAMuqB,EAAY,KACpE,MAAMM,EAAQnuB,KAAKquB,qBAAqBP,GACxCA,EAAO7Y,IAAMwa,EAASnsB,KACtBwqB,EAAOvqB,GAAK4qB,GAMpB7lB,EAAU5I,KAAKouB,EAAOS,sBAE1B,MAAOxb,GACHzK,EAAU5I,KAAK,CACX4D,KAAMmsB,EAASnsB,KACf7G,MAAO,IAAIsW,KACXhP,mBAAoB,IAIhCqE,EAASlD,KAAO,CACZoD,UAAWA,GAEftI,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH/S,KAAK4J,kBAAkBxB,EAAU,EAAG,8BAA8B2K,SAI5D,uBAAuBxP,EAAY6E,EAA2Ca,G,yCAExF,IAAIwmB,EACJ,IACIA,QAAiBzvB,KAAK0gB,WAAWgP,eAAeC,KAAKC,UAAUrsB,IAAM,GAAI,GACzE,IACI,IAAIssB,EAAW,EAAAC,YAAY9vB,KAAKsvB,eAAe3yB,KAAKqD,MAAOyvB,EAAS1vB,OAAO,SAAUwD,EAAIksB,GACpFI,GAI0B,iBAAhBA,EAAS,KAChBA,EAAW,CACP,CACIvsB,KAAM,UACN7G,MAAOszB,EAAkBF,GACzB9rB,mBAAoB,KAIhCqE,EAASlD,KAAO,CACZoD,UAAWunB,GAEf7vB,KAAKgJ,aAAaZ,IAflBpI,KAAK4J,kBAAkBxB,EAAU,EAAG,6BAkB5C,MAAOtG,GACH9B,KAAK4J,kBAAkBxB,EAAU,EAAG,8BAA8BtG,MAG1E,MAAOiR,GACH/S,KAAK4J,kBAAkBxB,EAAU,EAAG,8BAA8B2K,SAI1D,iBAAiB3K,EAA2Ca,G,yCACxE,IAAI1F,EAsBJ,GAngDiB,MAmgDb0F,EAAKlF,mBACL,OAAO/D,KAAKgwB,uBAAuB5nB,EAAUa,GAE5C,GAAIA,EAAKlF,oBAngDO,OAmgDuCkF,EAAKlF,oBAlgD3C,OAkgDwF,CAC1G,MAAOlG,EAAUksB,GAAWzK,EAAgBgL,gBAAgBrhB,EAAKlF,oBACjE,OAAO/D,KAAKiwB,uBAAuBpyB,EAAUksB,EAAS3hB,EAAUa,GAE/D,GAAIA,EAAKlF,oBAzgDM,KAygDuCkF,EAAKlF,mBAxgD3C,MAygDjB,OAAO/D,KAAKkwB,sBAAsB9nB,EAAUa,GAK5C,GAFA1F,EAAKvD,KAAKwf,gBAAgBjjB,IAAI0M,EAAKlF,oBAEjB,iBAAPR,EACP,OAAOvD,KAAKmwB,uBAAuB5sB,EAAI6E,EAAUa,GAEhD,GAAkB,iBAAP1F,EACZ,GAAIA,aAAc,EAAA6sB,eAAgB,CAC9B,MAAMC,EAAO9sB,EAGb,IAAI+R,EACJ,MAAMgb,EAAqC,GAC3C,IACIhb,QAAiBtV,KAAK0gB,WAAW6P,gBAAgBhtB,EAAGD,KAAMtD,KAAKiJ,KAAKunB,kBACpE,MAAMC,EAAOnb,EAAS+H,IAAKqT,IACvB,MAAMvC,EAAQnuB,KAAKquB,qBAAqBqC,GAExC,GADAA,EAAMntB,GAAK4qB,EACP,QAAQ9f,KAAKqiB,EAAMzb,KACnByb,EAAMhb,QAAU,GAAG2a,EAAK3a,SAAW2a,EAAKpb,OAAOyb,EAAMzb,WAEpD,CACD,IAAI0b,EAAS,IAAMD,EAAMzb,IACzB,GAAIyb,EAAMzb,IAAI0E,WAAW,cAAe,CACpC,MAAMqC,EAAOsU,EAASI,EAAMzb,KACxB+G,IACAsU,EAASI,EAAMzb,KAAO+G,EAAO,EAC7B0U,EAAMzb,KAAO,IAAM+G,EAAKpa,SAAS,KAErC0uB,EAASI,EAAMzb,KAAO,EACtB0b,EAAS,QAITN,EAAK/a,SAASob,EAAMzb,KAAOyb,EAAMptB,KAErCotB,EAAMhb,QAAU,GAAG2a,EAAK3a,SAAW2a,EAAKpb,MAAM0b,IAElD,OAAOD,EAAMnC,uBAGjBnmB,EAASlD,KAAO,CACZoD,UAAWmoB,GAEfzwB,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH/S,KAAK4J,kBAAkBxB,EAAU,EAAG,8BAA8B2K,WAGrE,GAAIxP,aAAcyb,EAAkB,CACrC,MAEM4R,EAASrtB,EACf,GAAIqtB,EAAO/e,QAAQwd,IAAK,CACpB,MAAMwB,EAAS,GACf,IAAIC,GAAW,EACXC,EAAW,EACf,MAAMC,EAAS,KACX5oB,EAASlD,KAAO,CACZoD,UAAWuoB,GAEf7wB,KAAKgJ,aAAaZ,IAEhB6oB,EAAS,IAAY,EAAD,gCACtB,MAAMxB,QAAiBzvB,KAAK0gB,WAAWgP,eAAeC,KAAKC,UAAU,GAAGgB,EAAOttB,QAAQytB,OAAe,GAAI,GAC1G,IACI,MAAMlB,EAAW,EAAAC,YAAY9vB,KAAKsvB,eAAe3yB,KAAKqD,MAAOyvB,EAAS1vB,OAAO,SAAU6wB,EAAOttB,KAAMmsB,GACpG,GAAKI,EAID,GAAwB,iBAAbA,EAAuB,CAC9B,GAAiB,cAAbA,EAA0B,CAC1B,IAAIiB,EACG,OAAOE,IADEF,GAAW,OAG1B,GAAoB,MAAhBjB,EAAS,GAMd,OALAgB,EAAOnxB,KAAK,CACR4D,KAAM,QACN7G,MAAOozB,EACP9rB,mBAAoB,IAEjBitB,IAEXH,EAAOnxB,KAAK,CACR4D,KAAM,IAAKytB,OACXt0B,MAAOozB,EACP9rB,mBAAoB,IAExBktB,SAGAJ,EAAOnxB,KAAK,CACR4D,KAAM,QACN7G,MAAOozB,EACP9rB,mBAAoB,IAExBitB,SA7BJhxB,KAAK4J,kBAAkBxB,EAAU,GAAI,6BAiC7C,MAAOtG,GACH9B,KAAK4J,kBAAkBxB,EAAU,GAAI,8BAA8BtG,SAG3EmvB,SAGAjxB,KAAK4J,kBAAkBxB,EAAU,GAAI,2CAA2CunB,KAAKC,UAAUgB,EAAO/e,iBAI1GzJ,EAASlD,KAAO,CACZoD,UAAW/E,GAEfvD,KAAKgJ,aAAaZ,QAItBA,EAASlD,KAAO,CACZoD,UAAW,IAEftI,KAAKgJ,aAAaZ,MAKpB,aAAaA,EAAuCa,GAC1DjJ,KAAK0gB,WAAWwQ,YAAYzgB,KAAMD,IAC9BxQ,KAAKgJ,aAAaZ,IAClBK,IACAzI,KAAK4J,kBAAkBxB,EAAU,EAAG,oBAAoBK,OAItD,gBAAgBL,EAA0Ca,GAChEjJ,KAAK0gB,WAAWyQ,SAASloB,EAAKpL,UAAU4S,KAAMD,IAC1CpI,EAASlD,KAAO,CAAEG,qBAAqB,GACvCrF,KAAKgJ,aAAaZ,IAClBK,IACAzI,KAAK4J,kBAAkBxB,EAAU,EAAG,uBAAuBK,OAInD,cAAcL,EAAsCa,G,yCAChE,IACI,IAAImoB,EAAepxB,KAAK0f,iBACxB,IAAK0R,EAAc,CACf,MAAMC,QAAcrxB,KAAK0gB,WAAWkO,SAAS3lB,EAAKpL,SAAU,GAG5D,GAFAuzB,UAAuBpxB,KAAK8sB,gBAAgBuE,EAAM5J,OAE9CznB,KAAK2f,kBAAoB3f,KAAK2f,iBAAiBhG,WAAW,mBAAoB,CAC9E,MAAMoT,EAAa/sB,KAAKyhB,YAAYuG,kBAAkBqJ,EAAM/J,SAAU+J,EAAMrE,UAC5E,IAAIC,EAEAA,EADAF,EAAWtF,MAASsF,EAAWG,QAAU,EAAApP,YAAYqP,OAC/C,kBAAkBJ,EAAWtF,UAAUsF,EAAWzpB,aAGlD,kBAAkBypB,EAAWzpB,aAEnC2pB,IAAQjtB,KAAK2f,mBAAoByR,GAAe,UAIzCpxB,KAAK0gB,WAAWrQ,KAAKpH,EAAKpL,SAAUuzB,GACvDpxB,KAAKgJ,aAAaZ,GAEtB,MAAOK,GACHzI,KAAK4J,kBAAkBxB,EAAU,EAAG,wBAAwBK,SAI1D,eAAeL,EAAsCa,GAC3DjJ,KAAK0gB,WAAW4Q,QAAQroB,EAAKpL,UAAU4S,KAAMD,IACzCxQ,KAAKgJ,aAAaZ,IAClBK,IACAzI,KAAK4J,kBAAkBxB,EAAU,EAAG,uBAAuBK,OAInD,YAAYL,EAAsCa,G,yCAC9D,IACI,IAAImoB,EAAepxB,KAAK0f,iBACxB,IAAK0R,EAAc,CACf,MAAMC,QAAcrxB,KAAK0gB,WAAWkO,SAAS3lB,EAAKpL,SAAU,GAG5D,GAFAuzB,UAAuBpxB,KAAK8sB,gBAAgBuE,EAAM5J,OAE9CznB,KAAK2f,kBAAoB3f,KAAK2f,iBAAiBhG,WAAW,mBAAoB,CAC9E,MAAMoT,EAAa/sB,KAAKyhB,YAAYuG,kBAAkBqJ,EAAM/J,SAAU+J,EAAMrE,UAC5E,IAAIC,EAEAA,EADAF,EAAWtF,MAASsF,EAAWG,QAAU,EAAApP,YAAYqP,OAC/C,kBAAkBJ,EAAWtF,UAAUsF,EAAWzpB,aAGlD,kBAAkBypB,EAAWzpB,aAEnC2pB,IAAQjtB,KAAK2f,mBAAoByR,GAAe,UAIzCpxB,KAAK0gB,WAAWpQ,KAAKrH,EAAKpL,SAAUuzB,GACvDpxB,KAAKgJ,aAAaZ,GAEtB,MAAOK,GACHzI,KAAK4J,kBAAkBxB,EAAU,EAAG,wBAAwBK,SAI1D,gBAAgBnF,GACtB,OAAKA,EAEDtD,KAAKsgB,gBAAgBoJ,IAAIpmB,GAClB2M,QAAQC,QAAQlQ,KAAKsgB,gBAAgB/jB,IAAI+G,IAG7C,IAAI2M,QAAQ,CAACC,EAASC,KACzBQ,EAAG4gB,OAAOjuB,EAAOiuB,IACbvxB,KAAKsgB,gBAAgBkL,IAAIloB,EAAMiuB,GAC/BrhB,EAAQqhB,OATIthB,QAAQC,SAAQ,GAcxB,gBAAgB9H,EAA0Ca,G,yCACtE,MAAMqmB,EAAiB,CAACD,EAAKxd,IACrBA,EACO7R,KAAKwf,gBAAgBvJ,OAAO,IAAI+I,EAAiBqQ,EAAKxd,IAGtD7R,KAAKwf,gBAAgBvJ,OAAOoZ,GAIrChB,EAAwBP,IAC1B,IAAIvqB,EAQJ,OAPIvD,KAAKyf,uBAAuB1iB,eAAe+wB,EAAOxqB,MAClDC,EAAKvD,KAAKyf,uBAAuBqO,EAAOxqB,OAGxCC,EAAK+rB,EAAexB,GACpB9tB,KAAKyf,uBAAuBqO,EAAOxqB,MAAQC,GAExCuqB,EAAOyB,aAAehsB,EAAK,GAKtC,IAAI1F,EAAWmC,KAAK4f,gBAChBmK,EAAU,EAWd,GAVI9gB,EAAK8gB,SACJlsB,EAAUksB,GAAWzK,EAAgBgL,gBAAgBrhB,EAAK8gB,SAM3D/pB,KAAK8gB,UAAU,MAAO,mBAAmB7X,EAAKuoB,8BAA8BvoB,EAAKwoB,uDAGhE,UAAjBxoB,EAAKuoB,QACL,IACI,MAAMvc,EAAMhM,EAAKwoB,WACX1C,EAASC,EAAOC,WAAW,UACjCF,EAAOG,OAAOja,GACd,MACM4Y,EAAa,SADDkB,EAAOI,OAAO,SAEhC,IAAIrB,EACJ,WAC0B9tB,KAAK0gB,WAAWqN,UAAUF,EAAYhwB,EAAUksB,IAC3ChqB,OAAO,cACvBvB,QAASwvB,IAChB,MAAM1qB,EAAO,EAAAzE,OAAOsB,QAAQ6tB,EAAQ,QAC9BC,EAAMjuB,KAAKyf,uBAAuBnc,GAC9BtD,KAAKwf,gBAAgBjjB,IAAI0xB,GACjCC,aAAaF,KAEnB,MAAMG,EAAQnuB,KAAKyf,uBAAuBoO,GAC1CC,EAAS9tB,KAAKwf,gBAAgBjjB,IAAI4xB,GAClC/lB,EAASlD,KAAO,CACZnF,OAAQ+tB,EAAOrxB,MACfsH,mBAAoB+pB,EAAOvqB,IAGnC,MAAOwP,GACH,KAAIA,aAAe,EAAA8C,SAA2B,8BAAhB9C,EAAIjK,SAW9B,MAAMiK,EAXiE,CACvE+a,QAAe9tB,KAAK0gB,WAAW0N,UAAUnZ,EAAK4Y,EAAY,KAC1D,MAAMM,EAAQE,EAAqBP,GACnCA,EAAO7Y,IAAMA,EACb6Y,EAAOvqB,GAAK4qB,EACZ/lB,EAASlD,KAAO,CACZnF,OAAQ+tB,EAAOrxB,MACfsH,mBAAoB+pB,EAAOvqB,KAQvCvD,KAAKgJ,aAAaZ,GAEtB,MAAO2K,GACH3K,EAASlD,KAAO,CACZnF,OAAQ,IAAIgT,EAAInR,cAChBmC,mBAAoB,GAExB/D,KAAK4J,kBAAkBxB,EAAU,EAAG2K,EAAInR,iBAG3C,GAAqB,UAAjBqH,EAAKuoB,QACV,IACI,MAAMhc,QAAYxV,KAAK0gB,WAAWgP,eAAezmB,EAAKwoB,WAAY5zB,EAAUksB,GAC5E3hB,EAASlD,KAAO,CACZnB,mBAAoB,EACpBhE,OAAQyV,EAAIzV,OAAO,UAEvBC,KAAKgJ,aAAaZ,GAEtB,MAAOtG,GACH9B,KAAK4J,kBAAkBxB,EAAU,EAAGtG,EAAEF,iBAM1C5B,KAAK0gB,WAAWwF,YAAY,iBAAiBroB,KAC7CmC,KAAK0gB,WAAWwF,YAAY,sBAAsB6D,KAClD/pB,KAAK0gB,WAAWgR,cAAczoB,EAAKwoB,YAAYhhB,KAAMrQ,IAE7CgI,EAASlD,UADS,IAAX9E,EACS,CACZL,OAAQ,GACRgE,mBAAoB,GAIR,CACZhE,OAAQ4vB,KAAKC,UAAUxvB,GACvB2D,mBAAoB,GAG5B/D,KAAKgJ,aAAaZ,IAClBK,IACAzI,KAAK4J,kBAAkBxB,EAAU,EAAGK,EAAI7G,kBAMxD,SAASmuB,EAAkB4B,GACvB,MAAuB,iBAAZA,OACgBrvB,IAAnBqvB,EAAQpyB,OACDoyB,EAAQ/X,KAAK,MAGb+V,KAAKC,UAAU+B,GAGhBA,EAh1DlB,oBAm1DA,EAAAzrB,aAAa0rB,IAAItS,I,6BCh6DjBziB,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IACtD,MAAMo1B,EAAK,EAAQ,GACb3uB,EAAa,EAAQ,GAC3B,MAAMiD,UAAuB0rB,EAAGrR,aAC5B,cACI9iB,QACAsC,KAAK8xB,iBAAmB,IAAIzR,IAEhC,MAAM0R,EAAUC,GACZhyB,KAAKiyB,UAAY,EACjBjyB,KAAKkyB,gBAAkBF,EACvBhyB,KAAKmyB,SAAW,IAAI/wB,OAAO,GAC3B2wB,EAASjrB,GAAG,OAASrD,GAASzD,KAAKoyB,YAAY3uB,IAC/CsuB,EAASjrB,GAAG,QAAS,KACjB9G,KAAKqyB,WAAW,IAAInvB,EAAW3F,MAAM,YAEzCw0B,EAASjrB,GAAG,QAAUE,IAClBhH,KAAKqyB,WAAW,IAAInvB,EAAW3F,MAAM,QAAS,oBAAsByJ,GAASA,EAAM8B,aAEvFkpB,EAAUlrB,GAAG,QAAUE,IACnBhH,KAAKqyB,WAAW,IAAInvB,EAAW3F,MAAM,QAAS,qBAAuByJ,GAASA,EAAM8B,aAExFipB,EAASO,SAEb,OACQtyB,KAAKkyB,iBACLlyB,KAAKkyB,gBAAgBle,MAG7B,UAAU5E,GACNpP,KAAKuyB,MAAM,QAASnjB,GAExB,aAAahH,GACLA,EAAS8G,IAAM,EACfxH,QAAQV,MAAM,sDAAsDoB,EAASmB,WAG7EvJ,KAAKuyB,MAAM,WAAYnqB,GAG/B,YAAYmB,EAASN,EAAMC,EAASC,GAChC,MAAME,EAAU,CACZE,QAASA,GAKb,GAHIN,GAAQpM,OAAO4d,KAAKxR,GAAM1J,OAAS,IACnC8J,EAAQG,UAAYP,GAEnBjJ,KAAKkyB,iBAKV,GADAlyB,KAAKuyB,MAAM,UAAWlpB,GAClBF,EAAI,CACJnJ,KAAK8xB,iBAAiBtG,IAAIniB,EAAQ6F,IAAK/F,GACvC,MAAMqpB,EAAQtqB,WAAW,KACrBqc,aAAaiO,GACb,MAAMC,EAAMzyB,KAAK8xB,iBAAiBv1B,IAAI8M,EAAQ6F,KAC1CujB,IACAzyB,KAAK8xB,iBAAiBlI,OAAOvgB,EAAQ6F,KACrCujB,EAAI,IAAIvvB,EAAWoG,SAASD,EAAS,cAE1CH,SAbHlJ,KAAKqyB,WAAW,IAAInvB,EAAW3F,MAAM,QAAS,mCAiBtD,gBAAgB8L,IAGhB,WAAW+F,GACPpP,KAAKutB,KAAKne,EAAMA,MAAOA,GAE3B,MAAMsjB,EAAK5pB,GAGP,GAFAA,EAAQrL,KAAOi1B,EACf5pB,EAAQoG,IAAMlP,KAAKiyB,YACfjyB,KAAKkyB,gBAAiB,CACtB,MAAMS,EAAOhD,KAAKC,UAAU9mB,GAC5B9I,KAAKkyB,gBAAgBxwB,MAAM,mBAAmBN,OAAOwxB,WAAWD,EAAM,kBAAkBA,IAAQ,SAGxG,YAAYlvB,GAER,IADAzD,KAAKmyB,SAAW/wB,OAAOsjB,OAAO,CAAC1kB,KAAKmyB,SAAU1uB,MACjC,CACT,GAAIzD,KAAK6yB,gBAAkB,GACvB,GAAI7yB,KAAKmyB,SAAS5yB,QAAUS,KAAK6yB,eAAgB,CAC7C,MAAM/pB,EAAU9I,KAAKmyB,SAASvwB,SAAS,OAAQ,EAAG5B,KAAK6yB,gBAGvD,GAFA7yB,KAAKmyB,SAAWnyB,KAAKmyB,SAAS3wB,MAAMxB,KAAK6yB,gBACzC7yB,KAAK6yB,gBAAkB,EACnB/pB,EAAQvJ,OAAS,EACjB,IACI,IAAIkJ,EAAMknB,KAAKmD,MAAMhqB,GACrB,GAAiB,YAAbL,EAAIhL,KACJuC,KAAK+yB,gBAAgBtqB,QAEpB,GAAiB,aAAbA,EAAIhL,KAAqB,CAC9B,MAAM2K,EAAWK,EACXgqB,EAAMzyB,KAAK8xB,iBAAiBv1B,IAAI6L,EAAS+G,aAC3CsjB,IACAzyB,KAAK8xB,iBAAiBlI,OAAOxhB,EAAS+G,aACtCsjB,EAAIrqB,KAIhB,MAAOtG,GACH9B,KAAKqyB,WAAW,IAAInvB,EAAW3F,MAAM,QAAS,yBAA2BuE,GAAKA,EAAEgH,WAGxF,cAGH,CACD,MAAM4a,EAAM1jB,KAAKmyB,SAASrX,QAAQ3U,EAAe6sB,UACjD,IAAa,IAATtP,EAAY,CACZ,MACMuP,EADSjzB,KAAKmyB,SAASvwB,SAAS,OAAQ,EAAG8hB,GAC5BlG,MAAM,QAC3B,IAAK,IAAI7d,EAAI,EAAGA,EAAIszB,EAAM1zB,OAAQI,IAAK,CACnC,MAAMuzB,EAAOD,EAAMtzB,GAAG6d,MAAM,OACb,kBAAX0V,EAAK,KACLlzB,KAAK6yB,gBAAkBK,EAAK,IAGpClzB,KAAKmyB,SAAWnyB,KAAKmyB,SAAS3wB,MAAMkiB,EAAMvd,EAAe6sB,SAASzzB,QAClE,UAGR,QAIZ4G,EAAe6sB,SAAW,WAC1B71B,EAAQgJ,eAAiBA,G,cCtIzBvJ,EAAOO,QAAUC,QAAQ,Q,6BCKzBP,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IACtD,MAAM+S,EAAS,EAAQ,IACjBG,EAASH,EAAOG,OAChBN,EAAiB,EAAQ,GAC/B,MAAME,UAA4BF,EAAenJ,aAC7C,YAAYitB,EAAsB/sB,EAA0CC,GACxE3I,MAAM0I,EAA0CC,GAChDrG,KAAKmzB,qBAAuBA,EAC5BnzB,KAAK8G,GAAG,QAAUsI,IACdO,EAAO3I,MAAMoI,EAAMlK,QAG3B,MAAM6sB,EAAUC,GACZt0B,MAAMoB,MAAMizB,EAAUC,GACtBriB,EAAOgN,KAAK7a,GAAK9B,KAAKuhB,UAAUzf,GAAI9B,KAAKmzB,qBAAsBnzB,KAAK6G,WAKxE,UAAUuI,GACAA,aAAiBI,EAAO8E,gBAE1B3E,EAAOyjB,QAAQ,cAAczD,KAAKC,UAAUxgB,MAEhD1R,MAAM6jB,UAAUnS,GAKpB,YAAY7F,EAASN,EAAMC,EAASC,GAChCwG,EAAOyjB,QAAQ,cAAczD,KAAKC,UAAUrmB,MAAYomB,KAAKC,UAAU3mB,iBAAoBC,KAC3FxL,MAAM0L,YAAYG,EAASN,EAAMC,EAASC,GAK9C,aAAaf,GACTuH,EAAOyjB,QAAQ,cAAczD,KAAKC,UAAUxnB,MAC5C1K,MAAMsL,aAAaZ,GAEvB,gBAAgBiB,GACZsG,EAAOyjB,QAAQ,gBAAgB/pB,EAAQE,WAAWomB,KAAKC,UAAUvmB,EAAQG,eACzE9L,MAAMq1B,gBAAgB1pB,IAG9BlM,EAAQoS,oBAAsBA,G,gBClD9B,IAAIxQ,EAAO,EAAQ,GACf4R,EAAK,EAAQ,GACb0iB,EAAQzzB,SAAS,OAAQ,GAI7B,SAAS0zB,EAAQC,EAAG1Z,EAAM2Z,EAAGC,GACL,mBAAT5Z,GACP2Z,EAAI3Z,EACJA,EAAO,IAEDA,GAAwB,iBAATA,IACrBA,EAAO,CAAE6Z,KAAM7Z,IAGnB,IAAI6Z,EAAO7Z,EAAK6Z,KACZC,EAAM9Z,EAAKlJ,IAAMA,OAERrO,IAAToxB,IACAA,EAAOL,GAENI,IAAMA,EAAO,MAElB,IAAItqB,EAAKqqB,GAAK,aACdD,EAAIx0B,EAAKmR,QAAQqjB,GAEjBI,EAAIC,MAAML,EAAGG,GAAM,SAAUG,GACzB,IAAKA,EAED,OAAO1qB,EAAG,KADVsqB,EAAOA,GAAQF,GAGnB,OAAQM,EAAGlhB,MACP,IAAK,SACD,GAAI5T,EAAKmU,QAAQqgB,KAAOA,EAAG,OAAOpqB,EAAG0qB,GACrCP,EAAOv0B,EAAKmU,QAAQqgB,GAAI1Z,GAAM,SAAUga,EAAIJ,GACpCI,EAAI1qB,EAAG0qB,EAAIJ,GACVH,EAAOC,EAAG1Z,EAAM1Q,EAAIsqB,MAE7B,MAKJ,QACIE,EAAIG,KAAKP,GAAG,SAAUQ,EAAKD,GAGnBC,IAAQD,EAAKE,cAAe7qB,EAAG0qB,EAAIJ,GAClCtqB,EAAG,KAAMsqB,UA5ClC72B,EAAOO,QAAUm2B,EAAO1iB,OAAS0iB,EAAOA,OAASA,EAmDjDA,EAAO/a,KAAO,SAASA,EAAMgb,EAAG1Z,EAAM4Z,GAC7B5Z,GAAwB,iBAATA,IAChBA,EAAO,CAAE6Z,KAAM7Z,IAGnB,IAAI6Z,EAAO7Z,EAAK6Z,KACZC,EAAM9Z,EAAKlJ,IAAMA,OAERrO,IAAToxB,IACAA,EAAOL,GAENI,IAAMA,EAAO,MAElBF,EAAIx0B,EAAKmR,QAAQqjB,GAEjB,IACII,EAAIM,UAAUV,EAAGG,GACjBD,EAAOA,GAAQF,EAEnB,MAAOW,GACH,OAAQA,EAAKvhB,MACT,IAAK,SACD8gB,EAAOlb,EAAKxZ,EAAKmU,QAAQqgB,GAAI1Z,EAAM4Z,GACnClb,EAAKgb,EAAG1Z,EAAM4Z,GACd,MAKJ,QACI,IAAIK,EACJ,IACIA,EAAOH,EAAIQ,SAASZ,GAExB,MAAOa,GACH,MAAMF,EAEV,IAAKJ,EAAKE,cAAe,MAAME,GAK3C,OAAOT,I,6BC5FX52B,OAAOmG,eAAe7F,EAAS,aAAc,CAAEV,OAAO,IAoBtDU,EAAQuS,QAnBR,MACI,YAAY2kB,GACRr0B,KAAKs0B,aAAe,IACpBt0B,KAAKu0B,WAAa,IAAIlU,IACtBrgB,KAAKw0B,YAAqC,iBAAhBH,EAA2BA,EAAcr0B,KAAKs0B,aAE5E,QACIt0B,KAAKw0B,YAAcx0B,KAAKs0B,aACxBt0B,KAAKu0B,WAAa,IAAIlU,IAE1B,OAAO5jB,GACH,IAAIg4B,EAASz0B,KAAKw0B,cAElB,OADAx0B,KAAKu0B,WAAW/I,IAAIiJ,EAAQh4B,GACrBg4B,EAEX,IAAIA,EAAQC,GACR,OAAO10B,KAAKu0B,WAAWh4B,IAAIk4B,IAAWC,K,iXCtB9C,cACA,OACA,OACA,OAIA,OACA,OACa,EAAAC,MAEb,SAAgBC,EAAO9zB,GACnB,OAAOA,EAAIgC,QAAQ,MAAO,QAAQA,QAAQ,KAAM,OADpD,WAIA,MAAM+xB,EAAY,wCACZC,EAAW,2BACXC,EAAW,MAEjB,SAASC,EAAc1wB,GACnB,OAAIuwB,EAAUx1B,KAAKiF,GAQvB,MAAasgB,UAAY,EAAApE,aAWrB,YAAmByU,EAA4BhsB,GAC3CvL,QADe,KAAAu3B,cAA4B,KAAAhsB,OAPrC,KAAAisB,aAAuB,EACvB,KAAAC,SAAuD,GAU1D,QAAQhT,EAAaN,EAAoBoD,GAK5C,OAJKmQ,EAAWviB,WAAWgP,KACvBA,EAAauT,EAAWxb,KAAKuI,EAAKN,IAG/B,IAAI5R,QAAQ,CAACC,EAASC,KACzB,MAAMlH,EAAO,IAAIjJ,KAAKiJ,KAAM4Y,GAC5B7hB,KAAKoH,QAAUiuB,EAAaC,MAAMt1B,KAAKi1B,YAAahsB,EAAM,CAAEkZ,IAAKA,EAAKlH,IAAKjb,KAAKu1B,UAChFv1B,KAAKoH,QAAQa,OAAOnB,GAAG,OAAQ9G,KAAKiI,OAAOtL,KAAKqD,OAChDA,KAAKoH,QAAQouB,OAAO1uB,GAAG,OAAQ9G,KAAKw1B,OAAO74B,KAAKqD,OAChDA,KAAKoH,QAAQN,GAAG,QAAQ,KAAS9G,KAAKutB,KAAK,UAAY5wB,KAAKqD,OAC5DA,KAAKoH,QAAQN,GAAG,SAAWiM,IAAU/S,KAAKutB,KAAK,cAAexa,KAASpW,KAAKqD,OAE5E,MAAMy1B,EAAez1B,KAAKkmB,YAAY,2BAA2B,GAC3DwP,EAAWzQ,EAAS5H,IAAK/G,GAAMtW,KAAKkmB,YAAY5P,IACtDof,EAASh2B,KAAK+1B,GAEdxlB,QAAQya,IAAIgL,GAAUjlB,KAAK,KACvBzQ,KAAKutB,KAAK,eACVrd,KACDC,KAIH,OAAO1M,GAKPzD,KAAK21B,QADW,iBAATlyB,EACQA,EAGAA,EAAK7B,SAAS,QAEjC,MAAMoS,EAAMhU,KAAK21B,OAAOC,YAAY,OACvB,IAAT5hB,IACAhU,KAAK61B,SAAS71B,KAAK21B,OAAOr2B,OAAO,EAAG0U,IACpChU,KAAK21B,OAAS31B,KAAK21B,OAAOr2B,OAAO0U,EAAM,IAEvChU,KAAK21B,OAAOp2B,QACRS,KAAK81B,gBAAgB91B,KAAK21B,UAC1B31B,KAAK21B,OAAS,IAKlB,OAAOlyB,GAEPzD,KAAK+1B,QADW,iBAATtyB,EACQA,EAGAA,EAAK7B,SAAS,QAEjC,MAAMoS,EAAMhU,KAAK+1B,OAAOH,YAAY,OACvB,IAAT5hB,IACAhU,KAAKg2B,eAAeh2B,KAAK+1B,OAAOz2B,OAAO,EAAG0U,IAC1ChU,KAAK+1B,OAAS/1B,KAAK+1B,OAAOz2B,OAAO0U,EAAM,IAEvChU,KAAK+1B,OAAOx2B,SACZS,KAAKi2B,aAAa,SAAUj2B,KAAK+1B,QACjC/1B,KAAK+1B,OAAS,IAId,eAAe9C,IACnBA,EAAQA,EAAMzV,MAAM,OACdhf,QAAS8F,IACXtE,KAAKkR,IAAI,SAAU5M,KAInB,gBAAgBA,GACpB,QAAI0wB,EAAc1wB,KACdtE,KAAKi2B,aAAa,SAAU3xB,IACrB,GAKP,SAAS2uB,IACbA,EAAQA,EAAMzV,MAAM,OACdhf,QAAS8F,IACX,GAAI0wB,EAAc1wB,GACTwwB,EAASz1B,KAAKiF,IACftE,KAAKkR,IAAI,SAAU5M,OAGtB,CACD,MAAM4xB,EAAS,EAAAC,QAAQ7xB,GACnBtE,KAAKglB,aACLhlB,KAAKkR,IAAI,MAAO,eAAiBye,KAAKC,UAAUsG,IAEpD,IAAIE,GAAU,OACO9zB,IAAjB4zB,EAAOr2B,OACHG,KAAKm1B,SAASe,EAAOr2B,SACrBG,KAAKm1B,SAASe,EAAOr2B,OAAOq2B,UACrBl2B,KAAKm1B,SAASe,EAAOr2B,OAC5Bu2B,GAAU,IAGbA,GAAWF,EAAOh2B,eAAsD,UAArCg2B,EAAOh2B,cAAc6C,aACzD/C,KAAKkR,IAAI,SAAUglB,EAAOn2B,OAAO,QAAUuE,GAE3C4xB,EAAOj2B,kBACPi2B,EAAOj2B,gBAAgBzB,QAAS63B,IAC5B,GAAIA,EAAO1zB,SACP3C,KAAKkR,IAAImlB,EAAO54B,KAAM44B,EAAO74B,cAG7B,GAAoB,SAAhB64B,EAAO54B,KAEP,GADAuC,KAAKutB,KAAK,oBAAqB2I,GACL,YAAtBG,EAAOzzB,WACP5C,KAAKutB,KAAK,UAAW2I,QAEpB,GAA0B,YAAtBG,EAAOzzB,WAA0B,CACtC,MAAMhF,EAASs4B,EAAOG,OAAO,UApInD,EAwIqC,mBAAXz4B,EACAoC,KAAKutB,KAAK,aAAc2I,GAER,uBAAXt4B,EACLoC,KAAKutB,KAAK,WAAY2I,GAEN,sBAAXt4B,EACLoC,KAAKutB,KAAK,eAAgB2I,GAEV,oBAAXt4B,EACLoC,KAAKutB,KAAK,cAAe2I,GAET,oBAAXt4B,EACLoC,KAAKutB,KAAK,kBAAmB2I,GAEb,WAAXt4B,GACLoC,KAAKkR,IAAI,SAAU,4BAA8BglB,EAAOG,OAAO,cAC/Dr2B,KAAKutB,KAAK,kBAAmB2I,KAG7Bl2B,KAAKkR,IAAI,UAAW,qDAAuDtT,GAC3EoC,KAAKutB,KAAK,UAAW2I,IAEzBl2B,KAAKutB,KAAK,kBAAmB2I,QAG7Bl2B,KAAKkR,IAAI,MAAOye,KAAKC,UAAUsG,SAGlC,GAAoB,WAAhBG,EAAO54B,KAAmB,CAC/B,IAAI6uB,EACAgK,EACJ,IAAK,MAAMtkB,KAAQqkB,EAAOj2B,OACN,OAAZ4R,EAAK,GACLsa,EAAMta,EAAK,GACQ,aAAZA,EAAK,KACZskB,EAAMtkB,EAAK,IAGO,mBAAtBqkB,EAAOzzB,WACP5C,KAAKutB,KAAK,iBAAkB,CAAE1vB,SAAU+B,SAAS0sB,GAAMH,cAAemK,IAE3C,kBAAtBD,EAAOzzB,WACZ5C,KAAKutB,KAAK,gBAAiB,CAAE1vB,SAAU+B,SAAS0sB,GAAMH,cAAemK,IAE1C,oBAAtBD,EAAOzzB,WACZ5C,KAAKutB,KAAK,kBAAmB,CAAE1vB,SAAU+B,SAAS0sB,KAEvB,wBAAtB+J,EAAOzzB,YACZ5C,KAAKutB,KAAK,sBAAuB,CAAEpB,cAAeG,OAKlE8J,GAAU,QAEO9zB,IAAjB4zB,EAAOr2B,YAAgDyC,IAAzB4zB,EAAOh2B,eAAiE,IAAlCg2B,EAAOj2B,gBAAgBV,SAC3F62B,GAAU,GAETA,GACDp2B,KAAKkR,IAAI,MAAO,cAAgBye,KAAKC,UAAUsG,OAMvD,UACJ,MAAMK,EAAOv2B,KAAKoH,QAClB,IACIA,QAAQovB,MAAMD,EAAKE,KAEvB,MAAO30B,GACH9B,KAAKkR,IAAI,MAAO,oBAAoBqlB,EAAKE,MAAQ30B,IAI5C,O,yCAII9B,KAAKoH,QAAlB,MACMsf,EAAKxe,WAAW,KAAQlI,KAAK02B,WAAc,KACjD12B,KAAKoH,QAAQN,GAAG,OAAS6L,IAAW4R,aAAamC,WAG3C1mB,KAAKkmB,YAAY,qBACvBlmB,KAAK22B,QAAQ,gBAGJ,S,+CAIH32B,KAAKkmB,YAAY,iBACvBlmB,KAAKkpB,UAGF,UAAUmG,EAAc,IAI3B,OAAO,IAAIpf,QAAQ,CAACC,EAASC,KACzBnQ,KAAKkmB,YAAY,kBAAkBmJ,KAAO5e,KAAM3Q,IAC5CoQ,EAA2C,SAAnCpQ,EAAKI,cAAc6C,cAC5BoN,KAIJ,SAAStS,GAIZ,OAAO,IAAIoS,QAAQ,CAACC,EAASC,KACzBnQ,KAAKkmB,YAAY,0BAA0BroB,KAAY4S,KAAM3Q,IACzDoQ,EAA2C,YAAnCpQ,EAAKI,cAAc6C,cAC5BoN,KAIJ,KAAKtS,EAAkBwqB,GAI1B,OAAO,IAAIpY,QAAQ,CAACC,EAASC,KACzB,MAAMymB,EAAUvO,EAAc,wBAA0B,YACxDroB,KAAKkmB,YAAY,GAAG0Q,cAAoB/4B,KAAY4S,KAAM3Q,IACtDoQ,EAA2C,YAAnCpQ,EAAKI,cAAc6C,cAC5BoN,KAIJ,KAAKtS,EAAkBwqB,GAI1B,OAAO,IAAIpY,QAAQ,CAACC,EAASC,KACzB,MAAMymB,EAAUvO,EAAc,wBAA0B,YACxDroB,KAAKkmB,YAAY,GAAG0Q,cAAoB/4B,KAAY4S,KAAM3Q,IACtDoQ,EAA2C,YAAnCpQ,EAAKI,cAAc6C,cAC5BoN,KAIJ,QAAQtS,GAIX,OAAO,IAAIoS,QAAQ,CAACC,EAASC,KACzBnQ,KAAKkmB,YAAY,wBAAwBroB,KAAY4S,KAAM3Q,IACvDoQ,EAA2C,YAAnCpQ,EAAKI,cAAc6C,cAC5BoN,KAIJ,QAAQ8U,GAIX,OAAOjlB,KAAK62B,qBAAqB5R,GAG9B,UAAUA,GAIb,OAAOjlB,KAAK62B,qBAAqB5R,GAG7B,qBAAqBA,GACzB,OAAO,IAAIhV,QAAQ,CAACC,EAASC,KACzB,MAAM2mB,GAAgB7R,IAClB,GAAwB,IAApBA,EAAS1lB,OACT2Q,GAAQ,OACL,CACH,MAAM3G,EAAU0b,EAAS,GACzBjlB,KAAKkmB,YAAY3c,GAASkH,KAAMsmB,IAAQD,EAAY7R,EAASzjB,MAAM,KAAQ2O,MAEhFxT,KAAKqD,MAER82B,EAAY7R,KAIb,eAAe3hB,EAAc0zB,GAIhC,OAAOh3B,KAAKkmB,YAAY,eAAiB5iB,EAAO,IAAM0zB,GAGnD,uBAAuBC,EAASlM,GAInC,OAAO/qB,KAAKkmB,YAAY,mBAAqB+Q,EAAU,IAAMlM,GAG1D,cAAcnlB,GAIjB,OAAO,IAAIqK,QAAQ,CAACC,EAASC,KACzB,IAAI+mB,EAAW,GACf,GAAItxB,EAAWolB,eACX,GAAqC,MAAjCplB,EAAWolB,eAAe,GAC1BkM,GAAY,MAAQnC,EAAS11B,KAAKuG,EAAWolB,eAAe1rB,OAAO,IAAI,GAAK,QAE3E,CACD,MAAM6C,EAAQ4yB,EAAS11B,KAAKuG,EAAWolB,gBAAgB,GACnD7oB,EAAM5C,SAAWqG,EAAWolB,eAAezrB,QAE3CS,KAAKkR,IAAI,SAAU,wCAA2CtL,EAAWolB,eAAiB,gGAC1FkM,GAAY,OAEa,IAApBt3B,SAASuC,KACd+0B,GAAY,SAAWt3B,SAASuC,GAAS,KAKjDyD,EAAWklB,IACXoM,GAAY,IAAMtC,EAAOhvB,EAAWklB,KAGpCoM,GAAY,IAAMtC,EAAOhvB,EAAW6hB,MAAQ,IAAM7hB,EAAWtB,KAAO,IAGxEtE,KAAKkmB,YAAY,gBAAgBgR,KAAYzmB,KAAM1Q,IAC/C,GAAyC,SAArCA,EAAOG,cAAc6C,YAAwB,CAC7C,MAAMk0B,EAAUr3B,SAASG,EAAOA,OAAO,gBACvC6F,EAAW0lB,OAAS2L,EAEhBrxB,EAAWmlB,UACX/qB,KAAKm3B,uBAAuBF,EAASrxB,EAAWmlB,WAAWta,KAAM1Q,IACpB,SAArCA,EAAOG,cAAc6C,YACrBmN,EAAQtK,GAERsK,EAAQ,OAEbC,GAGHD,EAAQtK,QAIZsK,EAAQ,OAEbC,KAIJ,kBAAkBwa,GAIrB,OAAO,IAAI1a,QAAQ,CAACC,EAASC,KACzB,GAA2B,IAAvBwa,EAAYprB,OACZ2Q,GAAQ,OAEP,CACD,MAAM6I,EAAM,gBAAkB4R,EAAY/Q,KAAK,KAC/C5Z,KAAKkmB,YAAYnN,GAAKtI,KAAM1Q,IACxBmQ,EAA6C,SAArCnQ,EAAOG,cAAc6C,cAC9BoN,MAKR,SAASinB,EAAgB/F,GAC5B,OAAO,IAAIphB,QAAQ,CAACC,EAASC,KACzB,MAAM5G,EAAU,6BAA6B6tB,aAAkB/F,IAE/DrxB,KAAKkmB,YAAY3c,GAASkH,KAAM1Q,IAC5B,MAAMsxB,EAAQtxB,EAAOA,OAAO,SACtBgR,EAAQ,EAAAlS,OAAOsB,QAAQkxB,EAAO,SAC9BgG,EAAO,EAAAx4B,OAAOsB,QAAQkxB,EAAO,QAC7BzF,EAAO,EAAA/sB,OAAOsB,QAAQkxB,EAAO,QAC7B5J,EAAO,EAAA5oB,OAAOsB,QAAQkxB,EAAO,QAC7BiG,EAAW,EAAAz4B,OAAOsB,QAAQkxB,EAAO,YACvC,IAAI/sB,EAAO,EACX,MAAMizB,EAAU,EAAA14B,OAAOsB,QAAQkxB,EAAO,QAClCkG,IAAWjzB,EAAO1E,SAAS23B,IAE/BrnB,EAAQ,CACJ6K,QAASsc,EACTrK,SAAUvF,EACVA,KAAM6P,EACNhQ,SAAUsE,EACV7a,MAAOA,EACPzM,KAAMA,KAEX6L,KAIJ,SAAStS,EAAkB25B,EAAoBC,GAIlD,OAAO,IAAIxnB,QAAQ,CAACC,EAASC,KACzBnQ,KAAKkmB,YAAY,8BAA8BroB,KAAY25B,KAAcC,KAAahnB,KAAM1Q,IACxF,MAAMuM,EAAQvM,EAAOA,OAAO,SACtBoB,EAAe,GACrBmL,EAAM9N,QAASiB,IACX,MAAMsR,EAAQ,EAAAlS,OAAOsB,QAAQV,EAAS,gBAChC43B,EAAO,EAAAx4B,OAAOsB,QAAQV,EAAS,eAC/BmsB,EAAO,EAAA/sB,OAAOsB,QAAQV,EAAS,eAC/Bi4B,EAAW,EAAA74B,OAAOsB,QAAQV,EAAS,eACnCgoB,EAAO,EAAA5oB,OAAOsB,QAAQV,EAAS,mBACrC,IAAI6E,EAAO,EACX,MAAMqzB,EAAQ,EAAA94B,OAAOsB,QAAQV,EAAS,eAClCk4B,IAASrzB,EAAO1E,SAAS+3B,IAC7B,MAAMC,EAAOh4B,SAAS,EAAAf,OAAOsB,QAAQV,EAAS,gBAC9C0B,EAAIzB,KAAK,CACLqb,QAASsc,EACTrK,SAAU0K,EACVjQ,KAAMA,EACNH,SAAUsE,GAAQgM,EAClB7mB,MAAOA,EACPzM,KAAMA,MAGd4L,EAAQ/O,IACTgP,KAIE,kBAAkBinB,EAAgB/F,G,yCAK3C,MACM/oB,SADetI,KAAKkmB,YAAY,iCAAiCkR,aAAkB/F,sBAChEtxB,OAAO,aAC1BoB,EAAkB,GACxB,IAAK,MAAM1B,KAAW6I,EAAW,CAC7B,MAAM5L,EAAM,EAAAmC,OAAOsB,QAAQV,EAAS,QAC9BhD,EAAQ,EAAAoC,OAAOsB,QAAQV,EAAS,SAChChC,EAAO,EAAAoB,OAAOsB,QAAQV,EAAS,QACrC0B,EAAIzB,KAAK,CACL4D,KAAM5G,EACNm7B,SAAUp7B,EACVgB,KAAMA,EACNqtB,IAAKrrB,IAGb,OAAO0B,KAGJ,cAAcy2B,EAAcr4B,GAI/B,OAAO,IAAI0Q,QAAQ,CAACC,EAASC,KACzBnQ,KAAKkmB,YAAY,4BAA8B0R,EAAKh2B,SAAS,IAAM,IAAMrC,GAAQkR,KAAM1Q,IACnFmQ,EAAQnQ,EAAOA,OAAO,wBACvBoQ,KAKJ,eAAe7M,EAAczF,EAAkBksB,GAIlD,OAAO,IAAI9Z,QAAQ,CAACC,EAASC,KACzB,MAAM2nB,EAAOlT,EAAImT,kBAAkBl6B,EAAUksB,GAC7C/pB,KAAKkmB,YAAY,4BAA4B4R,KAAUx0B,GAAMmN,KAAM1Q,IAC/DmQ,EAAQnQ,IACToQ,KAaE,UAAUshB,EAAoBnuB,EAAe,IAAK4pB,EAAgB,K,yCAI3E,IAAIzE,EAAM,KACVgJ,EAAaA,EAAWvyB,OACpB,cAAcmP,KAAKojB,KACnBhJ,EAAMgJ,EAAWzU,UAAUyU,EAAWlyB,OAAS,GAAGy4B,oBAClDvG,EAAaA,EAAWzU,UAAU,EAAGyU,EAAWlyB,OAAS,IAE7DkyB,EAAaA,EAAW3uB,QAAQ,KAAM,OAEtC,MAAMm1B,QAAmBj4B,KAAKkmB,YAAY,cAAc5iB,KAAQ4pB,MAAUuE,MAC1E,IAAIyG,EAAc,KAClB,GAAIzP,GAAgB,MAATnlB,EAAc,CACrB,MAAM60B,QAAmBn4B,KAAKkmB,YAAY,kBAAkB5iB,KAAQshB,EAAIwT,gBAAgB3P,MACxFyP,EAAcC,EAAWp4B,OAAO,SAGpC,IAAIA,EAASk4B,EAAWl4B,OAAO,IAI/B,OAHIm4B,IACAn4B,EAASA,EAAOsd,IAAK0Z,GAAyB,UAATA,EAAE,GAAkB,CAAC,QAASmB,GAAenB,IAE/E,IAAI,EAAA3G,eAAerwB,MAGjB,kBAAkBuD,G,yCAI3B,OAAOtD,KAAKkmB,YAAY,2BAA2B5iB,QAG1C,gBAAgBA,EAAcktB,G,yCAKvC,MACMlb,SADYtV,KAAKkmB,YAAY,kCAAkC5iB,MAChDvD,OAAO,aAAe,GACrCs4B,EAAwB,GAC9B,IAAK,MAAMrmB,KAAQsD,EAAU,CACzB,MAAMob,EAAQ,IAAI,EAAAN,eAAepe,EAAK,IAClCwe,GAAoBE,EAAMzb,IAAI0E,WAAW,eACzC0e,EAAI34B,cAAeM,KAAKuwB,gBAAgBG,EAAMptB,KAAMktB,IAEpD6H,EAAI34B,KAAKgxB,GAGjB,OAAO2H,KAGJ,yBAAyBx6B,EAAkBksB,GAG9C,OAFWlsB,EAAW,EAAI,YAAYA,KAAc,KACzCksB,GAAW,EAAI,WAAWA,IAAY,IAKxC,UAAUzmB,EAAe,IAAKzF,EAAkBksB,G,yCAIzD,OAAO/pB,KAAKkmB,YAAY,cAActB,EAAImT,kBAAkBl6B,EAAUksB,mBAAyBzmB,QAItF,UAAUA,EAAc0zB,EAAkBn5B,EAAkBksB,G,yCAIrE,OAAO/pB,KAAKkmB,YAAY,cAActB,EAAImT,kBAAkBl6B,EAAUksB,MAAYzmB,KAAQ0zB,QAGvF,aAAav5B,EAAcgL,GAC9BzI,KAAKutB,KAAK,MAAO9vB,EAAMgL,GAGpB,IAAIhL,EAAcgL,GACrBzI,KAAKutB,KAAK,MAAO9vB,EAA8B,OAAxBgL,EAAIA,EAAIlJ,OAAS,GAAckJ,EAAOA,EAAM,MAGhE,cAAcc,GACjB,OAAIA,EAAQoQ,WAAW,KACZ3Z,KAAKkmB,YAAY3c,EAAQjK,OAAO,IAGhCU,KAAKkmB,YAAY,6BAA6B3c,MAItD,QAAQuhB,GACP9qB,KAAK8kB,YACL9kB,KAAKkR,IAAI,MAAO4Z,GAEhBA,EAAIwN,SAAS,cACb5wB,QAAQwJ,IAAI4Z,GAEhB9qB,KAAKoH,QAAQY,MAAMtG,MAAMopB,EAAM,MAG5B,kBACH,OAAO9qB,KAAKk1B,aAGT,YAAY3rB,EAAiBgvB,GAA2B,GAC3D,MAAMC,EAAMx4B,KAAKk1B,eACjB,OAAO,IAAIjlB,QAAQ,CAACC,EAASC,KACzBnQ,KAAKm1B,SAASqD,GAAQxjB,IACdA,GAAQA,EAAK9U,eAAoD,UAAnC8U,EAAK9U,cAAc6C,YAC7Cw1B,GACAv4B,KAAKkR,IAAI,SAAU,qCAAqC3H,MACxD2G,EAAQ8E,IAGR7E,EAAO,IAAI,EAAA0F,QAAQb,EAAKjV,OAAO,QAAU,iBAAkBwJ,IAI/D2G,EAAQ8E,IAGhBhV,KAAK22B,QAAQ6B,EAAM,IAAMjvB,KAI1B,UACH,QAASvJ,KAAKoH,SAxIJ,EAAAgxB,gBAAkB,CAC5B5P,EAAG,SACH/pB,EAAG,UACHg6B,EAAG,cACHC,EAAG,QACH9P,EAAG,UACHC,EAAG,eAlgBX,S,6BCNA,SAAgB8P,EAAWvQ,EAAgBwQ,GACvC,IAAI7B,EAAI,EACR,MACMvO,EAAIJ,EAASwQ,EAAQ,EAC3B,IAAK,IAAIj5B,EAFCyoB,EAEMzoB,GAAK6oB,EAAG7oB,IAAOo3B,GAAKA,EAAK,GAAKp3B,KAAQ,EACtD,OAAOo3B,EASX,SAAgB8B,EAAap8B,GACzB,MAAI,eAAiB4R,KAAK5R,GACfmD,SAASnD,EAAMugB,UAAU,GAAI,GAE/B,mBAAqB3O,KAAK5R,GACxBmD,SAASnD,EAAMugB,UAAU,GAAI,IAE/B,WAAa3O,KAAK5R,GAChBmD,SAASnD,EAAO,IAElB,YAAc4R,KAAK5R,GACjBmD,SAASnD,EAAMugB,UAAU,GAAI,QADnC,E,iDA9CT,qBAA0BvgB,EAAeq8B,EAAkB,EAAGC,GAAyB,GACnF,IAAIC,EAAOv8B,EAAMmF,SAAS,IAC1B,KAAOo3B,EAAKz5B,OAASu5B,GAAWE,EAAO,IAAMA,EAC7C,OAAOD,EAAgB,KAAOC,EAAOA,GAGzC,wBAA6Bv8B,EAAeq8B,EAAkB,EAAGC,GAAyB,EAAME,GAAiB,GAC7G,IAAID,GAAQv8B,IAAU,GAAGmF,SAAS,GAClC,KAAOo3B,EAAKz5B,OAASu5B,GAAWE,EAAO,IAAMA,EAE7C,GAAIC,EAAO,CACP,MAAMC,EAAS,EAAKF,EAAKz5B,OAAS,EAClC,IAAK,IAAII,EAAI,EAAGA,EAAIu5B,EAAQv5B,IAAOq5B,EAAO,IAAMA,EAChD,MAAMG,EAASH,EAAK72B,MAAM,YAC1B62B,EAAOG,EAAOvf,KAAK,KAEnBof,EAAOA,EAAKhc,UAAUkc,GAG1B,OAAOH,EAAgB,KAAOC,EAAOA,GAGzC,eAQA,uBAA4Bv8B,EAAe2rB,EAAgBwQ,GAGvD,OADiBn8B,EADJk8B,EAAWvQ,EAAQwQ,MACGxQ,IAAY,GAInD,iBAgBA,yBAA8BgR,EAAcC,GACxC,IAA2B,IAAvBD,EAAKte,QAAQ,KAAa,CAC1B,MAAMwe,EAAaF,EAAK5b,MAAM,KAAKH,IAAK/G,GAAMA,EAAEpX,QAChD,GAAIo6B,EAAW/5B,SAAW85B,EACtB,MAAM,IAAI93B,MAAM,+CAEpB,OAAO+3B,EAGX,GAAI,wBAAwBjrB,KAAK+qB,GAAO,CACpC,MAAMzN,EAAQyN,EAAK5b,MAAM,KAAKH,IAAKkW,GAAMsF,EAAatF,IAChDz0B,EAAQ6sB,EAAM,GAIpB,GAHYA,EAAM,GAEQ7sB,EAAQ,EAChBu6B,EACd,MAAM,IAAI93B,MAAM,+CAGpB,MAAM+3B,EAAa,GACnB,IAAK,IAAI35B,EAAI,EAAGA,EAAI05B,EAAO15B,IACvB25B,EAAW55B,KAAK,GAAGZ,EAAQa,KAG/B,OAAO25B,EAGX,GAAI,uBAAuBjrB,KAAK+qB,GAAO,CACnC,MAAMt6B,EAAQs6B,EAAK/d,WAAW,GAI9B,GAHY+d,EAAK/d,WAAW,GAEFvc,EAAQ,EAChBu6B,EACd,MAAM,IAAI93B,MAAM,+CAGpB,MAAM+3B,EAAa,GACnB,IAAK,IAAI35B,EAAI,EAAGA,EAAI05B,EAAO15B,IACvB25B,EAAW55B,KAAK8U,OAAO+kB,aAAaz6B,EAAQa,IAGhD,OAAO25B,EAGX,MAAO,K,8EChGX,aACA,OACA,OACA,QACA,QAEA,MAAa9V,UAAkB,EAAAhD,aAS3B,YACY2B,EAAqB8S,EAA6BhsB,EAClDib,EAA2BxlB,GACnChB,QAFQ,KAAAykB,MAAqB,KAAA8S,cAA6B,KAAAhsB,OAClD,KAAAib,YAA2B,KAAAxlB,OAT/B,KAAA86B,UAAoB,GACpB,KAAAC,UAAoB,GAYrB,OACH,OAAO,IAAIxpB,QAAQ,CAACC,EAASC,KACA,OAArBnQ,KAAKi1B,aACLj1B,KAAK05B,YAAcxpB,EACnBlQ,KAAK25B,WAAaxpB,EAElBnQ,KAAKoH,QAAUiuB,EAAaC,MAAMt1B,KAAKi1B,YAAaj1B,KAAKiJ,KAAM,CAAEkZ,IAAKniB,KAAKmiB,MAC3EniB,KAAKoH,QAAQa,OAAOnB,GAAG,OAAQ9G,KAAK45B,SAASj9B,KAAKqD,OAClDA,KAAKoH,QAAQouB,OAAO1uB,GAAG,OAAQ9G,KAAK65B,SAASl9B,KAAKqD,OAClDA,KAAKoH,QAAQN,GAAG,OAAQ9G,KAAK85B,OAAOn9B,KAAKqD,OACzCA,KAAKoH,QAAQN,GAAG,QAAS9G,KAAK+5B,QAAQp9B,KAAKqD,OAEjB,iBAAdA,KAAKtB,MAAuBsB,KAAKtB,KAAO,GAGhD,EAAAwX,eAAe+C,gBAAgBjZ,KAAKtB,KAAM8kB,EAAUC,WAAW,EAAM,GAAID,EAAUa,eAAiB,KACnG5T,KAAK,KACEzQ,KAAK05B,cACL15B,KAAK05B,aAAY,GACjB15B,KAAK25B,WAAa,KAClB35B,KAAK05B,YAAc,QAExB3iB,MAAOjV,QAO+B,IAAzC9B,KAAKi1B,YAAYna,QAAQ,YAAuC,UAAlBtC,EAAGpK,YAGjD,EAAAlG,WAAW,KACHlI,KAAK05B,cACL15B,KAAK05B,aAAY,GACjB15B,KAAK25B,WAAa,KAClB35B,KAAK05B,YAAc,OAExB,KAEe,MAAlB15B,KAAKkkB,WAEL,EAAAhc,WAAW,KACHlI,KAAK05B,cACL15B,KAAK05B,aAAY,GACjB15B,KAAK25B,WAAa,KAClB35B,KAAK05B,YAAc,OAExB,MAIPxpB,MAKL,OACClQ,KAAKoH,UACLpH,KAAKoH,QAAQovB,OACbx2B,KAAKoH,QAAU,MAIf,OAAOuL,EAAMD,GACjB1S,KAAKutB,KAAK,OAAQ5a,EAAMD,GAGpB,QAAQK,GACR/S,KAAK25B,aACL35B,KAAK25B,WAAW5mB,GAChB/S,KAAK25B,WAAa,KAClB35B,KAAK05B,YAAc,MAGvB15B,KAAKutB,KAAK,cAAexa,GAGrB,SAAStP,GACmBzD,KAAKw5B,WAAjB,iBAAT/1B,EAAuCA,EACzBA,EAAK7B,SAAS,QAEnC5B,KAAK05B,aAAe15B,KAAKkkB,UAAU7V,KAAKrO,KAAKw5B,aAE7Cx5B,KAAK05B,aAAY,GACjB15B,KAAK05B,YAAc,KACnB15B,KAAK25B,WAAa,MAGtB,MAAM3lB,EAAMhU,KAAKw5B,UAAU5D,YAAY,OAC1B,IAAT5hB,IACAhU,KAAKutB,KAAK,SAAUvtB,KAAKw5B,UAAUxc,UAAU,EAAGhJ,IAChDhU,KAAKw5B,UAAYx5B,KAAKw5B,UAAUxc,UAAUhJ,EAAM,IAIhD,SAASvQ,GACmBzD,KAAKy5B,WAAjB,iBAATh2B,EAAuCA,EACzBA,EAAK7B,SAAS,QAEnC5B,KAAK05B,aAAe15B,KAAKkkB,UAAU7V,KAAKrO,KAAKy5B,aAE7Cz5B,KAAK05B,aAAY,GACjB15B,KAAK05B,YAAc,KACnB15B,KAAK25B,WAAa,MAGtB,MAAM3lB,EAAMhU,KAAKy5B,UAAU7D,YAAY,OAC1B,IAAT5hB,IACAhU,KAAKutB,KAAK,SAAUvtB,KAAKy5B,UAAUzc,UAAU,EAAGhJ,IAChDhU,KAAKy5B,UAAYz5B,KAAKy5B,UAAUzc,UAAUhJ,EAAM,KAvHjC,EAAAqQ,eAAiB,IACjB,EAAAZ,UAAY,UAPvC,e,6BCCAtmB,EAAQ8Z,MAAQA,EAChB9Z,EAAQkd,oBAwPR,SAA6B3b,EAAMyX,EAAMyC,EAAaC,GAGlD,IAAIgB,EACAmgB,EAAGC,IAAIv7B,IACPmb,EAAOnb,GACFoY,OAAQ,EAEb+C,EAAOqgB,EAAex7B,EAAMyX,GAAM,EAAOyC,EAAaC,GAG1D,OAAOsB,EAAcN,IAlQzB1c,EAAQg9B,cAuRR,SAAuBz7B,EAAMka,EAAaC,GAGtC,IAAIgB,EACAmgB,EAAGC,IAAIv7B,KACPmb,EAAOnb,GACFyX,KAAO,YACZ0D,EAAK/C,OAAQ,GAEb+C,EAAOqgB,EAAex7B,EAAM,aAAa,EAAOka,EAAaC,GAGjE,OAAOsB,EAAcN,IAlSzB1c,EAAQid,oBAAsBA,EAC9Bjd,EAAQi9B,cAuVR,SAAuB17B,EAAMka,EAAaC,GAGtC,IAAIgB,EACAmgB,EAAGC,IAAIv7B,KACPmb,EAAOnb,GACFyX,KAAO,YACZ0D,EAAK/C,OAAQ,GAEb+C,EAAOqgB,EAAex7B,EAAM,aAAa,EAAMka,EAAaC,GAGhE,OAAOuB,EAAoBP,IAlW/B1c,EAAQgd,cAAgBA,EAExB,IAAI6f,EAAK,EAAQ,IACb3jB,EAAM,EAAQ,IACdgkB,EAAO,EAAQ,IACf3e,EAAQ,EAAQ,GAAR,CAAiB,iBAM7B,SAAS4e,IACL,IAAIpqB,EAASC,EAAQoqB,EAAU,IAAItqB,SAAQ,SAASuF,EAAKglB,GACrDtqB,EAAUsF,EACVrF,EAASqqB,KAGb,MAAO,CACHtqB,QAASA,EACTC,OAAQA,EACRoqB,QAASA,GAcjB,SAASL,EAAex7B,EAAMyX,EAAMW,EAAO8B,EAAaC,GACpD,IAAIgB,EAAO,GAMX,OALAA,EAAKnb,KAAOA,EACZmb,EAAK1D,KAAOA,EACZ0D,EAAK/C,MAAQA,EACb+C,EAAKjB,YAAcA,EACnBiB,EAAKhB,UAAYA,EACVgB,EAsBX,SAAS5C,EAAMvY,EAAMyX,GAEjB,IAEIskB,EAEA5gB,EAJA6gB,EAAWJ,IACXxjB,GAAQ,EAUZ,GAHI+C,EAHCmgB,EAAGC,IAAIv7B,GAGDA,EAFAw7B,EAAex7B,EAAMyX,IAK3B6jB,EAAGt7B,KAAKmb,EAAKnb,MAGd,OAFAgd,EAAM,uBAAuB2e,EAAKM,QAAQ9gB,EAAKnb,OAC/Cg8B,EAASvqB,OAAO,IAAI5O,MAAM,iBAAiB84B,EAAKM,QAAQ9gB,EAAKnb,QACtDg8B,EAASH,QAQpB,SAASK,IACDH,IACAA,EAAOI,mBAAmB,WAC1BJ,EAAOI,mBAAmB,SAC1BJ,EAAOzmB,MACPymB,EAAOhe,UACPge,EAAOK,SA6Bf,OAxCId,EAAGe,gBAAgBlhB,EAAK1D,QACxBuF,EAAM,yCACN7B,EAAK1D,KAAO,cAiChBskB,EAAS,IAAIpkB,EAAI2kB,QACVzkB,KAAK,WApBZ,WAEImkB,EAASxqB,QAAQ4G,GACjB8jB,OAkBJH,EAAOlkB,KAAK,SAfZ,SAAmBxD,GACE,iBAAbA,EAAIJ,KAEJ+nB,EAASvqB,OAAO4C,IAGhB+D,GAAQ,EAER4jB,EAASxqB,QAAQ4G,IAErB8jB,OAMJH,EAAO3U,QAAQ,CAACpnB,KAAMmb,EAAKnb,KAAMyX,KAAM0D,EAAK1D,OAAO,eAE5CukB,EAASH,QAyBpB,SAASpgB,EAAczb,EAAMyX,EAAMW,EAAO8B,EAAaC,GAEnD,IACIoiB,EAEAC,EAGArhB,EANA6gB,EAAWJ,IAEXa,GAAW,EAaf,GAPIthB,EADAmgB,EAAGC,IAAIv7B,GACAA,EAEAw7B,EAAex7B,EAAMyX,EAAMW,EAAO8B,EAAaC,IAKrDmhB,EAAGoB,KAAKvhB,EAAK/C,OAEd,OADA4jB,EAASvqB,OAAO,IAAI5O,MAAM,4BACnBm5B,EAASH,QAapB,SAASK,IACDK,GACA1W,aAAa0W,GAEbC,GACA3W,aAAa2W,GAqCrB,OApDKlB,EAAGqB,YAAYxhB,EAAKjB,eACrBiB,EAAKjB,YAjKG,IAkKR8C,EAAM,mCAGLse,EAAGqB,YAAYxhB,EAAKhB,aACrBgB,EAAKhB,UAvKC,IAwKN6C,EAAM,oCAiBVuf,EAAY/yB,YALZ,WACIizB,GAAW,EACXP,IACAF,EAASvqB,OAAO,IAAI5O,MAAM,cAEMsY,EAAKhB,WAEzC,SAASyiB,IACLrkB,EAAM4C,EAAKnb,KAAMmb,EAAK1D,MACrB1F,MAAK,SAASqG,GACX,IAAIqkB,EAKJ,OAAIrkB,IAAU+C,EAAK/C,OACf4jB,EAASxqB,eACT0qB,UAGAM,EAAUhzB,YAAW,WAAaozB,MAAczhB,EAAKjB,iBAG1D,SAAS7F,GACJooB,IAGJT,EAASvqB,OAAO4C,GAChB6nB,QAIRU,GACOZ,EAASH,QAyFpB,SAASngB,EAAoB1b,EAAMyX,EAAMyC,EAAaC,GAGlD,IAAIgB,EAQJ,OAPImgB,EAAGC,IAAIv7B,IACPmb,EAAOnb,GACFoY,OAAQ,EAEb+C,EAAOqgB,EAAex7B,EAAMyX,GAAM,EAAMyC,EAAaC,GAGlDsB,EAAcN,K,6BCjUzB,MAAM0hB,EAAO,GAAGx+B,eACV6E,EAAW,GAAGA,SACdo4B,EAAK78B,EACLq+B,EAAS,EAAQ,IACjBC,EAAW,EAAQ,IACzBzB,EAAG0B,QAAU,EAAQ,IAAkBA,QASvC1B,EAAG2B,QAAU,WACT,OAAS3B,EAAGhlB,QAA4B,oBAAX4mB,QAAoD,oBAA1Bh6B,EAAS5E,KAAK4+B,SASzE5B,EAAG6B,QAAU,SAASp/B,GAClB,YAAwB,IAAVA,GAElBu9B,EAAG8B,IAAM9B,EAAG6B,QAMZ7B,EAAG+B,OAAS,WACR,OAAQ30B,SAAWA,QAAQrK,eAAe,YAClCqK,QAAQrK,eAAe,aAEnCi9B,EAAGhlB,KAAOglB,EAAG+B,OAQb/B,EAAG13B,UAAY,SAAS7F,GACpB,YAAiB6F,IAAV7F,GAEXu9B,EAAGgC,KAAOhC,EAAGiC,MAAQjC,EAAG13B,UAYxB03B,EAAGxyB,MAAQ,SAAS/K,GAChB,MAAO,mBAAqBmF,EAAS5E,KAAKP,IAE9Cu9B,EAAGkC,IAAMlC,EAAGmC,IAAMnC,EAAGoC,KAAOpC,EAAGxyB,MAQ/BwyB,EAAGqC,UAAY,SAAS5/B,GACpB,OAAIu9B,EAAGsC,YAAY7/B,UAEF6F,IAAV7F,GACH8+B,EAAKv+B,KAAKP,EAAO,WACjB8/B,SAAS9/B,EAAM8C,UAEvBy6B,EAAGwC,QAAUxC,EAAGyC,SAAWzC,EAAG0C,QAAU1C,EAAG2C,UAAY3C,EAAGqC,UAQ1DrC,EAAGxwB,UAAY,SAAS/M,GACpB,MAAO,uBAAyBmF,EAAS5E,KAAKP,IAElDu9B,EAAG/wB,KAAO+wB,EAAGxwB,UAQbwwB,EAAG4C,QAAU,SAASngC,GAClB,MAAO,qBAAuBmF,EAAS5E,KAAKP,IAEhDu9B,EAAGoB,KAAOpB,EAAG4C,QAQb5C,EAAGrE,OAAS,SAASl5B,GACjB,OAAOu9B,EAAG+B,UAAY36B,QAAUA,OAAOrE,eAAe,aAAeqE,OAAOy7B,SAASpgC,IAEzFu9B,EAAG8C,KAAO9C,EAAG+C,IAAM/C,EAAGrE,OAOtBqE,EAAGgD,KAAO,SAASvgC,GACf,MAAO,kBAAoBmF,EAAS5E,KAAKP,IAS7Cu9B,EAAGhzB,MAAQ,SAASvK,GAChB,MAAO,mBAAqBmF,EAAS5E,KAAKP,IAE9Cu9B,EAAGjnB,IAAMinB,EAAGhzB,MAOZgzB,EAAGiD,MAAQ,SAASxgC,GAChB,OAAiB,IAAVA,GASXu9B,EAAG1S,SAAW,SAAS7qB,GACnB,OAAOu9B,EAAGkD,aAAazgC,IAAUu9B,EAAGmD,cAAc1gC,IAEtDu9B,EAAGoD,IAAMpD,EAAGpO,KAAOoO,EAAG1S,SAQtB0S,EAAGmD,cAAgB,SAAS1gC,GAC1B,MAAO,2BAA6BmF,EAAS5E,KAAKP,IAEpDu9B,EAAGqD,SAAWrD,EAAGsD,UAAYtD,EAAGmD,cAQhCnD,EAAGkD,aAAe,SAAUzgC,GAC1B,MAAO,sBAAwBmF,EAAS5E,KAAKP,IAE/Cu9B,EAAGuD,QAAUvD,EAAGwD,SAAWxD,EAAGkD,aAM9BlD,EAAGyD,KAAO,SAAShhC,GACf,OAAiB,OAAVA,GASXu9B,EAAGe,gBAAkB,SAASt+B,GAC1B,OAAOA,SAEXu9B,EAAGsC,YAActC,EAAGe,gBAQpBf,EAAG1O,OAAS,SAAS7uB,GACjB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAE/Cu9B,EAAG0D,IAAM1D,EAAG1O,OAQZ0O,EAAG/8B,OAAS,SAASR,GACjB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAE/Cu9B,EAAGC,IAAMD,EAAG/8B,OAQZ+8B,EAAG2D,OAAS,SAASlhC,GACjB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAE/Cu9B,EAAG4D,GAAK5D,EAAGjd,OAASid,EAAG2D,OAQvB3D,EAAG6D,OAAS,SAASphC,GACjB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAE/Cu9B,EAAGl5B,IAAMk5B,EAAG6D,OAOZ7D,EAAG8D,KAAO,SAASrhC,GACf,OAAiB,IAAVA,GAQX,IAAIshC,EAAa,IAAI3kB,OAAO,0EAC4B,KACxD4gB,EAAGgE,KAAO,SAASvhC,GACf,OAAOshC,EAAW1vB,KAAK5R,IAc3Bu9B,EAAGiE,MAAQ,SAASxhC,EAAOyhC,GACvB,IAAIzgC,EAAOmE,EAAS5E,KAAKP,GAEzB,cAAWA,UAAiByhC,IAIxBzgC,IAASmE,EAAS5E,KAAKkhC,KAIvB,oBAAsBzgC,GAAQ,mBAAqBA,EAC5C+9B,EAAO/+B,EAAOyhC,GACd,sBAAwBzgC,EACxBhB,EAAMK,YAAcohC,EAAMphC,UAC1B,kBAAoBW,EACpBhB,EAAM0hC,YAAcD,EAAMC,UAG9B1hC,IAAUyhC,KAErBlE,EAAGoE,UAAYpE,EAAGqE,GAAKrE,EAAGiE,MAM1B,IAAIK,EAAiB,CACjB,QAAW,EACX,OAAU,EACV,OAAU,EACV,UAAa,GASjBtE,EAAGuE,OAAS,SAAS9hC,EAAO0Z,GACxB,GAAI6jB,EAAGsC,YAAY7/B,GACf,OAAO,EACX,IAAIgB,SAAc0Y,EAAK1Z,GACvB,MAAgB,WAATgB,IAAsB0Y,EAAK1Z,IAAU6hC,EAAe7gC,IAS/Du8B,EAAGwE,WAAa,SAAS/hC,EAAOqZ,GAC5B,OAAIkkB,EAAGsC,YAAY7/B,KAAUu9B,EAAGsC,YAAYxmB,IAEpCrZ,aAAiBqZ,GAE7BkkB,EAAGyE,OAASzE,EAAG0E,WAAa1E,EAAGwE,WAS/BxE,EAAG2E,iBAAmB,SAASC,EAASC,GACpC,IACI,MAAO,oBAAsBj9B,EAAS5E,KAAK4hC,IAAaA,aAAmBC,EAC7E,MAAM9rB,GACJ,OAAO,IAGfinB,EAAGyE,OAASzE,EAAGwE,WAAaxE,EAAG8E,UAAY9E,EAAG2E,iBAS9C3E,EAAGv8B,KAAO,SAAShB,EAAOgB,GACtB,cAAchB,IAAUgB,GAE5Bu8B,EAAG+E,EAAI/E,EAAGv8B,KAUVu8B,EAAGgF,MAAQ,SAASviC,GAChB,IAAIgB,EAAOmE,EAAS5E,KAAKP,GAEzB,GAAI,mBAAqBgB,GAAQ,uBAAyBA,EACtD,OAAwB,IAAjBhB,EAAM8C,OAGjB,GAAI,oBAAsB9B,EAAM,CAC5B,IAAK,IAAIf,KAAOD,EAAO,GAAI8+B,EAAKv+B,KAAKP,EAAOC,GAAM,OAAO,EACzD,OAAO,EAGX,MAAI,oBAAsBe,GACL,KAAVhB,GAYfu9B,EAAGiF,eAAiB,SAASxiC,GACzB,MAAO,uBAAyBmF,EAAS5E,KAAKP,IAA2B,IAAjBA,EAAM8C,QAElEy6B,EAAGkF,OAASlF,EAAGmF,UAAYnF,EAAGiF,eAQ9BjF,EAAGoF,WAAa,SAAS3iC,GACrB,MAAO,mBAAqBmF,EAAS5E,KAAKP,IAA2B,IAAjBA,EAAM8C,QAE9Dy6B,EAAGqF,UAAYrF,EAAGsF,SAAWtF,EAAGoF,WAQhCpF,EAAGuF,eAAiB,SAAS9iC,GACzB,OAAwB,IAAjBA,EAAM8C,QAEjBy6B,EAAGwF,aAAexF,EAAGuF,eAQrBvF,EAAGyF,YAAc,SAAShjC,GACtB,OAAOu9B,EAAG6D,OAAOphC,IAA2B,IAAjBA,EAAM8C,QAErCy6B,EAAG0F,SAAW1F,EAAGyF,YAQjBzF,EAAG2F,cAAgB,SAASljC,GACxB,MAAO,mBAAqBmF,EAAS5E,KAAKP,IAAUA,EAAM8C,OAAS,GAEvEy6B,EAAG4F,YAAc5F,EAAG6F,aAAe7F,EAAG8F,YAAc9F,EAAG2F,cAQvD3F,EAAG+F,eAAiB,SAAStjC,GACzB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUI,OAAO4d,KAAKhe,GAAO8C,OAAS,GAErFy6B,EAAGgG,YAAchG,EAAG+F,eAQpB/F,EAAGiG,YAAc,SAASxjC,GACtB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAwC,IAA9BI,OAAO4d,KAAKhe,GAAO8C,QAE5Ey6B,EAAGkG,SAAWlG,EAAGiG,YAQjBjG,EAAGmG,eAAiB,SAAS1jC,GACzB,OAAOu9B,EAAG6D,OAAOphC,IAAUA,EAAM8C,OAAS,GAE9Cy6B,EAAGoG,YAAcpG,EAAGmG,eAUpBnG,EAAGqG,KAAO,SAAS5jC,GACf,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAAM,GASvEu9B,EAAGsG,QAAU,SAAS7jC,GAClB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAAM,GAEvEu9B,EAAG1X,IAAM0X,EAAGuG,OAASvG,EAAGsG,QAQxBtG,EAAGwG,QAAU,SAAS/jC,GAClB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAAM,GAEvEu9B,EAAGyG,IAAMzG,EAAGwG,QAUZxG,EAAG0G,WAAa,SAASjkC,GACrB,OAAQu9B,EAAG0D,IAAIjhC,IAAUA,GAAUA,GAEvCu9B,EAAG2G,IAAM3G,EAAG4G,QAAU5G,EAAG0G,WAOzB1G,EAAG6G,IAAM,SAASpkC,GACd,OAAQu9B,EAAGsG,QAAQ7jC,IAAU,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAAM,GAE7Fu9B,EAAG8G,UAAY9G,EAAG+G,OAAS/G,EAAG6G,IAW9B7G,EAAGgH,eAAiB,SAASvkC,GACzB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAEjEu9B,EAAGiH,IAAMjH,EAAGkH,SAAWlH,EAAGmH,OAASnH,EAAGoH,YAAcpH,EAAGgH,eAQvDhH,EAAGqH,eAAiB,SAAS5kC,GACzB,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAEjEu9B,EAAGsH,IAAMtH,EAAGuH,OAASvH,EAAGwH,YAAcxH,EAAGqH,eAQzCrH,EAAGyH,gBAAkB,SAAShlC,GAC1B,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAAM,GAAKA,EAAQ,GAEpFu9B,EAAG0H,YAAc1H,EAAG2H,OAAS3H,EAAGyH,gBAQhCzH,EAAG4H,gBAAkB,SAASnlC,GAC1B,MAAO,oBAAsBmF,EAAS5E,KAAKP,IAAUA,EAAQ,GAAM,GAAKA,EAAQ,GAEpFu9B,EAAG6H,OAAS7H,EAAGqB,YAAcrB,EAAG4H,gBAYhC5H,EAAG8H,YAAc,SAASrlC,EAAOmsB,GAC7B,OAAc,IAAVnsB,IAEG,oBAAsBmF,EAAS5E,KAAKP,IACjC,IAANmsB,GACAnsB,EAAQmsB,GAAM,IAEtBoR,EAAG+H,MAAQ/H,EAAGgI,QAAUhI,EAAG8H,YAS3B9H,EAAGiI,iBAAmB,SAASxlC,EAAOyhC,GAClC,OAAOzhC,GAASyhC,GAEpBlE,EAAGkI,eAAiBlI,EAAGmI,GAAKnI,EAAGiI,iBAS/BjI,EAAGoI,YAAc,SAAS3lC,EAAOyhC,GAC7B,OAAOzhC,EAAQyhC,GAEnBlE,EAAGqI,GAAKrI,EAAGoI,YASXpI,EAAGsI,kBAAoB,SAAS7lC,EAAOyhC,GACnC,OAAOzhC,GAASyhC,GAEpBlE,EAAGuI,aAAevI,EAAGwI,gBAAkBxI,EAAGyI,GAAKzI,EAAGsI,kBASlDtI,EAAG0I,SAAW,SAASjmC,EAAOyhC,GAC1B,OAAOzhC,EAAQyhC,GAEnBlE,EAAG2I,GAAK3I,EAAG0I,SASX1I,EAAG4I,QAAU,SAASnmC,EAAOomC,GACzB,IAAK7I,EAAGqC,UAAUwG,KAAY7I,EAAG1O,OAAO7uB,GACpC,OAAO,EAGX,IADA,IAAIghB,EAAMolB,EAAOtjC,SACRke,GAAO,GACZ,GAAIhhB,EAAQomC,EAAOplB,GACf,OAAO,EAIf,OAAO,GAEXuc,EAAG7iB,IAAM6iB,EAAG4I,QASZ5I,EAAG8I,QAAU,SAASrmC,EAAOomC,GACzB,IAAK7I,EAAGqC,UAAUwG,KAAY7I,EAAG1O,OAAO7uB,GACpC,OAAO,EAGX,IADA,IAAIghB,EAAMolB,EAAOtjC,SACRke,GAAO,GACZ,GAAIhhB,EAAQomC,EAAOplB,GACf,OAAO,EAIf,OAAO,GAEXuc,EAAG9iB,IAAM8iB,EAAG8I,QAUZ9I,EAAG+I,OAAS,SAAStmC,EAAOqC,EAAOkkC,GAC/B,OAAOvmC,GAASqC,GAASrC,GAASumC,GAEtChJ,EAAGiJ,OAASjJ,EAAG+I,OAUf/I,EAAGkJ,YAAc,SAASzmC,EAAO0mC,EAAYC,GAC3C,SAAKpJ,EAAG1O,OAAO7uB,KAAWu9B,EAAG1O,OAAO6X,QAChCnJ,EAAG6B,QAAQuH,KAAepJ,EAAG6H,OAAOuB,MACpCpJ,EAAG13B,UAAU8gC,KAAYA,EAAY,GAElC3mC,EAAMwb,QAAQmrB,KAAeD,EAAWlrB,QAAQmrB,MAEzDpJ,EAAGqJ,QAAUrJ,EAAGsJ,KAAOtJ,EAAGkJ,YAe1BlJ,EAAGuJ,WAAa,SAAS9mC,GACrB,QAAKu9B,EAAGoG,YAAY3jC,OAChBA,EAAM8C,OAAS,QACfikC,EAAan1B,KAAK5R,MACjBgnC,EAASp1B,KAAK5R,MAUvBu9B,EAAG0J,QAAU1J,EAAG2J,IAAM3J,EAAGuJ,WACzB,IAAIE,EAAW,wHACXD,EAAe,wEAOnBxJ,EAAG4J,aAAe,SAASnnC,GACvB,QAAKu9B,EAAGoG,YAAY3jC,IAEbonC,EAAYx1B,KAAK5R,IAE5Bu9B,EAAG8J,MAAQ9J,EAAG+J,UAAY/J,EAAG4J,aAC7B,IAAIC,EAAc,igBAYlB7J,EAAGgK,YAAc,SAASvnC,GACtB,IAAKu9B,EAAGoG,YAAY3jC,GAAS,OAAO,EACpC,GAAIA,EAAM8C,OAAS,GAAK,OAAO,EAC/B,IAAI0kC,EAASxnC,EAAM+gB,MAAM,KACzB,IAAKwc,EAAGxyB,MAAMy8B,IAA6B,IAAlBA,EAAO1kC,OAAe,OAAO,EACtD,IAAK,IAAII,EAAE,EAAGA,EAAEskC,EAAO1kC,OAAQI,IAAK,CAChC,IAAI2H,EAAM1H,SAASqkC,EAAOtkC,GAAI,IAC9B,GAAIukC,MAAM58B,GAAO,OAAO,EACxB,GAAIA,EAAM,GAAKA,EAAM,IAAM,OAAO,EAEtC,OAAO,GAEX0yB,EAAGmK,KAAOnK,EAAGoK,SAAWpK,EAAGgK,YAO3BhK,EAAGqK,YAAc,SAAS5nC,GACtB,QAAKu9B,EAAGoG,YAAY3jC,IACbg/B,EAAQ6I,GAAG,CAACC,SAAS,IAAOl2B,KAAK5R,IAE5Cu9B,EAAGwK,KAAOxK,EAAGyK,SAAWzK,EAAGqK,YAO3BrK,EAAG0K,UAAY,SAASjoC,GACpB,QAAKu9B,EAAGoG,YAAY3jC,KACbu9B,EAAGgK,YAAYvnC,IAAUu9B,EAAGqK,YAAY5nC,KAEnDu9B,EAAG2K,GAAK3K,EAAG4K,OAAS5K,EAAG0K,UAQvB1K,EAAG6K,YAAc,SAASpoC,GACtB,QAAKu9B,EAAGoG,YAAY3jC,KACbu9B,EAAG2J,IAAIlnC,IAAUu9B,EAAGmK,KAAK1nC,IAAUu9B,EAAGwK,KAAK/nC,KAEtDu9B,EAAG7jB,KAAO6jB,EAAG8K,OAAS9K,EAAG+K,SAAW/K,EAAG6K,YAMvC7K,EAAGt7B,KAAO,SAASjC,GACf,SAAKu9B,EAAG0D,IAAIjhC,IAAUu9B,EAAG0H,YAAYjlC,IAAUA,EAAQ,QAU3Du9B,EAAGgL,WAAa,SAASvoC,GACrB,SAAIu9B,EAAGt7B,KAAKjC,IAAUA,EAAQ,OAIlCu9B,EAAGiL,QAAUjL,EAAGgL,WAMhBhL,EAAGkL,SAAW,SAASzoC,GACnB,SAAIu9B,EAAGt7B,KAAKjC,IAAUA,EAAQ,OAqBlCu9B,EAAGmL,iBAAmB,SAASrkC,GAC3B,IAAKk5B,EAAGl5B,IAAIA,GACR,OAAO,EAEX,IACInB,EAAGylC,EADHjJ,EAAMr7B,EAAI0c,MAAM,IAIpB,IAAK7d,EAAEw8B,EAAI58B,OAAO,EAAG6lC,EAAI,EAAGzlC,GAAG,EAAGA,IAAKylC,IAC/BA,EAAI,GAAM,IACVjJ,EAAIx8B,IAAM,GAGlBmB,EAAMq7B,EAAIviB,KAAK,IACf,IAAIyrB,EAAM,EAKV,IAAK1lC,EAAE,EAAGA,EAAEmB,EAAIvB,OAAQI,IACpB0lC,GAAO7rB,KAAK8rB,MAAMxkC,EAAInB,IAK1B,OAAO0lC,EAAM,IAAO,GAExBrL,EAAGuL,WAAavL,EAAGwL,cAAgBxL,EAAGmL,iBAYtCnL,EAAGyL,0BAA4B,SAAS3kC,GACpC,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IACpC,OAAe,KAAXkkC,GAA4B,KAAXA,MAGhB1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAG2L,SAAW3L,EAAG4L,YAAc5L,EAAGyL,0BAOlCzL,EAAG6L,wBAA0B,SAAS/kC,GAClC,IAAKk5B,EAAGl5B,IAAIA,IAASA,EAAIvB,OAAS,IAAMuB,EAAIvB,OAAS,GACjD,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IACpC,OAAe,KAAXkkC,GAA4B,KAAXA,GAMzB1L,EAAG8L,WAAa9L,EAAG+L,kBAAoB/L,EAAG6L,wBAO1C7L,EAAGgM,iCAAmC,SAASllC,GAC3C,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IACpC,QAAIkkC,EAAS,KAAOA,EAAS,QAGxB1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAGiM,aAAejM,EAAGkM,2BACjBlM,EAAGgM,iCAOPhM,EAAGmM,kCAAoC,SAASrlC,GAC5C,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EACX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAChC4kC,EAAU5sB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAGrC,SAAKkkC,EAAS,KAAOA,EAAS,MAAmB,MAAXA,GAA8B,KAAZU,KACnDA,EAAU,IAAMA,EAAU,QAI1BpM,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAGqM,cAAgBrM,EAAGsM,4BAClBtM,EAAGmM,kCAOPnM,EAAGuM,8BAAgC,SAASzlC,GACxC,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EACX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAEpC,OAAe,KAAXkkC,GAA4B,KAAXA,MAGhB1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAGwM,WAAaxM,EAAGyM,qBAAuBzM,EAAGuM,8BAO7CvM,EAAG0M,mBAAqB,SAAS5lC,GAC7B,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAChC4kC,EAAU5sB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAErC,OAAuB,SAAnBV,EAAIU,MAAM,EAAE,MAAkBkkC,EAAS,QAAUA,EAAS,WACzDU,EAAU,KAAOA,EAAU,MAA2B,OAAnBtlC,EAAIU,MAAM,EAAE,OAI/Cw4B,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAG2M,SAAW3M,EAAG4M,aAAe5M,EAAG0M,mBAOnC1M,EAAG6M,uBAAyB,SAAS/lC,GACjC,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IACpC,QAAIkkC,EAAS,KAAOA,EAAS,QAGxB1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAG8M,aAAe9M,EAAG6M,uBAOrB7M,EAAG+M,cAAgB,SAASjmC,GACxB,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IACpC,QAAIkkC,EAAS,MAAQA,EAAS,SAGzB1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAGgN,IAAMhN,EAAGiN,QAAUjN,EAAG+M,cAOzB/M,EAAGkN,gBAAkB,SAASpmC,GAC1B,IAAKk5B,EAAGl5B,IAAIA,IAASA,EAAIvB,OAAS,IAAMuB,EAAIvB,OAAS,GACjD,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAEpC,OAA+B,IADnB,CAAE,KAAM,KAAM,KAAM,MACtBsZ,QAAQ4qB,MAGb1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAGmN,MAAQnN,EAAGoN,UAAYpN,EAAGkN,gBAO7BlN,EAAGqN,kBAAoB,SAASvmC,GAC5B,IAAKk5B,EAAGl5B,IAAIA,IAAQA,EAAIvB,OAAS,IAAMuB,EAAIvB,OAAS,GAChD,OAAO,EAEX,IAAImmC,EAAS5kC,EAAIU,MAAM,EAAE,GAIzB,OAA+B,IAHnB,CAAE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAC1D,OAAQ,OAAQ,OAAQ,OAAQ,QAE1BsZ,QAAQ4qB,MAGb1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAGsN,QAAUtN,EAAGuN,YAAcvN,EAAGqN,kBAOjCrN,EAAGwN,kBAAoB,SAAS1mC,GAC5B,SAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,UAGD,SAAnBuB,EAAIU,MAAM,EAAE,MAGXw4B,EAAGmL,iBAAiBrkC,KAK7Bk5B,EAAGyN,QAAUzN,EAAG0N,YAAc1N,EAAGwN,kBAOjCxN,EAAG2N,qBAAuB,SAAS7mC,GAC/B,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IACpC,QAAIkkC,EAAS,IAAMA,EAAS,OAGvB1L,EAAGmL,iBAAiBrkC,IAK7Bk5B,EAAG4N,WAAa5N,EAAG6N,eAAiB7N,EAAG2N,qBAOvC3N,EAAG8N,eAAiB,SAAShnC,GACzB,SAAKk5B,EAAGl5B,IAAIA,IAAwB,KAAfA,EAAIvB,QAAgC,KAAfuB,EAAIvB,UAG1C,MAAQuB,EAAIU,MAAM,EAAE,MAGnBw4B,EAAGmL,iBAAiBrkC,KAM7Bk5B,EAAG+N,KAAO/N,EAAGgO,SAAWhO,EAAG8N,eAO3B9N,EAAGiO,uBAAyB,SAASnnC,GACjC,IAAKk5B,EAAGl5B,IAAIA,IAAuB,KAAfA,EAAIvB,OACpB,OAAO,EAEX,IAAImmC,EAASlsB,KAAK8rB,MAAMxkC,EAAIU,MAAM,EAAE,IAEpC,MAAI,WAAaV,EAAIU,MAAM,EAAE,KAAiC,IADlD,CAAE,KAAM,KAAM,KAAM,KAAM,KAAM,MACHsZ,QAAQ4qB,IAG5C1L,EAAGmL,iBAAiBrkC,IAFd,GAQfk5B,EAAGkO,aAAelO,EAAGmO,iBAAmBnO,EAAGiO,uBAS3C,IAAIG,EAAe,oBACnBpO,EAAGqO,QAAUrO,EAAGsO,SAAWtO,EAAGuO,MAAQ,SAAShlC,GAC7C,OAAQilC,QAAQjlC,KAAQkqB,MAAMgb,QAAQllC,IAAO6kC,EAAa/5B,KAAKmG,OAAOjR,KAQxEy2B,EAAG0O,SAAW1O,EAAG73B,MAAQ63B,EAAG2O,OAAS,SAASrhC,GAC1C,GAAIkC,UAAUjK,OAAS,EACnB,OAAO,EAEX,IADA,IAAIQ,GAAS,EACJJ,EAAE,EAAGA,EAAE6J,UAAUjK,OAAQI,IAAK,CACnC,IAAI0+B,EAAKrE,EAAGiE,MAAM32B,EAAKkC,UAAU7J,IACjCI,EAASA,GAAUs+B,EAEvB,OAAOt+B,GAcXi6B,EAAG4O,cAAgB,SAAS9nC,GAC1B,IAAKk5B,EAAGl5B,IAAIA,GACR,OAAO,EAIX,MAFY,+qBAECuN,KAAKvN,IAEpBk5B,EAAG6O,OAAS7O,EAAGjf,QAAUif,EAAG4O,cAS5B5O,EAAG8O,QAAU,SAAShoC,GACpB,GAAIk5B,EAAG13B,UAAUxB,KAAUk5B,EAAG6D,OAAO/8B,KAAQk5B,EAAG1O,OAAOxqB,GACrD,OAAO,EAGT,MADU,qBACCuN,KAAKvN,IAElBk5B,EAAG+O,IAAM/O,EAAG8O,QAOX9O,EAAGgP,YAAc,SAASloC,GACxB,IAAKk5B,EAAG6D,OAAO/8B,GACd,OAAO,EAER,MADW,0OACCuN,KAAKvN,IAEnBk5B,EAAGiP,MAAQjP,EAAGgP,YAOf,IAAIE,EAAQ,EAAQ,IACpBlP,EAAG/M,IAAM,SAAS3lB,GACd,OAAO4hC,EAAM5hC,IAEjB0yB,EAAGxrB,IAAMwrB,EAAG/M,IAEZ+M,EAAGmP,WAAa,SAAS7hC,EAAK60B,GAC5B,IAAI1/B,GAAQ,EAEZ,IAAKu9B,EAAG6B,QAAQv0B,KAAS0yB,EAAG6B,QAAQM,KAASnC,EAAGqC,UAAUF,GACxD,OAAO1/B,EAET,IAAK,IAAIkD,EAAI,EAAG8d,EAAM0e,EAAI58B,OAAQI,EAAI8d,EAAK9d,IACzC,GAAIq6B,EAAGiE,MAAM32B,EAAK60B,EAAIx8B,IAAK,CACzBlD,GAAQ,EACR,MAGJ,OAAOA,GAETu9B,EAAGoP,KAAOpP,EAAGqP,QAAUrP,EAAGmP,Y,cC7xC1B,IAAIG,EAAS7b,MAAM3wB,UAAU0E,MACzB+nC,EAAqC,mBAAhB1sC,OAAO4d,KAC1B5d,OAAO4d,KACP,SAAUwf,GACR,IAAIxf,EAAO,GACX,IAAK,IAAI/d,KAAOu9B,EAAKxf,EAAK/a,KAAKhD,GAC/B,OAAO+d,GAIX+uB,EAAY5sC,EAAOO,QAAU,SAAUssC,EAAQC,GAEjD,OAAe,IAAXD,GAA6B,IAAbC,EA4CZ,EA3CeD,GA2CC,EA3COC,EAGpBD,IAAWC,IAGXD,aAAkBl2B,MAAQm2B,aAAoBn2B,KAChDk2B,EAAOtL,YAAcuL,EAASvL,UAE5BwL,EAAYF,GACdE,EAAYD,GAIO,iBAAVD,GAAyC,iBAAZC,EACtCD,GAAUC,EA+BrB,SAAkB3K,EAAGvW,GACnB,GAAIohB,EAAkB7K,IAAM6K,EAAkBphB,GAC5C,OAAO,EAGT,GAAIuW,EAAEjiC,YAAc0rB,EAAE1rB,UAAW,OAAO,EAGxC,GAAI+sC,EAAY9K,GACd,QAAK8K,EAAYrhB,KAGjBuW,EAAIuK,EAAOtsC,KAAK+hC,GAChBvW,EAAI8gB,EAAOtsC,KAAKwrB,GACTghB,EAAUzK,EAAGvW,IAEtB,IACE,IAEI9rB,EAAKiD,EAFLmqC,EAAKP,EAAYxK,GACjBgL,EAAKR,EAAY/gB,GAErB,MAAO1mB,GACP,OAAO,EAIT,GAAIgoC,EAAGvqC,QAAUwqC,EAAGxqC,OAClB,OAAO,EAKT,IAHAuqC,EAAGE,OACHD,EAAGC,OAEErqC,EAAImqC,EAAGvqC,OAAS,EAAGI,GAAK,EAAGA,IAC9B,GAAImqC,EAAGnqC,IAAMoqC,EAAGpqC,GACd,OAAO,EAIX,IAAKA,EAAImqC,EAAGvqC,OAAS,EAAGI,GAAK,EAAGA,IAE9B,GADAjD,EAAMotC,EAAGnqC,IACJ6pC,EAAUzK,EAAEriC,GAAM8rB,EAAE9rB,IAAO,OAAO,EAEzC,OAAO,EA/DEutC,CAASR,EAAQC,KAI5B,SAASE,EAAkBntC,GACzB,OAAOA,QAGT,SAASotC,EAAY5sC,GACnB,MAAiD,sBAA1CJ,OAAOC,UAAU8E,SAAS5E,KAAKC,GAGxC,SAAS0sC,EAAYltC,GAEnB,MAAuB,iBAATA,GAAqBA,GAAUA,I,6BCjD/C,MAAMytC,EAAK,qHAELC,EAAQ,mBACR7F,EAAK,WAEN6F,YAAgBA,gFAChBA,YAAgBD,MAAOC,+GACvBA,aAAiBD,OAAQC,6GACzBA,cAAkBA,WAAeD,OAAQC,6FACzCA,cAAkBA,WAAeD,OAAQC,6FACzCA,cAAkBA,WAAeD,OAAQC,6FACzCA,cAAkBA,WAAeD,OAAQC,mGACnCA,WAAeD,SAAUC,gLAElCrnC,QAAQ,eAAgB,IAAIA,QAAQ,MAAO,IAAI5D,OAE3CylC,EAAK/nC,EAAOO,QAAU0c,GAAQA,GAAQA,EAAKuwB,MAChD,IAAIhxB,OAAO,OAAO8wB,WAAY5F,OAC9B,IAAIlrB,OAAO,MAAM8wB,SAAU5F,KAAO,KAEnCK,EAAGuF,GAAKrwB,GAAQA,GAAQA,EAAKuwB,MAAQ,IAAIhxB,OAAO,IAAI8wB,MAAS,IAAI9wB,OAAO8wB,EAAI,KAC5EvF,EAAGL,GAAKzqB,GAAQA,GAAQA,EAAKuwB,MAAQ,IAAIhxB,OAAO,IAAIkrB,MAAS,IAAIlrB,OAAOkrB,EAAI,M,wkDClB5E1nC,EAAOO,QAoBP,SAAe0gC,GACb,GAAsB,iBAAXA,EACT,OAAO,EAGT,IAAI17B,EAAQ07B,EAAO17B,MAAMkoC,GACzB,IAAKloC,EACH,OAAO,EAGT,IAAImoC,EAA0BnoC,EAAM,GACpC,IAAKmoC,EACH,OAAO,EAGT,GAAIC,EAAkBl8B,KAAKi8B,IACvBE,EAAqBn8B,KAAKi8B,GAC5B,OAAO,EAGT,OAAO,GAhCT,IAAID,EAAsB,uBAEtBE,EAAoB,sCACpBC,EAAuB,sB,gBCXJ,oBAAZpjC,SAA4C,aAAjBA,QAAQ3J,OAA2C,IAApB2J,QAAQu0B,SAAoBv0B,QAAQqjC,OACxG7tC,EAAOO,QAAU,EAAQ,IAEzBP,EAAOO,QAAU,EAAQ,K,gBCF1BA,EAAQ+T,IA2KR,YAAgBjI,GAGf,MAA0B,iBAAZvB,SACbA,QAAQwJ,KACRxJ,QAAQwJ,OAAOjI,IA/KjB9L,EAAQmf,WAiIR,SAAoBrT,GAQnB,GAPAA,EAAK,IAAMjJ,KAAKuc,UAAY,KAAO,IAClCvc,KAAKmb,WACJnb,KAAKuc,UAAY,MAAQ,KAC1BtT,EAAK,IACJjJ,KAAKuc,UAAY,MAAQ,KAC1B,IAAM3f,EAAOO,QAAQwgB,SAAS3d,KAAK+b,OAE/B/b,KAAKuc,UACT,OAGD,MAAMjG,EAAI,UAAYtW,KAAKwc,MAC3BvT,EAAKoT,OAAO,EAAG,EAAG/F,EAAG,kBAKrB,IAAI/O,EAAQ,EACRmjC,EAAQ,EACZzhC,EAAK,GAAGnG,QAAQ,cAAeX,IAChB,OAAVA,IAGJoF,IACc,OAAVpF,IAGHuoC,EAAQnjC,MAIV0B,EAAKoT,OAAOquB,EAAO,EAAGp0B,IAhKvBnZ,EAAQogB,KAuLR,SAAcJ,GACb,IACKA,EACHhgB,EAAQwtC,QAAQC,QAAQ,QAASztB,GAEjChgB,EAAQwtC,QAAQE,WAAW,SAE3B,MAAO7jC,MA7LV7J,EAAQygB,KAyMR,WACC,IAAImZ,EACJ,IACCA,EAAI55B,EAAQwtC,QAAQG,QAAQ,SAC3B,MAAO9jC,KAMJ+vB,GAAwB,oBAAZ3vB,SAA2B,QAASA,UACpD2vB,EAAI3vB,QAAQ6T,IAAI8vB,OAGjB,OAAOhU,GAtNR55B,EAAQof,UA+FR,WAIC,GAAsB,oBAAXqf,QAA0BA,OAAOx0B,UAAoC,aAAxBw0B,OAAOx0B,QAAQ3J,MAAuBm+B,OAAOx0B,QAAQqjC,QAC5G,OAAO,EAIR,GAAyB,oBAAdO,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU38B,cAAcnM,MAAM,yBACtG,OAAO,EAKR,MAA4B,oBAAb+oC,UAA4BA,SAASC,iBAAmBD,SAASC,gBAAgBC,OAASF,SAASC,gBAAgBC,MAAMC,kBAEpH,oBAAXzP,QAA0BA,OAAOl0B,UAAYk0B,OAAOl0B,QAAQ4jC,SAAY1P,OAAOl0B,QAAQ6jC,WAAa3P,OAAOl0B,QAAQ8jC,QAGrG,oBAAdR,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU38B,cAAcnM,MAAM,mBAAqBvC,SAASwZ,OAAOqyB,GAAI,KAAO,IAE9H,oBAAdT,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU38B,cAAcnM,MAAM,uBApHtGhF,EAAQwtC,QAmOR,WACC,IAGC,OAAOe,aACN,MAAO1kC,KAxOQ2kC,GAMlBxuC,EAAQoe,OAAS,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WA4JD3e,EAAOO,QAAU,EAAQ,GAAR,CAAoBA,GAErC,MAAM,WAACif,GAAcxf,EAAOO,QAM5Bif,EAAWwvB,EAAI,SAAUC,GACxB,IACC,OAAOlc,KAAKC,UAAUic,GACrB,MAAO7kC,GACR,MAAO,+BAAiCA,EAAM8B,W,cCjQhD,IAAI8F,EAAI,IACJnN,EAAImN,IACJ6pB,EAAIh3B,KACJhD,EAAQ,GAAJg6B,EAuJR,SAASqT,EAAO9zB,EAAI+zB,EAAOnjB,EAAGtlB,GAC5B,IAAI0oC,EAAWD,GAAa,IAAJnjB,EACxB,OAAOpP,KAAKyyB,MAAMj0B,EAAK4Q,GAAK,IAAMtlB,GAAQ0oC,EAAW,IAAM,IAvI7DpvC,EAAOO,QAAU,SAASmK,EAAKuK,GAC7BA,EAAUA,GAAW,GACrB,IAAIpU,SAAc6J,EAClB,GAAa,WAAT7J,GAAqB6J,EAAI/H,OAAS,EACpC,OAkBJ,SAAeuB,GAEb,IADAA,EAAM0T,OAAO1T,IACLvB,OAAS,IACf,OAEF,IAAI4C,EAAQ,uIAAuI9C,KACjJyB,GAEF,IAAKqB,EACH,OAEF,IAAIymB,EAAIsjB,WAAW/pC,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAMmM,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAzDE7P,SAyDKmqB,EACT,IAAK,QACL,IAAK,OACL,IAAK,IACH,OA9DEnqB,OA8DKmqB,EACT,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOA,EAAInqB,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOmqB,EAAI6P,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO7P,EAAInnB,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOmnB,EAAIha,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOga,EACT,QACE,QAvEKkK,CAAMxrB,GACR,GAAa,WAAT7J,IAAoC,IAAfymC,MAAM58B,GACpC,OAAOuK,EAAQs6B,KA0GnB,SAAiBn0B,GACf,IAAI+zB,EAAQvyB,KAAKgC,IAAIxD,GACrB,GAAI+zB,GAASttC,EACX,OAAOqtC,EAAO9zB,EAAI+zB,EAAOttC,EAAG,OAE9B,GAAIstC,GAAStT,EACX,OAAOqT,EAAO9zB,EAAI+zB,EAAOtT,EAAG,QAE9B,GAAIsT,GAAStqC,EACX,OAAOqqC,EAAO9zB,EAAI+zB,EAAOtqC,EAAG,UAE9B,GAAIsqC,GAASn9B,EACX,OAAOk9B,EAAO9zB,EAAI+zB,EAAOn9B,EAAG,UAE9B,OAAOoJ,EAAK,MAxHYo0B,CAAQ9kC,GAiFlC,SAAkB0Q,GAChB,IAAI+zB,EAAQvyB,KAAKgC,IAAIxD,GACrB,GAAI+zB,GAASttC,EACX,OAAO+a,KAAKyyB,MAAMj0B,EAAKvZ,GAAK,IAE9B,GAAIstC,GAAStT,EACX,OAAOjf,KAAKyyB,MAAMj0B,EAAKygB,GAAK,IAE9B,GAAIsT,GAAStqC,EACX,OAAO+X,KAAKyyB,MAAMj0B,EAAKvW,GAAK,IAE9B,GAAIsqC,GAASn9B,EACX,OAAO4K,KAAKyyB,MAAMj0B,EAAKpJ,GAAK,IAE9B,OAAOoJ,EAAK,KA/F2Bq0B,CAAS/kC,GAEhD,MAAM,IAAI/F,MACR,wDACEouB,KAAKC,UAAUtoB,M,gBC/BrB,MAAMglC,EAAM,EAAQ,IACdjS,EAAO,EAAQ,IAMrBl9B,EAAQwf,KAuNR,SAAcjB,GACbA,EAAM6wB,YAAc,GAEpB,MAAM9xB,EAAO5d,OAAO4d,KAAKtd,EAAQovC,aACjC,IAAK,IAAI5sC,EAAI,EAAGA,EAAI8a,EAAKlb,OAAQI,IAChC+b,EAAM6wB,YAAY9xB,EAAK9a,IAAMxC,EAAQovC,YAAY9xB,EAAK9a,KA3NxDxC,EAAQ+T,IAgLR,YAAgBjI,GACf,OAAO7B,QAAQouB,OAAO9zB,MAAM24B,EAAKpzB,UAAUgC,GAAQ,OAhLpD9L,EAAQmf,WAqJR,SAAoBrT,GACnB,MAAOkS,UAAW7X,EAAI,UAAEiZ,GAAavc,KAErC,GAAIuc,EAAW,CACd,MAAMjG,EAAItW,KAAKwc,MACTgwB,EAAY,OAAcl2B,EAAI,EAAIA,EAAI,OAASA,GAC/CovB,EAAS,KAAK8G,OAAelpC,SAEnC2F,EAAK,GAAKy8B,EAASz8B,EAAK,GAAGuU,MAAM,MAAM5D,KAAK,KAAO8rB,GACnDz8B,EAAKvJ,KAAK8sC,EAAY,KAAO5vC,EAAOO,QAAQwgB,SAAS3d,KAAK+b,MAAQ,aAElE9S,EAAK,GAIP,WACC,GAAI9L,EAAQovC,YAAYE,SACvB,MAAO,GAER,OAAO,IAAIl5B,MAAOm5B,cAAgB,IARvBC,GAAYrpC,EAAO,IAAM2F,EAAK,IA/J1C9L,EAAQogB,KAwLR,SAAcJ,GACTA,EACH/V,QAAQ6T,IAAI8vB,MAAQ5tB,SAIb/V,QAAQ6T,IAAI8vB,OA7LrB5tC,EAAQygB,KAwMR,WACC,OAAOxW,QAAQ6T,IAAI8vB,OAxMpB5tC,EAAQof,UAsIR,WACC,MAAO,WAAYpf,EAAQovC,YAC1B/D,QAAQrrC,EAAQovC,YAAYhxB,QAC5B+wB,EAAIM,OAAOxlC,QAAQouB,OAAOqX,KAnI5B1vC,EAAQoe,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAEjC,IAGC,MAAMuxB,EAAgB,EAAQ,IAE1BA,IAAkBA,EAActX,QAAUsX,GAAe/7B,OAAS,IACrE5T,EAAQoe,OAAS,CAChB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAGD,MAAOvU,IAUT7J,EAAQovC,YAAc1vC,OAAO4d,KAAKrT,QAAQ6T,KAAK4Q,OAAOnvB,GAC9C,WAAW2R,KAAK3R,IACrBqwC,OAAO,CAAC9S,EAAKv9B,KAEf,MAAMswC,EAAOtwC,EACXsgB,UAAU,GACV1O,cACAxL,QAAQ,YAAa,CAACmqC,EAAGC,IAClBA,EAAEC,eAIX,IAAI7lC,EAAMF,QAAQ6T,IAAIve,GAYtB,OAVC4K,IADG,2BAA2B+G,KAAK/G,KAEzB,6BAA6B+G,KAAK/G,KAE1B,SAARA,EACJ,KAEAwU,OAAOxU,IAGd2yB,EAAI+S,GAAQ1lC,EACL2yB,GACL,IA2FHr9B,EAAOO,QAAU,EAAQ,GAAR,CAAoBA,GAErC,MAAM,WAACif,GAAcxf,EAAOO,QAM5Bif,EAAWsc,EAAI,SAAUmT,GAExB,OADA7rC,KAAKusC,YAAYhxB,OAASvb,KAAKuc,UACxB8d,EAAKM,QAAQkR,EAAG7rC,KAAKusC,aAC1BzpC,QAAQ,YAAa,MAOxBsZ,EAAWgxB,EAAI,SAAUvB,GAExB,OADA7rC,KAAKusC,YAAYhxB,OAASvb,KAAKuc,UACxB8d,EAAKM,QAAQkR,EAAG7rC,KAAKusC,e,cC/P7B3vC,EAAOO,QAAUC,QAAQ,Q,6BCCzB,MAAMob,EAAK,EAAQ,GACb60B,EAAU,EAAQ,IAElBpyB,EAAM7T,QAAQ6T,IAEpB,IAAIqyB,EAmHJ,SAASC,EAAgBC,GAExB,OAtGD,SAAwBz8B,GACvB,OAAc,IAAVA,GAIG,CACNA,QACA08B,UAAU,EACVC,OAAQ38B,GAAS,EACjB48B,OAAQ58B,GAAS,GA6FX68B,CAzFR,SAAuBJ,GACtB,IAAmB,IAAfF,EACH,OAAO,EAGR,GAAID,EAAQ,cACXA,EAAQ,eACRA,EAAQ,mBACR,OAAO,EAGR,GAAIA,EAAQ,aACX,OAAO,EAGR,GAAIG,IAAWA,EAAOK,QAAwB,IAAfP,EAC9B,OAAO,EAGR,MAAMp2B,EAAMo2B,EAAa,EAAI,EAE7B,GAAyB,UAArBlmC,QAAQgH,SAAsB,CAOjC,MAAM0/B,EAAYt1B,EAAGu1B,UAAUvwB,MAAM,KACrC,OACC1B,OAAO1U,QAAQ4mC,SAASh5B,KAAKwI,MAAM,KAAK,KAAO,GAC/C1B,OAAOgyB,EAAU,KAAO,IACxBhyB,OAAOgyB,EAAU,KAAO,MAEjBhyB,OAAOgyB,EAAU,KAAO,MAAQ,EAAI,EAGrC,EAGR,GAAI,OAAQ7yB,EACX,MAAI,CAAC,SAAU,WAAY,WAAY,aAAagzB,KAAKC,GAAQA,KAAQjzB,IAAwB,aAAhBA,EAAIkzB,QAC7E,EAGDj3B,EAGR,GAAI,qBAAsB+D,EACzB,MAAO,gCAAgC5M,KAAK4M,EAAImzB,kBAAoB,EAAI,EAGzE,GAAsB,cAAlBnzB,EAAIozB,UACP,OAAO,EAGR,GAAI,iBAAkBpzB,EAAK,CAC1B,MAAMygB,EAAU97B,UAAUqb,EAAIqzB,sBAAwB,IAAI9wB,MAAM,KAAK,GAAI,IAEzE,OAAQvC,EAAIszB,cACX,IAAK,YACJ,OAAO7S,GAAW,EAAI,EAAI,EAC3B,IAAK,iBACJ,OAAO,GAKV,MAAI,iBAAiBrtB,KAAK4M,EAAIuzB,MACtB,EAGJ,uDAAuDngC,KAAK4M,EAAIuzB,OAIhE,cAAevzB,EAHX,GAOJA,EAAIuzB,KACAt3B,GAOM41B,CAAcU,IAnHzBH,EAAQ,aACXA,EAAQ,cACRA,EAAQ,eACRC,GAAa,GACHD,EAAQ,UAClBA,EAAQ,WACRA,EAAQ,eACRA,EAAQ,mBACRC,GAAa,GAEV,gBAAiBryB,IACpBqyB,EAAwC,IAA3BryB,EAAIwzB,YAAYlvC,QAAkD,IAAlCK,SAASqb,EAAIwzB,YAAa,KA4GxE7xC,EAAOO,QAAU,CAChB2vC,cAAeS,EACftlC,OAAQslC,EAAgBnmC,QAAQa,QAChCutB,OAAQ+X,EAAgBnmC,QAAQouB,U,6BChIjC54B,EAAOO,QAAU,CAACuxC,EAAMrnC,KACvBA,EAAOA,GAAQD,QAAQC,KACvB,MAAMq+B,EAASgJ,EAAK/0B,WAAW,KAAO,GAAsB,IAAhB+0B,EAAKnvC,OAAe,IAAM,KAChE0hC,EAAM55B,EAAKyT,QAAQ4qB,EAASgJ,GAC5BC,EAAgBtnC,EAAKyT,QAAQ,MACnC,OAAgB,IAATmmB,KAAkC,IAAnB0N,GAA8B1N,EAAM0N,K,6BCJ3D,IAAItvC,EAAO,EAAQ,GAAiBA,KAChCuvC,EAAW,EAAQ,GAAiBA,SACpCj+B,EAAK,EAAQ,GACb5R,EAAO,EAAQ,GACf8vC,EAASl+B,EAAGk+B,OACZC,EAAan+B,EAAGm+B,WAChBC,EAAYp+B,EAAGo+B,WAAap+B,EAE5Bq+B,EAAqC,SAApB5nC,QAAQgH,SAkCzB6gC,EAAoB,SAASC,EAAaC,EAAoBC,IAhC9C,SAASF,EAAaE,GACtCP,EAAOK,EAAaH,EAAUM,MAC9B,SAASt8B,GACLq8B,GAAUr8B,MA+Bdu8B,CAAcJ,GAAa,SAASK,GAEhC,GAAIA,GApBU,SAASL,EAAaE,GACxCP,EAAOK,EAAaH,EAAUM,KAAON,EAAUS,MAC3C,SAASz8B,GACTq8B,EAAS,MAAOr8B,MA2BhB08B,CAAgBP,EAAaE,QATb/vC,EAAK,cAAgB8vC,EAC3B,8BACoBA,EAAqB,eACzC,SAAUnoC,EAAOiB,EAAQutB,GACrB4Z,EAAS,OAAQnnC,UA0BnCynC,EAAwB,SAASR,EAAaC,GAChD,GA7DsB,SAASD,GAC7B,IAEI,OADAJ,EAAWI,EAAaH,EAAUM,OAC3B,EACV,MAAMvtC,GACH,OAAO,GAwDV6tC,CAAkBT,GACjB,IAKE,QAJaN,EAAS,cAAgBO,EAChC,8BACoBA,EAAqB,eAG/C,MAAOnoC,GACP,OAAO,EAGb,OAxDwB,SAASkoC,GAC/B,IAEI,OADAJ,EAAWI,EAAaH,EAAUM,KAAON,EAAUS,OAC5C,EACV,MAAM1tC,GACH,OAAO,GAmDN8tC,CAAoBV,IAezBW,EAAa,SAASjhC,GAMxB,MALI,qBAAqBP,KAAKO,KAE5BA,GADAA,EAAI,IAAIA,EAAE9L,QAAQ,KAAK,SAAS,KAC1BA,QAAQ,YAAa,IACxBA,QAAQ,SAAU,QAEhB8L,GAGLogC,IACFa,EAAa,SAASjhC,GAEpB,MADiB,OAAOP,KAAKO,GAEb,IAAM7P,EAAKmU,QAAQtE,GAAK,IAErB,KADF,IAAM7P,EAAK+wC,SAASlhC,GAAK,KAGnC,IAAMA,EAAI,MAIrBhS,EAAOO,QAAU,SAAS4yC,EAAcb,EAAaE,GACnD,IAAID,EAAqBU,EAAWX,GACpC,IAAKE,GAA+B,oBAAZn/B,QACtB,OAAO,IAAIA,SAAQ,SAASC,EAASC,GACnC4/B,EAAcb,GAAa,SAASloC,EAAO5G,GACrCA,EACF8P,EAAQg/B,GAER/+B,EAAOnJ,SAKXgoC,EA7EqB,SAASE,EAAaC,EAAoBC,GACnE,GAAI,wBAAwB/gC,KAAK6gC,GAC/BE,EAAS,MAAM,QAGL/vC,EAAK,SAAW8vC,GAC1B,SAAUnoC,GAENooC,EAAS,KADG,OAAVpoC,MAuENgpC,CAAqBd,EAAaC,EAAoBC,GAEtDH,EAAkBC,EAAaC,EAAoBC,IAIvDxyC,EAAOO,QAAQob,KAAO,SAAS22B,GAC7B,IAAIC,EAAqBU,EAAWX,GACpC,OAAIF,EAvDyB,SAASE,EAAaC,EAAoBC,GACvE,GAAI,wBAAwB/gC,KAAK6gC,GAC/B,OAAO,EAET,IAEI,QADaN,EAAS,SAAWO,EAAoB,CAACc,MAAO,KAE/D,MAAOjpC,GACL,OAAO,GAgDFkpC,CAAyBhB,EAAaC,GAEtCO,EAAsBR,EAAaC,K,8ECxJ9C,aAEMgB,EAAc,+CACd1vC,EAAgB,8BAChB2vC,EAAa,WACbC,EAAuB,wBACvBC,EAAiB,kBACjBC,EAAmB,UACnBC,EAAY,cACZC,EAAc,eAGpB,wBAA6Bh0C,GACzB,IAAI0F,EAEJ,OAAqB,KADrB1F,EAAQA,EAAMyC,QACJK,OAAuB,EACxB9C,EAAMkd,WAAW,SAAmB,EACvB,MAAbld,EAAM,GAAqB,EAC3BA,EAAMkd,WAAW,SACjBld,EAAMkd,WAAW,WACjBxX,EAAQouC,EAAiBlxC,KAAK5C,MAC9B0F,EAAQkuC,EAAqBhxC,KAAK5C,IAHC,GAInC0F,EAAQmuC,EAAejxC,KAAK5C,IAAiB,IAC7C0F,EAAQquC,EAAUnxC,KAAK5C,MACvB0F,EAAQsuC,EAAYpxC,KAAK5C,MACzB0F,EAAQ1B,EAAcpB,KAAK5C,MAC3B0F,EAAQiuC,EAAW/wC,KAAK5C,IAHgB,IAQrD,uBAA4Bi0C,EAA0Bj0C,EAAek0C,EAAe,GAAIC,GACpF,MAAM/vC,EAAe,KAEjB,GAAiB,OADjBpE,EAAQA,EAAMyC,QACJ,IAA2B,MAAbzC,EAAM,GAC1B,MAAO,GAEX,IAAIsE,EAAY,EACZC,GAAW,EACf,MAAM6vC,EAAUp0C,EAAM,GACtB,IAAIwE,EAAYxE,EAAM6C,OAAO,GACzB4B,GAAU,EACd,KAAOF,GACCE,EACAA,GAAU,EAEY,OAAjBD,EAAU,GACfC,GAAU,EAELD,EAAU,KAAO4vC,IACtB7vC,GAAW,GAGfC,EAAYA,EAAU3B,OAAO,GAC7ByB,IAEJ,MAAMD,EAAMrE,EAAM6C,OAAO,EAAGyB,GAAW7B,OAEvC,OADAzC,EAAQA,EAAM6C,OAAOyB,GAAW7B,OACzB4B,GAGLwL,EAAQ,CAACqkC,GACf,IAAI5uC,EACAC,EACAC,EACAC,EACA4uC,EACArhB,EAAW,GAEf,MAAMshB,EAAgBthB,IAClB,IAAItU,EAAY,GACZuqB,EAAS,GAuBb,OAtBAp5B,EAAM5M,KAAK+vB,GACXnjB,EAAM9N,QAAS8E,IAEX,GADAoiC,EAAS,GACI,KAATpiC,EACA,GAAIA,EAAKqW,WAAW,KAChBwB,GAAwB7X,OAGxB,GAAI6X,EAAW,CACX,KAAO7X,EAAKqW,WAAW,MACnB+rB,GAAU,IACVpiC,EAAOA,EAAKhE,OAAO,GAEvB6b,EAAYA,EA3ET,IA2E0C7X,OAG7C6X,EAAY7X,IAK5BgJ,EAAM0kC,MACCtL,EAASvqB,GAgMpB,OA/EApZ,EAAa,IAEQ,OADjBtF,EAAQA,EAAMyC,QACJ,GACC2B,IAEW,MAAbpE,EAAM,GAnHM,MAErB,GAAiB,OADjBA,EAAQA,EAAMyC,QACJ,GACN,OAIJ,GAAiB,OADjBzC,EAAQA,EAAM6C,OAAO,GAAGJ,QACd,GAEN,OADAzC,EAAQA,EAAM6C,OAAO,GAAGJ,OACjB,GAEX,GAAIzC,EAAMkd,WAAW,QAEA,OADjBld,EAAQA,EAAM6C,OAAO,GAAGJ,QACd,GAEN,OADAzC,EAAQA,EAAM6C,OAAO,GAAGJ,OACjB,QAGf,MAAM+xC,EAAQx0C,EAAMqe,QAAQ,KACtBo2B,EAAaz0C,EAAMqe,QAAQ,KAC3Bq2B,EAAa10C,EAAMqe,QAAQ,KACjC,IAAIs2B,EAAYF,EAIhB,IAHoB,IAAhBC,GAAqBA,EAAaD,IAClCE,EAAYD,IAEG,IAAfC,GAAoBH,EAAQG,IAAwB,IAAXH,EAAc,CACvD,MAAM5uC,EAAS,GACfiK,EAAM5M,KAAK,OACX,IAAI4H,EAAMvF,IACVuK,EAAM0kC,MACN3uC,EAAO3C,KAAKoxC,EAAY,MAAOxpC,IAE/B,IAAI3H,EAAI,EACR,OAAa,CAET,GADA2M,EAAM5M,KAAK,OAASC,EAAK,OACnB2H,EAAMrF,KAAoB,CAC5BqK,EAAM0kC,MACN,MAEJ1kC,EAAM0kC,MACN3uC,EAAO3C,KAAKoxC,EAAY,IAAMnxC,EAAI,IAAK2H,IAG3C,OADA7K,EAAQA,EAAM6C,OAAO,GAAGJ,OACjBmD,EAGX,IAAItC,EAASmC,GAAY,GACzB,GAAInC,EAAQ,CACR,MAAMM,EAAU,GAEhB,IADAA,EAAQX,KAAKK,GACNA,EAASiC,GAAiB,IAC7B3B,EAAQX,KAAKK,GAGjB,OADAtD,EAAQA,EAAM6C,OAAO,GAAGJ,OACjBmB,IA8DAkC,GAxDQ,MACnB,IAAI8uC,EACAlvC,EA6CJ,OA3CqB,KADrB1F,EAAQA,EAAMyC,QACJK,OACN8xC,OAAY/uC,EAEP7F,EAAMkd,WAAW,SACtB03B,EAAY,OACZ50C,EAAQA,EAAM6C,OAAO,GAAGJ,QAEnBzC,EAAMkd,WAAW,UACtB03B,EAAY,QACZ50C,EAAQA,EAAM6C,OAAO,GAAGJ,SAEnBiD,EAAQouC,EAAiBlxC,KAAK5C,KACnC40C,EAAY,YACZ50C,EAAQA,EAAM6C,OAAO6C,EAAM,GAAG5C,QAAQL,SAEjCiD,EAAQkuC,EAAqBhxC,KAAK5C,KACvCA,EAAQA,EAAM6C,OAAO6C,EAAM,GAAG5C,QAAQL,OACtCmyC,EAAYxwC,MAEPsB,EAAQmuC,EAAejxC,KAAK5C,KACjC40C,EAAY,IAAMlvC,EAAM,GACxB1F,EAAQA,EAAM6C,OAAO6C,EAAM,GAAG5C,QAAQL,SAEjCiD,EAAQquC,EAAUnxC,KAAK5C,KAC5B40C,EAAYlvC,EAAM,GAClB1F,EAAQA,EAAM6C,OAAO6C,EAAM,GAAG5C,OAAS,GACvC8xC,GAAa,IAAMxwC,MAEdsB,EAAQsuC,EAAYpxC,KAAK5C,MAIzB0F,EAAQ1B,EAAcpB,KAAK5C,MAI3B0F,EAAQiuC,EAAW/wC,KAAK5C,KAP7B40C,EAAYlvC,EAAM,GAClB1F,EAAQA,EAAM6C,OAAO6C,EAAM,GAAG5C,QAAQL,QAWtCmyC,EAAY50C,EAET40C,GAYIC,GAIfpvC,EAAc,CAACqvC,GAAuB,KAClC90C,EAAQA,EAAMyC,OACd,MAAMsD,EAAgB2tC,EAAY9wC,KAAK5C,GACvC,IAAK+F,EACD,OAEJ/F,EAAQA,EAAM6C,OAAOkD,EAAc,GAAGjD,QAAQL,OAC9C,MAAMoE,EAAOmsB,EAAWjtB,EAAc,GAClC+uC,GACAjlC,EAAM5M,KAAK+vB,GAEf,MAAMnoB,EAAMvF,IAIZ,OAHIwvC,GACAjlC,EAAM0kC,MAEHF,EAAYxtC,EAAMgE,IAG7BwpC,EAAc,CAACxtC,EAAMgE,KACjB,IAAI5C,EAAM,EAqBV,MApBmB,iBAAR4C,IACP5C,EAAMgsC,EAAeppC,GACrBA,EAAM,UAES,iBAARA,GAAoBA,EAAIqS,WAAW,SACtCi3B,GAA0C,MAAjC,EAAA/xC,OAAOsB,QAAQywC,EAAO,QAE/BlsC,EAAMgsC,EAAeK,EAAa,KAAOztC,GAAO,CAAE+rB,KAAK,IACvD/nB,EAAM,WAIN5C,EAAMgsC,EAAeK,EAAa,IAAMztC,IACxCgE,EAAM,UAAYA,IAGP,iBAARA,GAAoBA,EAAIqS,WAAW,WAC1CjV,EAAMgsC,EAAeK,EAAaztC,IAClCgE,EAAM,OAEH,CACHhE,KAAMA,EACN7G,MAAO6K,EACPvD,mBAAoBW,IAI5BzC,EAAkB,KAEd,GAAiB,OADjBxF,EAAQA,EAAMyC,QACJ,GAIV,OADAzC,EAAQA,EAAM6C,OAAO,GAAGJ,OACjB6C,KAGXC,EAAmB,CAACuvC,GAAuB,KAEvC,GAAiB,OADjB90C,EAAQA,EAAMyC,QACJ,GAIV,OADAzC,EAAQA,EAAM6C,OAAO,GAAGJ,OACjBgD,EAAYqvC,IAGvB90C,EAAQA,EAAMyC,OACP6C,M,6BC5RX,IAAIyvC,EAAQ,EAAQ,IAChB7gC,EAAK,EAAQ,GACb5R,EAAO,EAAQ,GAenB,SAASilB,EAAQytB,EAAKjhC,GACrBghC,EAAMvD,KAAKyD,EAASD,GAAME,EAAYnhC,GAkCvC,SAASkhC,EAAUD,GAClB,IAAIG,EAAWxqC,QAAQ6T,IAAI42B,MAAQ,GAC/BC,EAAU1qC,QAAQ6T,IAAI82B,SAAW,GACrC,OAAOH,EAAQ9uC,QAAQ,QAAS,IAAI0a,MAAMze,EAAK8d,WAAWQ,KAAI,SAAU20B,GACvE,OAAOF,EAAOt0B,MAAMze,EAAK8d,WAAWQ,KAAI,SAAU40B,GACjD,OAAOlzC,EAAK6a,KAAKo4B,EAAOP,EAAMQ,SAE7BlF,QAAO,SAAUhO,EAAGvW,GACtB,OAAOuW,EAAEra,OAAO8D,MAIlB,SAASmpB,EAAYO,EAAU1hC,GAC9BG,EAAGmjB,KAAKoe,GAAU,SAAUlrC,EAAO8sB,GAClC,GAAI9sB,EACH,OAAOwJ,GAAK,GAEbA,EAAKsjB,EAAKyb,aAIZ,SAAS4C,EAAgBD,GACxB,IACC,OAAOvhC,EAAGwjB,SAAS+d,GAAU3C,SAC5B,MAAOvoC,GACR,OAAO,GAzETpK,EAAOO,QAAU6mB,EACjBA,EAAOwtB,MAAQxtB,EACfA,EAAOzL,KAeP,SAAqBk5B,GACpB,OAAOC,EAASD,GAAKxD,KAAKkE,IAf3BnuB,EAAO0G,IAkBP,SAAoB0nB,EAAM5hC,GACzBghC,EAAMa,MAAMD,EAAMpuB,EAAOwtB,MAAOhhC,IAlBjCwT,EAAO0G,IAAInS,KAqBX,SAAwB65B,GACvB,OAAOA,EAAKC,MAAMruB,EAAOzL,OArB1ByL,EAAOiqB,KAwBP,SAAqBmE,EAAM5hC,GAC1BghC,EAAMvD,KAAKmE,EAAMpuB,EAAOwtB,MAAOhhC,IAxBhCwT,EAAOiqB,KAAK11B,KA2BZ,SAAyB65B,GACxB,OAAOA,EAAKnE,KAAKjqB,EAAOzL,OA3BzByL,EAAOzK,MA8BP,SAAsB64B,EAAM5hC,GAC3BghC,EAAMc,OAAOF,EAAMpuB,EAAOwtB,OAAO,SAAUzxC,GAC1CyQ,EAAKzQ,IAAU,OA/BjBikB,EAAOzK,MAAMhB,KAmCb,SAA0B65B,GACzB,IAAIG,EAAUH,EAAKvmB,OAAO7H,EAAOzL,MACjC,QAAOg6B,EAAQhzC,QAASgzC,EAAQ,IAnCjCvuB,EAAOquB,MAAQruB,EAAO0G,IACtB1G,EAAOwuB,IAAMxuB,EAAOiqB,M,gBCjBpB;;;;;;;IAOC,WAEG,IAaIwE,EAbAjB,EAAQ,GACZ,SAASkB,KACT,SAASC,EAAS9G,GACd,OAAOA,EAEX,SAAS+G,EAAO/G,GACZ,QAASA,EAEb,SAASgH,EAAMhH,GACX,OAAQA,EASZ,IAAI8E,EAAuB,iBAAT/0B,MAAqBA,KAAKA,OAASA,MAAQA,MACnC,iBAAXk3B,QAAuBA,OAAOA,SAAWA,QAAUA,QAC1D9yC,KAWR,SAAS+yC,EAAUC,GACf,OAAO,WACH,GAAW,OAAPA,EAAa,MAAM,IAAIzxC,MAAM,gCACjCyxC,EAAGtiC,MAAM1Q,KAAMwJ,WACfwpC,EAAK,MAIb,SAASC,EAAMD,GACX,OAAO,WACQ,OAAPA,IACJA,EAAGtiC,MAAM1Q,KAAMwJ,WACfwpC,EAAK,OArBD,MAARrC,IACA8B,EAAiB9B,EAAKa,OAG1BA,EAAM0B,WAAa,WAEf,OADAvC,EAAKa,MAAQiB,EACNjB,GAqBX,IAAI2B,EAAYt2C,OAAOC,UAAU8E,SAE7BwxC,EAAW3lB,MAAMgb,SAAW,SAAUxO,GACtC,MAA+B,mBAAxBkZ,EAAUn2C,KAAKi9B,IAS1B,SAASoZ,EAAanX,GAClB,OAAOkX,EAASlX,IAEU,iBAAfA,EAAI38B,QACX28B,EAAI38B,QAAU,GACd28B,EAAI38B,OAAS,GAAM,EAI3B,SAAS+zC,EAAWpX,EAAKqX,GAIrB,IAHA,IAAIhsC,GAAS,EACThI,EAAS28B,EAAI38B,SAERgI,EAAQhI,GACbg0C,EAASrX,EAAI30B,GAAQA,EAAO20B,GAIpC,SAASsX,EAAKtX,EAAKqX,GAKf,IAJA,IAAIhsC,GAAS,EACThI,EAAS28B,EAAI38B,OACbQ,EAAS0tB,MAAMluB,KAEVgI,EAAQhI,GACbQ,EAAOwH,GAASgsC,EAASrX,EAAI30B,GAAQA,EAAO20B,GAEhD,OAAOn8B,EAGX,SAAS0zC,EAAOpa,GACZ,OAAOma,EAAK/lB,MAAM4L,IAAQ,SAAUwS,EAAGlsC,GAAK,OAAOA,KAGvD,SAAS+zC,EAAQxX,EAAKqX,EAAUI,GAI5B,OAHAL,EAAWpX,GAAK,SAAUrT,EAAGlpB,EAAGo/B,GAC5B4U,EAAOJ,EAASI,EAAM9qB,EAAGlpB,EAAGo/B,MAEzB4U,EAGX,SAASC,EAAW32C,EAAQs2C,GACxBD,EAAWO,EAAM52C,IAAS,SAAUP,GAChC62C,EAASt2C,EAAOP,GAAMA,MAI9B,SAASo3C,EAAS5X,EAAKlqB,GACnB,IAAK,IAAIrS,EAAI,EAAGA,EAAIu8B,EAAI38B,OAAQI,IAC5B,GAAIu8B,EAAIv8B,KAAOqS,EAAM,OAAOrS,EAEhC,OAAQ,EAGZ,IAAIk0C,EAAQh3C,OAAO4d,MAAQ,SAAUwf,GACjC,IAAIxf,EAAO,GACX,IAAK,IAAIyyB,KAAKjT,EACNA,EAAIl9B,eAAemwC,IACnBzyB,EAAK/a,KAAKwtC,GAGlB,OAAOzyB,GAGX,SAASs5B,EAAaC,GAClB,IACIv2B,EACAhD,EAFA9a,GAAK,EAGT,OAAI0zC,EAAaW,IACbv2B,EAAMu2B,EAAKz0C,OACJ,WAEH,QADAI,EACW8d,EAAM9d,EAAI,QAGzB8a,EAAOo5B,EAAMG,GACbv2B,EAAMhD,EAAKlb,OACJ,WAEH,QADAI,EACW8d,EAAMhD,EAAK9a,GAAK,OAQvC,SAASs0C,EAAWroB,EAAMsoB,GAEtB,OADAA,EAA2B,MAAdA,EAAqBtoB,EAAKrsB,OAAS,GAAK20C,EAC9C,WAGH,IAFA,IAAI30C,EAASia,KAAKrC,IAAI3N,UAAUjK,OAAS20C,EAAY,GACjDC,EAAO1mB,MAAMluB,GACRgI,EAAQ,EAAGA,EAAQhI,EAAQgI,IAChC4sC,EAAK5sC,GAASiC,UAAUjC,EAAQ2sC,GAEpC,OAAQA,GACJ,KAAK,EAAG,OAAOtoB,EAAK5uB,KAAKgD,KAAMm0C,GAC/B,KAAK,EAAG,OAAOvoB,EAAK5uB,KAAKgD,KAAMwJ,UAAU,GAAI2qC,KAYzD,SAASC,EAAcb,GACnB,OAAO,SAAU92C,EAAO8K,EAAO6nC,GAC3B,OAAOmE,EAAS92C,EAAO2yC,IAS/B,IAAIiF,EAAwC,mBAAjBC,cAA+BA,aAEtDC,EAASF,EAAgB,SAASrB,GAElCqB,EAAcrB,IACd,SAASA,GACT9qC,WAAW8qC,EAAI,IA+FnB,SAASwB,EAAaC,GAElB,OAAO,SAAUxa,EAAKsZ,EAAUnE,GAC5BA,EAAW6D,EAAM7D,GAAYsD,GAE7B,IAAIgC,EAAUX,EADd9Z,EAAMA,GAAO,IAEb,GAAIwa,GAAS,EACT,OAAOrF,EAAS,MAEpB,IAAI5+B,GAAO,EACPmkC,EAAU,EACVC,GAAU,GAEd,SAAUC,IACN,GAAIrkC,GAAQmkC,GAAW,EACnB,OAAOvF,EAAS,MAGpB,KAAOuF,EAAUF,IAAUG,GAAS,CAChC,IAAIl4C,EAAMg4C,IACV,GAAY,OAARh4C,EAKA,OAJA8T,GAAO,OACHmkC,GAAW,GACXvF,EAAS,OAIjBuF,GAAW,EACXpB,EAAStZ,EAAIv9B,GAAMA,EAAKq2C,GAAU,SAAUhgC,GACxC4hC,GAAW,EACP5hC,GACAq8B,EAASr8B,GACT6hC,GAAU,GAGVC,SAtBhB,IA+BR,SAASC,EAAW9B,GAChB,OAAO,SAAU/Y,EAAKsZ,EAAUnE,GAC5B,OAAO4D,EAAGxB,EAAMuD,OAAQ9a,EAAKsZ,EAAUnE,IAG/C,SAAS4F,EAAgBhC,GACrB,OAAO,SAAU/Y,EAAKwa,EAAOlB,EAAUnE,GACnC,OAAO4D,EAAGwB,EAAaC,GAAQxa,EAAKsZ,EAAUnE,IAGtD,SAAS6F,EAASjC,GACd,OAAO,SAAU/Y,EAAKsZ,EAAUnE,GAC5B,OAAO4D,EAAGxB,EAAM0D,aAAcjb,EAAKsZ,EAAUnE,IAIrD,SAAS+F,EAAUC,EAAQlZ,EAAKqX,EAAUnE,GACtCA,EAAW6D,EAAM7D,GAAYsD,GAE7B,IAAIryC,EAAUgzC,EADdnX,EAAMA,GAAO,IACqB,GAAK,GACvCkZ,EAAOlZ,GAAK,SAAUz/B,EAAO8K,EAAO6nC,GAChCmE,EAAS92C,GAAO,SAAUsW,EAAK84B,GAC3BxrC,EAAQkH,GAASskC,EACjBuD,EAASr8B,SAEd,SAAUA,GACTq8B,EAASr8B,EAAK1S,MA2CtB,SAASg1C,EAAQD,EAAQlZ,EAAKqX,EAAUnE,GACpC,IAAI/uC,EAAU,GACd+0C,EAAOlZ,GAAK,SAAUrT,EAAGthB,EAAO6nC,GAC5BmE,EAAS1qB,GAAG,SAAUgjB,GACdA,GACAxrC,EAAQX,KAAK,CAAC6H,MAAOA,EAAO9K,MAAOosB,IAEvCumB,UAEL,WACCA,EAASoE,EAAKnzC,EAAQ2pC,MAAK,SAAUjL,EAAGvW,GACpC,OAAOuW,EAAEx3B,MAAQihB,EAAEjhB,UACnB,SAAUshB,GACV,OAAOA,EAAEpsB,aAcrB,SAAS64C,EAAQF,EAAQlZ,EAAKqX,EAAUnE,GACpCiG,EAAQD,EAAQlZ,GAAK,SAASz/B,EAAO0M,GACjCoqC,EAAS92C,GAAO,SAASovC,GACrB1iC,GAAI0iC,QAETuD,GAMP,SAASmG,EAAcH,EAAQn+B,EAAOu+B,GAClC,OAAO,SAAStZ,EAAKuY,EAAOlB,EAAUpqC,GAClC,SAASqH,IACDrH,GAAIA,EAAGqsC,GAAU,OAAO,IAEhC,SAASC,EAAS5sB,EAAGokB,EAAGmC,GACpB,IAAKjmC,EAAI,OAAOimC,IAChBmE,EAAS1qB,GAAG,SAAUgjB,GACd1iC,GAAM8N,EAAM40B,KACZ1iC,EAAGqsC,GAAU,EAAM3sB,IACnB1f,EAAKoqC,GAAW,GAEpBnE,OAGJ5lC,UAAUjK,OAAS,EACnB61C,EAAOlZ,EAAKuY,EAAOgB,EAAUjlC,IAE7BrH,EAAKoqC,EACLA,EAAWkB,EACXW,EAAOlZ,EAAKuZ,EAAUjlC,KAelC,SAASklC,EAAe7J,EAAGhjB,GACvB,OAAOA,EA2OX,SAAS8sB,EAAUP,EAAQQ,EAAOxG,GAC9BA,EAAWA,GAAYsD,EACvB,IAAIryC,EAAUgzC,EAAauC,GAAS,GAAK,GAEzCR,EAAOQ,GAAO,SAAUC,EAAMn5C,EAAK0yC,GAC/ByG,EAAK5B,GAAW,SAAUlhC,EAAK9J,GACvBA,EAAK1J,QAAU,IACf0J,EAAOA,EAAK,IAEhB5I,EAAQ3D,GAAOuM,EACfmmC,EAASr8B,UAEd,SAAUA,GACTq8B,EAASr8B,EAAK1S,MAwCtB,SAASy1C,EAAQV,EAAQlZ,EAAK8W,EAAI5D,GAC9B,IAAIrvC,EAAS,GACbq1C,EAAOlZ,GAAK,SAAUrT,EAAGthB,EAAO4B,GAC5B6pC,EAAGnqB,GAAG,SAAU9V,EAAKgjC,GACjBh2C,EAASA,EAAO2kB,OAAOqxB,GAAK,IAC5B5sC,EAAG4J,SAER,SAAUA,GACTq8B,EAASr8B,EAAKhT,MA+EtB,SAASi2C,EAAOC,EAAQC,EAAaC,GACjC,GAAmB,MAAfD,EACAA,EAAc,OAEb,GAAmB,IAAhBA,EACJ,MAAM,IAAI30C,MAAM,gCAEpB,SAAS60C,EAAQC,EAAG5yC,EAAMw9B,EAAKmO,GAC3B,GAAgB,MAAZA,GAAwC,mBAAbA,EAC3B,MAAM,IAAI7tC,MAAM,oCAMpB,GAJA80C,EAAEpzB,SAAU,EACPmwB,EAAS3vC,KACVA,EAAO,CAACA,IAEO,IAAhBA,EAAKlE,QAAgB82C,EAAEC,OAEtB,OAAO9E,EAAM8C,cAAa,WACtB+B,EAAEE,WAGVjD,EAAW7vC,GAAM,SAASoyC,GACtB,IAAI7jC,EAAO,CACPvO,KAAMoyC,EACNzG,SAAUA,GAAYsD,GAGtBzR,EACAoV,EAAET,MAAM15B,QAAQlK,GAEhBqkC,EAAET,MAAMl2C,KAAKsS,GAGbqkC,EAAET,MAAMr2C,SAAW82C,EAAEH,aACrBG,EAAEG,eAGVhF,EAAM8C,aAAa+B,EAAEjvC,SAEzB,SAASqvC,EAAMJ,EAAGT,GACd,OAAO,WACHc,GAAW,EAEX,IAAIC,GAAU,EACV1tC,EAAOO,UACX8pC,EAAWsC,GAAO,SAAUC,GACxBvC,EAAWsD,GAAa,SAAUX,EAAQ1uC,GAClC0uC,IAAWJ,GAASc,IACpBC,EAAYv6B,OAAO9U,EAAO,GAC1BovC,GAAU,MAIlBd,EAAKzG,SAAS1+B,MAAMmlC,EAAM5sC,MAE1BotC,EAAET,MAAMr2C,OAASm3C,IAAY,GAC7BL,EAAEE,QAENF,EAAEjvC,WAIV,IAAIsvC,EAAU,EACVE,EAAc,GACdP,EAAI,CACJT,MAAO,GACPM,YAAaA,EACbC,QAASA,EACTK,UAAW9D,EACX1T,MAAO0T,EACP6D,MAAO7D,EACPzvB,SAAS,EACT4zB,QAAQ,EACRn3C,KAAM,SAAU+D,EAAM2rC,GAClBgH,EAAQC,EAAG5yC,GAAM,EAAO2rC,IAE5B5Y,KAAM,WACF6f,EAAEE,MAAQ7D,EACV2D,EAAET,MAAQ,IAEd15B,QAAS,SAAUzY,EAAM2rC,GACrBgH,EAAQC,EAAG5yC,GAAM,EAAM2rC,IAE3BhoC,QAAS,WACL,MAAOivC,EAAEQ,QAAUH,EAAUL,EAAEH,aAAeG,EAAET,MAAMr2C,QAAO,CAEzD,IAAIq2C,EAAQS,EAAEF,QACVE,EAAET,MAAMv5B,OAAO,EAAGg6B,EAAEF,SACpBE,EAAET,MAAMv5B,OAAO,EAAGg6B,EAAET,MAAMr2C,QAE1BkE,EAAO+vC,EAAKoC,GAAO,SAAUC,GAC7B,OAAOA,EAAKpyC,QAGO,IAAnB4yC,EAAET,MAAMr2C,QACR82C,EAAErX,QAEN0X,GAAW,EACXE,EAAYl3C,KAAKk2C,EAAM,IACvB,IAAIzsC,EAAK4pC,EAAU0D,EAAMJ,EAAGT,IAC5BK,EAAOxyC,EAAM0F,KAGrB5J,OAAQ,WACJ,OAAO82C,EAAET,MAAMr2C,QAEnBo1C,QAAS,WACL,OAAO+B,GAEXE,YAAa,WACT,OAAOA,GAEXN,KAAM,WACF,OAAOD,EAAET,MAAMr2C,OAASm3C,IAAY,GAExCI,MAAO,WACHT,EAAEQ,QAAS,GAEfvkB,OAAQ,WACJ,IAAiB,IAAb+jB,EAAEQ,OAAN,CACAR,EAAEQ,QAAS,EAIX,IAHA,IAAIE,EAAcv9B,KAAKtC,IAAIm/B,EAAEH,YAAaG,EAAET,MAAMr2C,QAGzCy3C,EAAI,EAAGA,GAAKD,EAAaC,IAC9BxF,EAAM8C,aAAa+B,EAAEjvC,YAIjC,OAAOivC,EA+EX,SAASY,EAAY3zC,GACjB,OAAO2wC,GAAW,SAAUjB,EAAI/pC,GAC5B+pC,EAAGtiC,MAAM,KAAMzH,EAAKyb,OAAO,CAACuvB,GAAW,SAAUlhC,EAAK9J,GAC3B,iBAAZvB,UACHqL,EACIrL,QAAQV,OACRU,QAAQV,MAAM+L,GAGbrL,QAAQpE,IACbgwC,EAAWrqC,GAAM,SAAU4f,GACvBnhB,QAAQpE,GAAMulB,gBAoDtC,SAASquB,EAAOC,GACZ,OAAO,SAAU9d,EAAOka,EAAUnE,GAC9B+H,EAAO1D,EAAOpa,GAAQka,EAAUnE,IAsCxC,SAASgI,EAAWhC,GAChB,OAAOnB,GAAW,SAASoD,EAAKpuC,GAC5B,IAAIquC,EAAKrD,GAAW,SAAShrC,GACzB,IAAIsuC,EAAOv3C,KACPovC,EAAWnmC,EAAK+nC,MACpB,OAAOoE,EAAOiC,GAAK,SAAUrE,EAAI/F,EAAG9jC,GAChC6pC,EAAGtiC,MAAM6mC,EAAMtuC,EAAKyb,OAAO,CAACvb,OAEhCimC,MAEJ,OAAInmC,EAAK1J,OACE+3C,EAAG5mC,MAAM1Q,KAAMiJ,GAGfquC,KAqBnB,SAASE,EAAYxE,GACjB,OAAOiB,GAAW,SAAUhrC,GACxB,IAAImmC,EAAWnmC,EAAK+nC,MACpB/nC,EAAKvJ,MAAK,WACN,IAAI+3C,EAAYjuC,UACZ+O,EACAi5B,EAAM8C,cAAa,WACflF,EAAS1+B,MAAM,KAAM+mC,MAGzBrI,EAAS1+B,MAAM,KAAM+mC,MAG7B,IAAIl/B,GAAO,EACXy6B,EAAGtiC,MAAM1Q,KAAMiJ,GACfsP,GAAO,KAv/BQ,iBAAZnR,SAAoD,mBAArBA,QAAQswC,SAC9ClG,EAAMkG,SAAWtwC,QAAQswC,SAEzBlG,EAAMkG,SAAWnD,EAErB/C,EAAM8C,aAAeD,EAAgBE,EAAS/C,EAAMkG,SAGpDlG,EAAMhzC,QACNgzC,EAAMmG,KAAO,SAAUzb,EAAKqX,EAAUnE,GAClC,OAAOoC,EAAMuD,OAAO7Y,EAAKkY,EAAcb,GAAWnE,IAGtDoC,EAAMoG,cACNpG,EAAMqG,WAAa,SAAU3b,EAAKqX,EAAUnE,GACxC,OAAOoC,EAAM0D,aAAahZ,EAAKkY,EAAcb,GAAWnE,IAI5DoC,EAAMsG,aACNtG,EAAMuG,UAAY,SAAU7b,EAAKuY,EAAOlB,EAAUnE,GAC9C,OAAOoF,EAAaC,EAAbD,CAAoBtY,EAAKkY,EAAcb,GAAWnE,IAG7DoC,EAAMwG,UACNxG,EAAMuD,OAAS,SAAU93C,EAAQs2C,EAAUnE,GACvCA,EAAW6D,EAAM7D,GAAYsD,GAM7B,IAHA,IACIh2C,EADAu7C,EAAOlE,EAFX92C,EAASA,GAAU,IAGVi7C,EAAY,EAEI,OAAjBx7C,EAAMu7C,MACVC,GAAa,EACb3E,EAASt2C,EAAOP,GAAMA,EAAKq2C,EAAUviC,IAKzC,SAASA,EAAKuC,GACVmlC,IACInlC,EACAq8B,EAASr8B,GAII,OAARrW,GAAgBw7C,GAAa,GAClC9I,EAAS,MAVC,IAAd8I,GAAiB9I,EAAS,OAelCoC,EAAM2G,gBACN3G,EAAM0D,aAAe,SAAUjb,EAAKsZ,EAAUnE,GAC1CA,EAAW6D,EAAM7D,GAAYsD,GAE7B,IAAIgC,EAAUX,EADd9Z,EAAMA,GAAO,IAETv9B,EAAMg4C,KACV,SAAS0D,IACL,IAAI7/B,GAAO,EACX,GAAY,OAAR7b,EACA,OAAO0yC,EAAS,MAEpBmE,EAAStZ,EAAIv9B,GAAMA,EAAKq2C,GAAU,SAAUhgC,GACxC,GAAIA,EACAq8B,EAASr8B,OAER,CAED,GAAY,QADZrW,EAAMg4C,KAEF,OAAOtF,EAAS,MAEZ72B,EACAi5B,EAAM8C,aAAa8D,GAEnBA,SAKhB7/B,GAAO,EAEX6/B,IAKJ5G,EAAM6G,eACN7G,EAAM8G,YAAc,SAAUre,EAAKwa,EAAOlB,EAAUnE,GAChDoF,EAAaC,EAAbD,CAAoBva,EAAKsZ,EAAUnE,IA6EvCoC,EAAMn0B,IAAMy3B,EAAWK,GACvB3D,EAAM+G,UAAYtD,EAASE,GAC3B3D,EAAMgH,SAAWxD,EAAgBG,GAIjC3D,EAAMiH,OACNjH,EAAMkH,MACNlH,EAAMzE,OAAS,SAAU7Q,EAAKyX,EAAMJ,EAAUnE,GAC1CoC,EAAM0D,aAAahZ,GAAK,SAAUrT,EAAGlpB,EAAGyvC,GACpCmE,EAASI,EAAM9qB,GAAG,SAAU9V,EAAK84B,GAC7B8H,EAAO9H,EACPuD,EAASr8B,SAEd,SAAUA,GACTq8B,EAASr8B,EAAK4gC,OAItBnC,EAAMmH,MACNnH,EAAMoH,YAAc,SAAU1c,EAAKyX,EAAMJ,EAAUnE,GAC/C,IAAIyJ,EAAWrF,EAAKtX,EAAKyW,GAAUmG,UACnCtH,EAAMzE,OAAO8L,EAAUlF,EAAMJ,EAAUnE,IAG3CoC,EAAMuH,UAAY,SAAU7c,EAAKyX,EAAMJ,EAAUnE,GACpB,IAArB5lC,UAAUjK,SACV6vC,EAAWmE,EACXA,EAAWI,EACXA,EAAOP,EAASlX,GAAO,GAAK,IAGhCsV,EAAMuD,OAAO7Y,GAAK,SAAS2P,EAAGqB,EAAG/jC,GAC7BoqC,EAASI,EAAM9H,EAAGqB,EAAG/jC,MACtB,SAAS4J,GACRq8B,EAASr8B,EAAK4gC,OAsBtBnC,EAAMwH,OACNxH,EAAM3lB,OAASipB,EAAWO,GAE1B7D,EAAMyH,YACNzH,EAAM0H,YAAclE,EAAgBK,GAEpC7D,EAAM2H,aACN3H,EAAM4H,aAAenE,EAASI,GAS9B7D,EAAMrhC,OAAS2kC,EAAWQ,GAC1B9D,EAAM6H,YAAcrE,EAAgBM,GACpC9D,EAAM8H,aAAerE,EAASK,GA2B9B9D,EAAMgB,IACNhB,EAAMvD,KAAOsH,EAAc/D,EAAMuD,OAAQnC,EAAQD,GAEjDnB,EAAM+H,UAAYhE,EAAc/D,EAAM8G,YAAa1F,EAAQD,GAE3DnB,EAAM9mB,IACN8mB,EAAMa,MAAQkD,EAAc/D,EAAMuD,OAAQlC,EAAOA,GAEjDrB,EAAMgI,WAAajE,EAAc/D,EAAM8G,YAAazF,EAAOA,GAK3DrB,EAAMc,OAASiD,EAAc/D,EAAMuD,OAAQpC,EAAU+C,GACrDlE,EAAMiI,aAAelE,EAAc/D,EAAM0D,aAAcvC,EAAU+C,GACjElE,EAAMkI,YAAcnE,EAAc/D,EAAM8G,YAAa3F,EAAU+C,GAE/DlE,EAAMmI,OAAS,SAAUzd,EAAKqX,EAAUnE,GAsBpC,SAASwK,EAAWC,EAAMC,GACtB,IAAI/a,EAAI8a,EAAKE,SAAUvxB,EAAIsxB,EAAMC,SACjC,OAAOhb,EAAIvW,GAAK,EAAIuW,EAAIvW,EAAI,EAAI,EAvBpCgpB,EAAMn0B,IAAI6e,GAAK,SAAUrT,EAAGumB,GACxBmE,EAAS1qB,GAAG,SAAU9V,EAAKgnC,GACnBhnC,EACAq8B,EAASr8B,GAGTq8B,EAAS,KAAM,CAAC3yC,MAAOosB,EAAGkxB,SAAUA,UAG7C,SAAUhnC,EAAK1S,GACd,GAAI0S,EACA,OAAOq8B,EAASr8B,GAGhBq8B,EAAS,KAAMoE,EAAKnzC,EAAQ2pC,KAAK4P,IAAa,SAAU/wB,GACpD,OAAOA,EAAEpsB,cAYzB+0C,EAAMwI,KAAO,SAAUpE,EAAOM,EAAa9G,GACX,mBAAjB5lC,UAAU,KAEjB4lC,EAAW8G,EACXA,EAAc,MAElB9G,EAAW6D,EAAM7D,GAAYsD,GAC7B,IAAIj4B,EAAOo5B,EAAM+B,GACbqE,EAAiBx/B,EAAKlb,OAC1B,IAAK06C,EACD,OAAO7K,EAAS,MAEf8G,IACDA,EAAc+D,GAGlB,IAAI55C,EAAU,GACV65C,EAAe,EAEfC,GAAW,EAEXC,EAAY,GAChB,SAASvmC,EAAYm/B,GACjBoH,EAAUl+B,QAAQ82B,GAEtB,SAASl/B,EAAek/B,GACpB,IAAItvB,EAAMowB,EAASsG,EAAWpH,GAC1BtvB,GAAO,GAAG02B,EAAU/9B,OAAOqH,EAAK,GAExC,SAAS22B,IACLJ,IACA3G,EAAW8G,EAAU54C,MAAM,IAAI,SAAUwxC,GACrCA,OAIRn/B,GAAY,WACHomC,GACD7K,EAAS,KAAM/uC,MAIvBizC,EAAW74B,GAAM,SAAUyyB,GACvB,IAAIiN,EAAJ,CA0BA,IAzBA,IAwBIG,EAxBAzE,EAAOzC,EAASwC,EAAM1I,IAAM0I,EAAM1I,GAAI,CAAC0I,EAAM1I,IAC7CqN,EAAetG,GAAW,SAASlhC,EAAK9J,GAKxC,GAJAixC,IACIjxC,EAAK1J,QAAU,IACf0J,EAAOA,EAAK,IAEZ8J,EAAK,CACL,IAAIynC,EAAc,GAClB5G,EAAWvzC,GAAS,SAASiH,EAAKmzC,GAC9BD,EAAYC,GAAQnzC,KAExBkzC,EAAYtN,GAAKjkC,EACjBkxC,GAAW,EAEX/K,EAASr8B,EAAKynC,QAGdn6C,EAAQ6sC,GAAKjkC,EACbuoC,EAAM8C,aAAa+F,MAGvBK,EAAW7E,EAAKr0C,MAAM,EAAGq0C,EAAKt2C,OAAS,GAEvCke,EAAMi9B,EAASn7C,OAEZke,KAAO,CACV,KAAM68B,EAAM1E,EAAM8E,EAASj9B,KACvB,MAAM,IAAIlc,MAAM,iCAAmCm5C,EAAS9gC,KAAK,OAErE,GAAIw5B,EAASkH,IAAQxG,EAASwG,EAAKpN,IAAM,EACrC,MAAM,IAAI3rC,MAAM,2BAQpBo5C,KACAT,IACArE,EAAKA,EAAKt2C,OAAS,GAAGg7C,EAAcl6C,IAGpCwT,GAEJ,SAAS+mC,IACDD,MACAT,IACApmC,EAAe8mC,GACf/E,EAAKA,EAAKt2C,OAAS,GAAGg7C,EAAcl6C,OAhB5C,SAASs6C,IACL,OAAOT,EAAehE,GAAexC,EAAQgH,GAAU,SAAU3b,EAAGlW,GAChE,OAAQkW,GAAK1+B,EAAQtD,eAAe8rB,MACrC,KAAUxoB,EAAQtD,eAAemwC,QAqBhDsE,EAAMqJ,MAAQ,SAASC,EAAOjF,EAAMzG,GAChC,IAAI2L,EAAgB,EAChBC,EAAmB,EAEnBC,EAAW,GAEXphC,EAAO,CACPihC,MAAOC,EACP10B,SAAU20B,GAGd,SAASE,EAAWC,EAAKjjC,GACrB,GAAgB,iBAANA,EACNijC,EAAIL,MAAQl7C,SAASsY,EAAG,KAAO6iC,MAC5B,IAAgB,iBAAN7iC,EAIb,MAAM,IAAI3W,MAAM,iDAAqD2W,GAHrEijC,EAAIL,MAAQl7C,SAASsY,EAAE4iC,MAAO,KAAOC,EACrCI,EAAI90B,SAAWzmB,SAASsY,EAAEmO,SAAU,KAAO20B,GAMnD,IAAIz7C,EAASiK,UAAUjK,OACvB,GAAIA,EAAS,GAAKA,EAAS,EACvB,MAAM,IAAIgC,MAAM,yGAWpB,SAAS65C,EAAYC,EAAiBC,GAClC,SAASC,EAAa1F,EAAM2F,GACxB,OAAO,SAASC,GACZ5F,GAAK,SAAS9iC,EAAKhT,GACf07C,GAAgB1oC,GAAOyoC,EAAc,CAACzoC,IAAKA,EAAKhT,OAAQA,MACzDu7C,IAIX,SAASI,EAAcr1B,GACnB,OAAO,SAASo1B,GACZvzC,YAAW,WACPuzC,EAAe,QAChBp1B,IAIX,KAAOxM,EAAKihC,OAAO,CAEf,IAAIU,IAAiB3hC,EAAKihC,OAAO,GACjCG,EAASv7C,KAAK67C,EAAa1hC,EAAKg8B,KAAM2F,KAClCA,GAAgB3hC,EAAKwM,SAAW,GAChC40B,EAASv7C,KAAKg8C,EAAc7hC,EAAKwM,WAIzCmrB,EAAMmK,OAAOV,GAAU,SAASzqC,EAAM/M,GAClCA,EAAOA,EAAKA,EAAKlE,OAAS,IACzB87C,GAAmBxhC,EAAKu1B,UAAU3rC,EAAKsP,IAAKtP,EAAK1D,WAK1D,OA3CWR,GAAU,GAAsB,mBAAVu7C,IAC7B1L,EAAWyG,EACXA,EAAOiF,GAEU,mBAAVA,GACPI,EAAWrhC,EAAMihC,GAErBjhC,EAAKu1B,SAAWA,EAChBv1B,EAAKg8B,KAAOA,EAmCLh8B,EAAKu1B,SAAWgM,IAAgBA,GAG3C5J,EAAMoK,UAAY,SAAUhG,EAAOxG,GAE/B,GADAA,EAAW6D,EAAM7D,GAAYsD,IACxBU,EAASwC,GAAQ,CAClB,IAAI7iC,EAAM,IAAIxR,MAAM,6DACpB,OAAO6tC,EAASr8B,GAEpB,IAAK6iC,EAAMr2C,OACP,OAAO6vC,KAEX,SAASyM,EAAatI,GAClB,OAAOU,GAAW,SAAUlhC,EAAK9J,GAC7B,GAAI8J,EACAq8B,EAAS1+B,MAAM,KAAM,CAACqC,GAAK2R,OAAOzb,QAEjC,CACD,IAAIqH,EAAOijC,EAASjjC,OAChBA,EACArH,EAAKvJ,KAAKm8C,EAAavrC,IAGvBrH,EAAKvJ,KAAK0vC,GAEdoI,EAAYjE,GAAU7iC,MAAM,KAAMzH,OAI9C4yC,CAAarK,EAAM+B,SAASqC,GAA5BiG,IAoBJrK,EAAMsK,SAAW,SAAUlG,EAAOxG,GAC9BuG,EAAUnE,EAAMuD,OAAQa,EAAOxG,IAGnCoC,EAAMuK,cAAgB,SAASnG,EAAOnB,EAAOrF,GACzCuG,EAAUnB,EAAaC,GAAQmB,EAAOxG,IAG1CoC,EAAMmK,OAAS,SAAS/F,EAAOxG,GAC3BuG,EAAUnE,EAAM0D,aAAcU,EAAOxG,IAGzCoC,EAAM+B,SAAW,SAAUqC,GAavB,OAZA,SAASoG,EAAaz0C,GAClB,SAASyrC,IAIL,OAHI4C,EAAMr2C,QACNq2C,EAAMruC,GAAOmJ,MAAM,KAAMlH,WAEtBwpC,EAAG1iC,OAKd,OAHA0iC,EAAG1iC,KAAO,WACN,OAAQ/I,EAAQquC,EAAMr2C,OAAS,EAAKy8C,EAAaz0C,EAAQ,GAAI,MAE1DyrC,EAEJgJ,CAAa,IAGxBxK,EAAM9gC,MAAQujC,GAAW,SAAUjB,EAAI/pC,GACnC,OAAOgrC,GAAW,SAAUgI,GACxB,OAAOjJ,EAAGtiC,MACN,KAAMzH,EAAKyb,OAAOu3B,UAgB9BzK,EAAM9sB,OAASowB,EAAWgB,GAC1BtE,EAAM0K,aAAejH,EAASa,GAE9BtE,EAAM2K,OAAS,SAAU9tC,EAAMklC,EAAUnE,GAErC,GADAA,EAAWA,GAAYsD,EACnBrkC,IAAQ,CACR,IAAIiC,EAAO2jC,GAAW,SAASlhC,EAAK9J,GAC5B8J,EACAq8B,EAASr8B,GACF1E,EAAKqC,MAAM1Q,KAAMiJ,GACxBsqC,EAASjjC,GAET8+B,EAAS1+B,MAAM,KAAM,CAAC,MAAMgU,OAAOzb,OAG3CsqC,EAASjjC,QAET8+B,EAAS,OAIjBoC,EAAM4K,SAAW,SAAU7I,EAAUllC,EAAM+gC,GACvC,IAAIiN,EAAQ,EACZ,OAAO7K,EAAM2K,QAAO,WAChB,QAASE,GAAS,GAAKhuC,EAAKqC,MAAM1Q,KAAMwJ,aACzC+pC,EAAUnE,IAGjBoC,EAAM8K,MAAQ,SAAUjuC,EAAMklC,EAAUnE,GACpC,OAAOoC,EAAM2K,QAAO,WAChB,OAAQ9tC,EAAKqC,MAAM1Q,KAAMwJ,aAC1B+pC,EAAUnE,IAGjBoC,EAAM+K,QAAU,SAAUhJ,EAAUllC,EAAM+gC,GACtC,OAAOoC,EAAM4K,SAAS7I,GAAU,WAC5B,OAAQllC,EAAKqC,MAAM1Q,KAAMwJ,aAC1B4lC,IAGPoC,EAAMgL,OAAS,SAAUnuC,EAAMklC,EAAUnE,GACrCA,EAAWA,GAAYsD,EAEvB,IAAIpiC,EAAO2jC,GAAW,SAASlhC,EAAK9J,GAC5B8J,EACAq8B,EAASr8B,IAET9J,EAAKvJ,KAAKuX,GACV5I,EAAKqC,MAAM1Q,KAAMiJ,OAIrBgO,EAAQ,SAASlE,EAAK0pC,GAClB1pC,EACAq8B,EAASr8B,GACF0pC,EACPlJ,EAASjjC,GAET8+B,EAAS,OAIjB/gC,EAAK4I,IAGTu6B,EAAMkL,SAAW,SAAUnJ,EAAUllC,EAAM+gC,GACvC,IAAIiN,EAAQ,EACZ7K,EAAMgL,QAAO,SAASlsC,GACd+rC,IAAU,EACV/rC,EAAK,MAAM,GAEXjC,EAAKqC,MAAM1Q,KAAMwJ,aAEtB+pC,EAAUnE,IAuIjBoC,EAAMmL,MAAQ,SAAU1G,EAAQC,GAK5B,OAJQF,GAAO,SAAU4G,EAAOzzC,GAC5B8sC,EAAO2G,EAAM,GAAIzzC,KAClB+sC,EAAa,IAKpB1E,EAAMqL,cAAgB,SAAU5G,EAAQC,GAEpC,SAAS4G,EAAc/d,EAAGvW,GACtB,OAAOuW,EAAEge,SAAWv0B,EAAEu0B,SAgD1B,IAAI1G,EAAI7E,EAAMmL,MAAM1G,EAAQC,GAU5B,OAPAG,EAAE32C,KAAO,SAAU+D,EAAMs5C,EAAU3N,IAlCnC,SAAiBiH,EAAG5yC,EAAMs5C,EAAU3N,GAChC,GAAgB,MAAZA,GAAwC,mBAAbA,EAC3B,MAAM,IAAI7tC,MAAM,oCAMpB,GAJA80C,EAAEpzB,SAAU,EACPmwB,EAAS3vC,KACVA,EAAO,CAACA,IAEO,IAAhBA,EAAKlE,OAEJ,OAAOiyC,EAAM8C,cAAa,WACtB+B,EAAEE,WAGVjD,EAAW7vC,GAAM,SAASoyC,GACtB,IAAI7jC,EAAO,CACPvO,KAAMoyC,EACNkH,SAAUA,EACV3N,SAA8B,mBAAbA,EAA0BA,EAAWsD,GAG1D2D,EAAET,MAAMv5B,OAnChB,SAAuB2gC,EAAUhrC,EAAMirC,GAGnC,IAFA,IAAIC,GAAO,EACPlpC,EAAMgpC,EAASz9C,OAAS,EACrB29C,EAAMlpC,GAAK,CACd,IAAImpC,EAAMD,GAAQlpC,EAAMkpC,EAAM,IAAO,GACjCD,EAAQjrC,EAAMgrC,EAASG,KAAS,EAChCD,EAAMC,EAENnpC,EAAMmpC,EAAM,EAGpB,OAAOD,EAwBYE,CAAc/G,EAAET,MAAO5jC,EAAM8qC,GAAiB,EAAG,EAAG9qC,GAE/DqkC,EAAET,MAAMr2C,SAAW82C,EAAEH,aACrBG,EAAEG,YAENhF,EAAM8C,aAAa+B,EAAEjvC,YASzBgvC,CAAQC,EAAG5yC,EAAMs5C,EAAU3N,WAIxBiH,EAAEn6B,QAEFm6B,GAGX7E,EAAM6L,MAAQ,SAAUpH,EAAQE,GAC5B,OAAOH,EAAOC,EAAQ,EAAGE,IAqB7B3E,EAAMtgC,IAAM+lC,EAAY,OACxBzF,EAAM8L,IAAMrG,EAAY,OAKxBzF,EAAM+L,QAAU,SAAUvK,EAAIjkB,GAC1B,IAAI4kB,EAAO,GACP6J,EAAS,GACT9zB,EAAM7sB,OAAOC,UAAUC,eAC3BgyB,EAASA,GAAU4jB,EACnB,IAAI8K,EAAWxJ,GAAW,SAAkBhrC,GACxC,IAAImmC,EAAWnmC,EAAK+nC,MAChBt0C,EAAMqyB,EAAOre,MAAM,KAAMzH,GACzBygB,EAAI1sB,KAAK22C,EAAMj3C,GACf80C,EAAM8C,cAAa,WACflF,EAAS1+B,MAAM,KAAMijC,EAAKj3C,OAGzBgtB,EAAI1sB,KAAKwgD,EAAQ9gD,GACtB8gD,EAAO9gD,GAAKgD,KAAK0vC,IAGjBoO,EAAO9gD,GAAO,CAAC0yC,GACf4D,EAAGtiC,MAAM,KAAMzH,EAAKyb,OAAO,CAACuvB,GAAW,SAAUhrC,GAC7C0qC,EAAKj3C,GAAOuM,EACZ,IAAIotC,EAAImH,EAAO9gD,UACR8gD,EAAO9gD,GACd,IAAK,IAAIiD,EAAI,EAAG+9C,EAAIrH,EAAE92C,OAAQI,EAAI+9C,EAAG/9C,IACjC02C,EAAE12C,GAAG+Q,MAAM,KAAMzH,aAOjC,OAFAw0C,EAAS9J,KAAOA,EAChB8J,EAASE,WAAa3K,EACfyK,GAGXjM,EAAMoM,UAAY,SAAU5K,GACxB,OAAO,WACH,OAAQA,EAAG2K,YAAc3K,GAAItiC,MAAM,KAAMlH,aAUjDgoC,EAAMsJ,MAAQ5D,EAAO1F,EAAMn0B,KAC3Bm0B,EAAMqM,YAAc3G,EAAO1F,EAAM+G,WACjC/G,EAAMsM,WAAa,SAAUzkB,EAAOob,EAAOlB,EAAUnE,GACjD,OAAOoC,EAAMgH,SAAS/E,EAAOpa,GAAQob,EAAOlB,EAAUnE,IAG1DoC,EAAMtiC,IAAM,WACR,IAAImoC,EAAM7tC,UACV,OAAOyqC,GAAW,SAAUhrC,GACxB,IAAIsuC,EAAOv3C,KAEPovC,EAAWnmC,EAAKA,EAAK1J,OAAS,GACX,mBAAZ6vC,EACPnmC,EAAK+nC,MAEL5B,EAAWsD,EAGflB,EAAMzE,OAAOsK,EAAKpuC,GAAM,SAAU80C,EAAS/K,EAAI7pC,GAC3C6pC,EAAGtiC,MAAM6mC,EAAMwG,EAAQr5B,OAAO,CAACuvB,GAAW,SAAUlhC,EAAKirC,GACrD70C,EAAG4J,EAAKirC,YAGhB,SAAUjrC,EAAK1S,GACX+uC,EAAS1+B,MAAM6mC,EAAM,CAACxkC,GAAK2R,OAAOrkB,WAK9CmxC,EAAMyM,QAAU,WACZ,OAAOzM,EAAMtiC,IAAIwB,MAAM,KAAM+c,MAAM3wB,UAAUg8C,QAAQ97C,KAAKwM,aAuB9DgoC,EAAM0M,UAAY9G,EAAW5F,EAAMuD,QACnCvD,EAAM2M,gBAAkB/G,EAAW5F,EAAM0D,cAGzC1D,EAAM4M,QAAU,SAAUpL,EAAI5D,GAC1B,IAAI5+B,EAAOuiC,EAAU3D,GAAYsD,GAC7BmD,EAAO2B,EAAYxE,IACvB,SAAS1iC,EAAKyC,GACV,GAAIA,EACA,OAAOvC,EAAKuC,GAEhB8iC,EAAKvlC,GAETA,IAsBJkhC,EAAMgG,YAAcA,EAEpBhG,EAAM6M,SAAWpK,GAAW,SAAS5xC,GACjC,IAAI4G,EAAO,CAAC,MAAMyb,OAAOriB,GACzB,OAAO,SAAU+sC,GACb,OAAOA,EAAS1+B,MAAM1Q,KAAMiJ,OAIpCuoC,EAAM8M,SACN9M,EAAM+M,SAAW,SAAkB3yB,GAC/B,OAAOqoB,GAAW,SAAUhrC,GACxB,IACIlJ,EA7oCak6B,EACjBx8B,EA2oCI2xC,EAAWnmC,EAAK+nC,MAEpB,IACIjxC,EAAS6rB,EAAKlb,MAAM1Q,KAAMiJ,GAC5B,MAAOnH,GACL,OAAOstC,EAASttC,IA/oCR,cADZrE,SADiBw8B,EAopCHl6B,KAlpCqB,WAATtC,GAAuBw8B,IAkpCD,mBAAhBl6B,EAAO0Q,KACnC1Q,EAAO0Q,MAAK,SAAShU,GACjB2yC,EAAS,KAAM3yC,MACT,OAAE,SAASsW,GACjBq8B,EAASr8B,EAAIjK,QAAUiK,EAAM,IAAIxR,MAAMwR,OAG3Cq8B,EAAS,KAAMrvC,OAMOnD,EAAOO,QACrCP,EAAOO,QAAUq0C,OAMhB,KAFU,EAAF,WACL,OAAOA,GACV,QAFM,OAEN,aAluCT,I,8ECNA,aACA,OACA,OAEMn5B,EAAoB,EAAQ,GAAkBE,KAC9CimC,EAAmB,CAAC,sBAAuB,mBAAoB,kBAErE,MAAavgC,UAA8B,EAAAuC,aAOvC,cACI9iB,QAPG,KAAA4lB,YAAwB,CAAC,UAAW,UAAW,eAU/C,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAGH,MAAO,CACH,2CAHYjJ,KAAKrB,MAAe,WAOjC,iBAQH,MAPiB,CACb,0CACA,2CACA,kBACA,2CACA,0BAKD,iBAKH,MAJiB,CACb,0CACA,0BAKD,kBAKH,MAJ2B,CACvB,0CACA,4CAKD,cACH,MAAMsmB,EAAW,GACjB,GAAIjlB,KAAKiJ,KAAKoZ,UAAU1G,QAAS,CAC7B,MAAM8iC,EAAcz+C,KAAK0+C,2BACzBz5B,EAASvlB,QAAQ++C,GAErB,OAAOx5B,EAGH,2BACJ,MAAM05B,EAAW,KAAO,EAAAC,kBAAkB5+C,KAAKiJ,KAAKoZ,UAAU/jB,UAAUsD,SAAS,IAC3Ei9C,EAAkD,EAAnC7+C,KAAKiJ,KAAKoZ,UAAUw8B,aAGnC55B,EAAqB,CACvB,4BAHoD,EAAnCjlB,KAAKiJ,KAAKoZ,UAAUy8B,gBAGOD,KAAgBF,MAC5D,6BACA,kBAAkBA,IAClB,gBACA,iBAKJ,OAFA15B,EAASvlB,KAAKM,KAAKiJ,KAAKoZ,UAAU08B,QAAU,iBAAmB,mBAExD95B,EAAS5H,IAAK/G,GAAM,6BAA6BA,MAGrD,mBACH,GAAItW,KAAKiJ,KAAK+1C,WAAc,OAAOh/C,KAAKiJ,KAAK+1C,WAEzC,GAAsB,UAAlBxmC,EAAGpK,WACH,MAAO,uBAGP,IAAK,MAAM9K,KAAQk7C,EACf,GAAInmC,EAAkB/U,GAAS,OAAOA,EAE1C,MAAO,iBAKZ,kBACH,MAAM27C,EAAUj/C,KAAKrB,MAAe,QAC9BugD,EAAUl/C,KAAKrB,MAAe,QAC9BwgD,EAAcn/C,KAAKrB,MAAmB,YAE5C,IAAIygD,EAAU,CACV,MAAOp/C,KAAKiJ,KAAKo2C,UACjB,QAASJ,EAAQr9C,WACjB,WAAYs9C,EAAQt9C,WACpB,cAAeu9C,EAAYv9C,WAC3B,UAAW5B,KAAKiJ,KAAKq2C,QAsBzB,OAnBIt/C,KAAKiJ,KAAKs2C,aACVH,EAAQ1/C,KAAK,UAAW,OAAOM,KAAKiJ,KAAKs2C,gBAEpCv/C,KAAKiJ,KAAKy7B,WACf0a,EAAQ1/C,KAAK,UAAW,MAAMM,KAAKiJ,KAAKy7B,aAGxC1kC,KAAKiJ,KAAKu2C,MACVJ,EAAQ1/C,KAAK,QAASM,KAAKiJ,KAAKu2C,MAGhCx/C,KAAKiJ,KAAKw2C,aACVL,EAAQ1/C,KAAK,mBAAoBM,KAAKiJ,KAAKw2C,aAG3Cz/C,KAAKiJ,KAAKy2C,aACVN,EAAUA,EAAQ16B,OAAO1kB,KAAKiJ,KAAKy2C,aAGhCN,EAGJ,YACH,MAAO,oCAGJ,uBACA,wBACCp/C,KAAKiJ,KAAKoZ,UAAU1G,UACe,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,OACpBrE,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CAAEN,KAAM,SAAUiB,KAAMsB,KAAKrB,MAAe,WAGrFqB,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CACrCN,KAAM,SACN6hD,OAAQt/C,KAAKiJ,KAAKoZ,UAAUhe,OAC5Bs7C,SAAU3/C,KAAKiJ,KAAKoZ,UAAUw8B,iBAKvC,yBACA,4BA3JX,2B,8ECPA,aACA,OACA,QACA,OACA,OACA,OAEA,MAAa1gC,UAAgC,EAAAqC,aAOzC,cACI9iB,QAPG,KAAA4lB,YAAc,CAAC,WACf,KAAAhgB,KAAO,UAOVtD,KAAK4/C,QAAUC,EAAIC,cAGhB,SAASnhD,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAGH,MAAO,CACH,2CAHYjJ,KAAKrB,MAAe,WAOjC,iBAOH,MANiB,CACb,gDACA,kBACA,gDACA,0BAKD,iBAKH,MAJiB,CACb,0CACA,0BAKD,kBAIH,MAH2B,CACvB,iDAKD,cACH,MAAMsmB,EAAW,GACjB,GAAIjlB,KAAKiJ,KAAKoZ,UAAU1G,QAAS,CAC7B,MAAM8iC,EAAcz+C,KAAK0+C,2BACzBz5B,EAASvlB,QAAQ++C,GAErB,OAAOx5B,EAGH,2BACJ,MAAM05B,EAAW,KAAO,EAAAC,kBAAkB5+C,KAAKiJ,KAAKoZ,UAAU/jB,UAAUsD,SAAS,IAC3Ei9C,EAAe7+C,KAAKiJ,KAAKoZ,UAAUw8B,aACnCC,EAAe9+C,KAAKiJ,KAAKoZ,UAAUy8B,aAInC75B,EAAqB,CACvB,kBACA,gBAJUzL,KAAK8rB,MAAMwZ,EAAeD,GAAgB,IAKpD,aACA,uBACA,6BACA,kBAAkBF,IAClB,gBACA,gBACA,mBAKJ,OAFA15B,EAASvlB,KAAKM,KAAKiJ,KAAKoZ,UAAU08B,QAAU,iBAAmB,mBAExD95B,EAAS5H,IAAK/G,GAAM,6BAA6BA,MAGrD,mBACH,OAAItW,KAAKiJ,KAAK+1C,WAAqBh/C,KAAKiJ,KAAK+1C,WAEhB,UAAlBxmC,EAAGpK,WAAyB,cAAgB,UAIpD,kBACH,MAAM6wC,EAAUj/C,KAAKrB,MAAe,QAEpC,IAAIohD,EAAa,GAEjBA,EAAWrgD,KAAK,KAAM,YAAYu/C,KAElCj/C,KAAKiJ,KAAK+2C,UAAUxhD,QAAQ,CAACyhD,EAAIv8B,KAC7Bq8B,EAAWrgD,KAAK,KAAMugD,KAGS,IAA/BjgD,KAAKiJ,KAAK+2C,UAAUzgD,QACpBwgD,EAAWrgD,KAAK,KAAMM,KAAKiJ,KAAKkZ,KAGpC,IAAK,MAAMpJ,KAAO/Y,KAAKiJ,KAAKi3C,gCAAkC,GAC1DH,EAAWrgD,KAAK,KAAMqZ,GAO1B,GAJA/Y,KAAKiJ,KAAKk3C,YAAY3hD,QAAQ,CAAC4hD,EAAI18B,KAC/Bq8B,EAAWrgD,KAAK,KAAM0gD,KAGtBpgD,KAAKiJ,KAAKu2C,KAAM,CAChB,MAAMa,EAAaR,EAAIC,cACvBnvC,EAAG2vC,cAAcD,EAAY,gCAAgCrgD,KAAKiJ,KAAKu2C,SAAU,QACjFO,EAAWrgD,KAAK,KAAM2gD,GAGtBrgD,KAAKiJ,KAAKy2C,aACVK,EAAaA,EAAWr7B,OAAO1kB,KAAKiJ,KAAKy2C,aAG7C,MAAMz6B,EAAW,GAEjB,GAAIjlB,KAAKiJ,KAAKoZ,UAAU1G,QAAS,CAC7B,IAAI4kC,EACkB,UAAlB/nC,EAAGpK,aACHpO,KAAK4/C,QAAU5/C,KAAK4/C,QAAQ98C,QAAQ,MAAO,MAG3Cy9C,EAD+B,UAA/BvgD,KAAKiJ,KAAKoZ,UAAUhe,OACP,YAAYrE,KAAK4/C,UAGjB,WAGjB36B,EAASvlB,KAAK,eAAe6gD,cAAuBvgD,KAAKiJ,KAAKoZ,UAAUy8B,gBAAgB9+C,KAAKiJ,KAAKoZ,UAAUw8B,gBAG5G55B,EAAS1lB,OAAS,GAClBwgD,EAAWrgD,KAAK,KAAMulB,EAASrL,KAAK,OAGxC,IAAK,MAAMb,KAAO/Y,KAAKiJ,KAAKu3C,uBAAyB,GACjDT,EAAWrgD,KAAK,KAAMqZ,GAG1B,OAAOgnC,EAGJ,YAOH,MAAO,yDAGJ,sBACH,GAAI//C,KAAKiJ,KAAKoZ,UAAU1G,SAA0C,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,QAAwC,UAAlBmU,EAAGpK,WAAwB,CAC/EinB,EAAaorB,UAAU,SAAU,CAACzgD,KAAK4/C,UAC5D5/C,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CAAEN,KAAM,OAAQsB,KAAMiB,KAAK4/C,YAIrE,wBACC5/C,KAAKiJ,KAAKoZ,UAAU1G,UACe,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,QAAwC,UAAlBmU,EAAGpK,WAC7CpO,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CAAEN,KAAM,OAAQsB,KAAMiB,KAAK4/C,WAEhC,UAA/B5/C,KAAKiJ,KAAKoZ,UAAUhe,QACzBrE,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CACrCN,KAAM,SACN6hD,OAAQt/C,KAAKiJ,KAAKoZ,UAAUhe,OAC5Bs7C,SAAU3/C,KAAKiJ,KAAKoZ,UAAUw8B,iBAMvC,yBACA,4BA/LX,6B;;;;;;;;ACGA,MAAMluC,EAAK,EAAQ,GACb5R,EAAO,EAAQ,GACfiwB,EAAS,EAAQ,IACjB0xB,EAAW,EAAQ,IACnBC,EAAKv5C,QAAQw5C,QAAQ,aAUzBC,EAASH,IAGTI,EAAe,iEAEfC,EAAmB,SAInBC,GAAgBL,EAAGM,SAAWN,EAAGhwC,GAAGswC,UAAYN,EAAGO,QAAUP,EAAGhwC,GAAGuwC,SAAWP,EAAGQ,QAAUR,EAAGhwC,GAAGwwC,QAEjGC,EAAQT,EAAGS,OAAST,EAAGnoC,GAAG6oC,MAAMD,MAChCE,EAASX,EAAGW,QAAUX,EAAGnoC,GAAG6oC,MAAMC,OAMlCC,EAAiB,GAEnB,IACEC,GAAmB,EACnBC,GAAqB,EAUvB,SAASC,EAAaC,GACpB,IACEllD,EAAQ,GACRmlD,EAAM,KAGR,IACEA,EAAM5yB,EAAO6yB,YAAYF,GACzB,MAAO7/C,GACP8/C,EAAM5yB,EAAO8yB,kBAAkBH,GAGjC,IAAK,IAAIhiD,EAAI,EAAGA,EAAIgiD,EAAShiD,IAC3BlD,EAAMiD,KAAKohD,EAAac,EAAIjiD,GAAKmhD,EAAavhD,SAGhD,OAAO9C,EAAMmd,KAAK,IAUpB,SAASmoC,EAAa9nB,GACpB,YAAsB,IAARA,EAahB,SAAS+nB,EAAgBnwC,EAASu9B,GAChC,MAAsB,mBAAXv9B,EACF,CAACu9B,GAAY,GAAIv9B,GAGtBkwC,EAAalwC,GACR,CAAC,GAAIu9B,GAGP,CAACv9B,EAASu9B,GAUnB,SAAS6S,EAAiBpoC,GACxB,GAAIA,EAAKvW,KACP,OAAOvE,EAAK6a,KAAKC,EAAKyjC,KAAOuD,EAAQhnC,EAAKvW,MAI5C,GAAIuW,EAAKqoC,SACP,OAAOroC,EAAKqoC,SAASp/C,QAAQi+C,EAAkBW,EAAa,IAI9D,MAAMp+C,EAAO,CACXuW,EAAK6rB,QAAU,OACft+B,QAAQqvB,IACRirB,EAAa,IACb7nC,EAAKsoC,SAAW,IAChBvoC,KAAK,IAEP,OAAO7a,EAAK6a,KAAKC,EAAKyjC,KAAOuD,EAAQv9C,GASvC,SAAS8+C,EAAQvwC,EAASu9B,GACxB,IACEnmC,EAAO+4C,EAAgBnwC,EAASu9B,GAChCv1B,EAAO5Q,EAAK,GACZE,EAAKF,EAAK,GACVyN,EAAQmD,EAAKvW,KAAO,EAAIuW,EAAKnD,OApHf,EAsHhB,OAAIwtB,MAAMxtB,IAAUA,EAAQ,EACnBvN,EAAG,IAAI5H,MAAM,kBAElBsY,EAAKqoC,WAAaroC,EAAKqoC,SAAS//C,MAAM4+C,GACjC53C,EAAG,IAAI5H,MAAM,mCAErB,SAAS8gD,IACR,MAAM/+C,EAAO2+C,EAAiBpoC,GAG9BlJ,EAAGmjB,KAAKxwB,GAAM,SAAUyP,GACtB,IAAKA,EACH,OAAI2D,KAAU,EAAU2rC,IAEjBl5C,EAAG,IAAI5H,MAAM,0DAA4D+B,IAGlF6F,EAAG,KAAM7F,MAXb,GAuBF,SAASw8C,EAAYjuC,GACnB,IAEEgI,EADOmoC,EAAgBnwC,GACX,GACZ6E,EAAQmD,EAAKvW,KAAO,EAAIuW,EAAKnD,OAvJf,EAyJhB,GAAIwtB,MAAMxtB,IAAUA,EAAQ,EAC1B,MAAM,IAAInV,MAAM,iBAElB,GAAIsY,EAAKqoC,WAAaroC,EAAKqoC,SAAS//C,MAAM4+C,GACxC,MAAM,IAAIx/C,MAAM,6BAElB,EAAG,CACD,MAAM+B,EAAO2+C,EAAiBpoC,GAC9B,IACElJ,EAAGwjB,SAAS7wB,GACZ,MAAOxB,GACP,OAAOwB,SAEFoT,KAAU,GAEnB,MAAM,IAAInV,MAAM,0DAuFlB,SAAS+gD,EAAoB3R,GAC3B,MAAM4R,EAAO,CAAC5R,GAEd,EAAG,CAMD,IALA,IACE2M,EAAMiF,EAAKvR,MACXtW,GAAW,EACX8nB,EAAQ7xC,EAAG8xC,YAAYnF,GAEhB39C,EAAI,EAAGJ,EAASijD,EAAMjjD,OAAQI,EAAIJ,EAAQI,IAAK,CACtD,IACE8nB,EAAO1oB,EAAK6a,KAAK0jC,EAAKkF,EAAM7iD,IACrBgR,EAAG+xC,UAAUj7B,GAEbuM,eACF0G,IACHA,GAAW,EACX6nB,EAAK7iD,KAAK49C,IAEZiF,EAAK7iD,KAAK+nB,IAEV9W,EAAGgyC,WAAWl7B,GAIbiT,GACH/pB,EAAGiyC,UAAUtF,SAEQ,IAAhBiF,EAAKhjD,QA0DhB,SAASsjD,EAA8Bv/C,EAAMupC,EAAIhzB,GAC/C,MAAMipC,EAAiBC,GAAuB,SAAyBC,GACrE,IACM,GAAKA,EAAO,IACdryC,EAAGsyC,UAAUD,EAAO,IAGxB,MAAOlhD,GAIL,IA6FGohD,EA7FUphD,GA6Fcs/C,EAAO,WA7Fd+B,EAASrhD,GAE3B,MAAMA,EAGV,IACE6O,EAAGgyC,WAAWK,EAAO,IAEvB,MAAOlhD,GACL,IAAKqhD,EAASrhD,GAEZ,MAAMA,KAGT,CAAC+qC,EAAIvpC,IAMR,OAJKuW,EAAKupC,MACR7B,EAAerlC,QAAQ4mC,GAGlBA,EAWT,SAASO,EAA6B//C,EAAMuW,GAC1C,MACMipC,EAAiBC,EADAlpC,EAAKypC,cAAgBhB,EAAsB3xC,EAAGiyC,UAAUjmD,KAAKgU,GACtBrN,GAM9D,OAJKuW,EAAKupC,MACR7B,EAAerlC,QAAQ4mC,GAGlBA,EAWT,SAASC,EAAuBQ,EAAgBl0B,GAC9C,IAAIm0B,GAAS,EAEb,OAAO,SAASC,EAAiBnzC,GAC/B,IAAKkzC,EAAQ,CACX,MAAMj8C,EAAQg6C,EAAezmC,QAAQ2oC,GACjCl8C,GAAS,GACXg6C,EAAellC,OAAO9U,EAAO,GAG/Bi8C,GAAS,EACTD,EAAel0B,GAGb/e,GAAMA,EAAK,OASnB,SAASozC,IACP,IAAIjC,GAAuBD,EAM3B,KAAOD,EAAehiD,QACpB,IACEgiD,EAAe,GAAGvkD,KAAK,MACvB,MAAO8E,KAgBb,SAASqhD,EAASn8C,GAChB,OAAOk8C,EAAgBl8C,GAAQs6C,EAAQ,UAuBzC,SAAS4B,EAAgBl8C,EAAO2L,EAAM0uC,GACpC,OAAOr6C,EAAM2L,MAAQA,GAAQ3L,EAAM2L,MAAQ0uC,EAY7C,MAAM3lB,EAAUt0B,QAAQ4mC,SAASh5B,KAAKwI,MAAM,KAAKH,KAAI,SAAU5gB,GAC7D,OAAOmD,SAASnD,EAAO,OAGN,IAAfi/B,EAAQ,KAAaA,EAAQ,GAAK,GAAoB,IAAfA,EAAQ,IAAYA,EAAQ,GAAK,IAC1Et0B,QAAQyM,YAAY,qBAAqB,SAAkCd,GAIzE,MAHA0uC,GAAqB,EACrBiC,IAEM3wC,KAIV3L,QAAQyM,YAAY,QAAQ,SAAelB,GACrCA,IAAM8uC,GAAqB,GAC/BiC,OAgEF9mD,EAAOO,QAAQwmD,OAAS9C,EAExBjkD,EAAOO,QAAQmgD,IArRf,SAAazrC,EAASu9B,GACpB,IACEnmC,EAAO+4C,EAAgBnwC,EAASu9B,GAChCv1B,EAAO5Q,EAAK,GACZE,EAAKF,EAAK,GAGZm5C,EAAQvoC,GAAM,SAAyB9G,EAAKzP,GAC1C,GAAIyP,EAAK,OAAO5J,EAAG4J,GAGnBpC,EAAGijB,MAAMtwB,EAAMuW,EAAK6Z,MAxSX,KAwS6B,SAAqB3gB,GACzD,GAAIA,EAAK,OAAO5J,EAAG4J,GAEnB5J,EAAG,KAAM7F,EAAM+/C,EAA6B//C,EAAMuW,WAwQxDjd,EAAOO,QAAQymD,QA5Pf,SAAiB/xC,GACf,IAEEgI,EADOmoC,EAAgBnwC,GACX,GAEd,MAAMvO,EAAOw8C,EAAYjmC,GAGzB,OAFAlJ,EAAGsjB,UAAU3wB,EAAMuW,EAAK6Z,MA7Tb,KA+TJ,CACLpwB,KAAMA,EACNw/C,eAAgBO,EAA6B//C,EAAMuW,KAoPvDjd,EAAOO,QAAQsqB,KA3Yf,SAAc5V,EAASu9B,GACrB,IACEnmC,EAAO+4C,EAAgBnwC,EAASu9B,GAChCv1B,EAAO5Q,EAAK,GACZE,EAAKF,EAAK,GAEZ4Q,EAAKsoC,QAAWJ,EAAaloC,EAAKsoC,SAAY,OAAStoC,EAAKsoC,QAG5DC,EAAQvoC,GAAM,SAAyB9G,EAAKzP,GAC1C,GAAIyP,EAAK,OAAO5J,EAAG4J,GAGnBpC,EAAGkzC,KAAKvgD,EAAM09C,EAAcnnC,EAAK6Z,MAtLvB,KAsL0C,SAAsB3gB,EAAK85B,GAC7E,OAAI95B,EAAY5J,EAAG4J,GAEf8G,EAAKiqC,kBACAnzC,EAAG6F,MAAMq2B,GAAI,SAA0B95B,GAC5C,GAAIA,EAAK,CAKP,IACEpC,EAAGgyC,WAAWr/C,GACd,MAAOxB,GACFqhD,EAASrhD,KACZiR,EAAMjR,GAGV,OAAOqH,EAAG4J,GAEZ5J,EAAG,KAAM7F,OAAMhB,EAAWugD,EAA8Bv/C,GAAO,EAAGuW,OAGlEA,EAAKkqC,iBACA56C,EAAG,KAAM7F,EAAMupC,EAAIgW,EAA8Bv/C,GAAO,EAAGuW,SAEpE1Q,EAAG,KAAM7F,EAAMupC,EAAIgW,EAA8Bv/C,EAAMupC,EAAIhzB,WAsWjEjd,EAAOO,QAAQ6mD,SA1Vf,SAAkBnyC,GAChB,IAEEgI,EADOmoC,EAAgBnwC,GACX,GAEdgI,EAAKsoC,QAAUtoC,EAAKsoC,SAAW,OAE/B,MAAM8B,EAA4BpqC,EAAKiqC,mBAAqBjqC,EAAKkqC,iBAC3DzgD,EAAOw8C,EAAYjmC,GACzB,IAAIgzB,EAAKl8B,EAAGuzC,SAAS5gD,EAAM09C,EAAcnnC,EAAK6Z,MApOlC,KA0OZ,OALI7Z,EAAKiqC,oBACPnzC,EAAGsyC,UAAUpW,GACbA,OAAKvqC,GAGA,CACLgB,KAAMA,EACNupC,GAAIA,EACJiW,eAAgBD,EAA8Bv/C,EAAM2gD,GAA6B,EAAIpX,EAAIhzB,KA0U7Fjd,EAAOO,QAAQilD,QAAUA,EACzBxlD,EAAOO,QAAQ2iD,YAAcA,EAE7BljD,EAAOO,QAAQgnD,mBA9Ff,WACE3C,GAAmB,I,6BCpgBrB,IAAI4C,EAAiC,UAArBh9C,QAAQgH,SACpBi2C,EAAkBD,EAAY,UAAY,OAG9CxnD,EAAOO,QAAU,WAChB,IAAI4B,EAiBJ,OAdCA,EADGqlD,EACIh9C,QAAQ6T,IAAIqpC,MAClBl9C,QAAQ6T,IAAIspC,MACXn9C,QAAQ6T,IAAIupC,YAAcp9C,QAAQ6T,IAAIwpC,QAAU,SAE3Cr9C,QAAQ6T,IAAIypC,QAClBt9C,QAAQ6T,IAAIspC,KACZn9C,QAAQ6T,IAAIqpC,MACZ,OAGED,EAAgBh2C,KAAKtP,KACxBA,EAAOA,EAAKyC,MAAM,GAAI,IAGhBzC,I,8ECtBR,aACA,OACA,OAEA,MAAasf,UAA+B,EAAAmC,aAOxC,cACI9iB,QAPY,KAAA4F,KAAe,UACf,KAAAggB,YAAwB,CAAC,WASlC,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAGH,MAAO,CACH,2CAHYjJ,KAAKrB,MAAe,WAOjC,iBAQH,MAPiB,CACb,0CACA,2CACA,kBACA,2CACA,0BAKD,iBAKH,MAJiB,CACb,0CACA,0BAKD,kBAKH,MAJ2B,CACvB,0CACA,4CAKD,cACH,MAAMsmB,EAAW,GACjB,GAAIjlB,KAAKiJ,KAAKoZ,UAAU1G,SAA0C,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,OAAoB,CACvE,MAAMo6C,EAAcz+C,KAAK0+C,2BACzBz5B,EAASvlB,QAAQ++C,GAErB,OAAOx5B,EAGH,2BACJ,MAAM05B,EAAW,KAAO,EAAAC,kBAAkB5+C,KAAKiJ,KAAKoZ,UAAU/jB,UAAUsD,SAAS,IAC3Ei9C,EAAe7+C,KAAKiJ,KAAKoZ,UAAUw8B,aACnCC,EAAe9+C,KAAKiJ,KAAKoZ,UAAUy8B,aAInC75B,EAAqB,CACvB,kBACA,gBAJUzL,KAAK8rB,MAAMwZ,EAAeD,GAAgB,IAKpD,aACA,uBACA,6BACA,kBAAkBF,IAClB,gBACA,gBACA,mBAKJ,OAFA15B,EAASvlB,KAAKM,KAAKiJ,KAAKoZ,UAAU08B,QAAU,iBAAmB,mBAExD95B,EAAS5H,IAAK/G,GAAM,6BAA6BA,MAGrD,mBACH,OAAItW,KAAKiJ,KAAK+1C,WAAqBh/C,KAAKiJ,KAAK+1C,WACb,UAAlBxmC,EAAGpK,WAAyB,cAAgB,UAGvD,kBAGH,IAAI2xC,EAAa,CAAC,KAFF//C,KAAKrB,MAAe,QAEJiD,WAAY,KAAM,cASlD,OARI5B,KAAKiJ,KAAK07C,IACV5E,EAAWrgD,KAAK,cAGhBM,KAAKiJ,KAAKy2C,aACVK,EAAaA,EAAWr7B,OAAO1kB,KAAKiJ,KAAKy2C,aAGtCK,EAGJ,YACH,MAAO,mBAGJ,uBACA,wBACC//C,KAAKiJ,KAAKoZ,UAAU1G,SAA0C,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,QACnDrE,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CACrCN,KAAM,SACN6hD,OAAQt/C,KAAKiJ,KAAKoZ,UAAUhe,OAC5Bs7C,SAAU3/C,KAAKiJ,KAAKoZ,UAAUw8B,gBAKnC,yBACA,4BA/HX,4B,8ECJA,aAEA,OAEA,MAAatgC,UAA8B,EAAAiC,aAOvC,cACI9iB,QAPY,KAAA4F,KAAe,QACf,KAAAggB,YAAwB,CAAC,WASlC,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAGH,MAAO,CACH,2CAHYjJ,KAAKrB,MAAe,WAOjC,iBAOH,MANiB,CACb,gDACA,kBACA,gDACA,0BAKD,iBACaqB,KAAKrB,MAAe,QAMpC,MAJiB,CACb,0CACA,0BAKD,kBAIH,MAH2B,CACvB,4CAKD,cACH,MAAMsmB,EAAW,GACjB,GAAIjlB,KAAKiJ,KAAKoZ,UAAU1G,SAA0C,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,OAAoB,CACvE,MAAMo6C,EAAcz+C,KAAK0+C,2BACzBz5B,EAASvlB,QAAQ++C,GAErB,OAAOx5B,EAGH,2BACJ,MAAM05B,EAAW,KAAO,EAAAC,kBAAkB5+C,KAAKiJ,KAAKoZ,UAAU/jB,UAAUsD,SAAS,IAC3Ei9C,EAAe7+C,KAAKiJ,KAAKoZ,UAAUw8B,aACnCC,EAAe9+C,KAAKiJ,KAAKoZ,UAAUy8B,aAInC75B,EAAqB,CACvB,kBACA,gBAJUzL,KAAK8rB,MAAMwZ,EAAeD,GAAgB,IAKpD,aACA,uBACA,6BACA,kBAAkBF,IAClB,gBACA,gBACA,mBAKJ,OAFA15B,EAASvlB,KAAKM,KAAKiJ,KAAKoZ,UAAU08B,QAAU,iBAAmB,mBAExD95B,EAAS5H,IAAK/G,GAAM,6BAA6BA,MAGrD,mBACH,OAAOtW,KAAKiJ,KAAK+1C,WAAah/C,KAAKiJ,KAAK+1C,WAAa,kBAGlD,kBAGH,IAAIe,EAAa,CAAC,YAAa,SAFf//C,KAAKrB,MAAe,QAEaiD,WAAY,iBAoB7D,OAlBI5B,KAAKiJ,KAAK27C,UACV7E,EAAWrgD,KAAK,WAChBqgD,EAAWrgD,KAAKM,KAAKiJ,KAAK27C,UAG1B5kD,KAAKiJ,KAAK47C,WACV9E,EAAWrgD,KAAK,YAChBqgD,EAAWrgD,KAAKM,KAAKiJ,KAAK47C,SAASjjD,aAGnC5B,KAAKiJ,KAAK67C,YACV/E,EAAWrgD,KAAK,UAChBqgD,EAAWrgD,KAAKM,KAAKiJ,KAAK67C,UAAUljD,aAGpC5B,KAAKiJ,KAAKy2C,aACVK,EAAaA,EAAWr7B,OAAO1kB,KAAKiJ,KAAKy2C,aAEtCK,EAGJ,YACH,MAAO,kCAGJ,uBACA,wBACC//C,KAAKiJ,KAAKoZ,UAAU1G,SAA0C,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,QACnDrE,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CACrCN,KAAM,SACN6hD,OAAQt/C,KAAKiJ,KAAKoZ,UAAUhe,OAC5Bs7C,SAAU3/C,KAAKiJ,KAAKoZ,UAAUw8B,gBAKnC,yBACA,4BAzIX,2B,8ECJA,aAEA,OAEA,MAAalgC,UAA4B,EAAA6B,aAOrC,cACI9iB,QAPY,KAAA4F,KAAe,MACf,KAAAggB,YAAwB,GASjC,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eACH,MAAMgc,EAAqB,CACvB,iCAAiCjlB,KAAKiJ,KAAK87C,oBA2B/C,MAxB+B,WAA3B/kD,KAAKiJ,KAAK+7C,cACV//B,EAASvlB,KAAK,kDAEdulB,EAASvlB,KAAK,+CAEkB,YAA3BM,KAAKiJ,KAAK+7C,cACf//B,EAASvlB,KAAK,mDAMU,SAAxBM,KAAKiJ,KAAKo2C,UACVp6B,EAASvlB,KAAK,gDAGdulB,EAASvlB,KAAK,gDAGlBulB,EAASvlB,KACL,oCAAoCM,KAAKiJ,KAAK47C,YAC9C,kEAGG5/B,EAGJ,iBAMH,MALiB,CACb,kBACA,2CACA,0BAKD,iBAIH,MAHiB,CACb,0BAKD,kBAIH,MAH2B,CACvB,4CAKD,cACH,MAAMA,EAAW,GACjB,GAAIjlB,KAAKiJ,KAAKoZ,UAAU1G,QAAS,CAC7B,MAAM8iC,EAAcz+C,KAAK0+C,2BACzBz5B,EAASvlB,QAAQ++C,GAErB,OAAOx5B,EAGH,2BACJ,MAAM05B,EAAW,KAAO,EAAAC,kBAAkB5+C,KAAKiJ,KAAKoZ,UAAU/jB,UAAUsD,SAAS,IAC3Ei9C,EAAe7+C,KAAKiJ,KAAKoZ,UAAUw8B,aACnCC,EAAe9+C,KAAKiJ,KAAKoZ,UAAUy8B,aAEnCmG,EAAQzrC,KAAK8rB,MAAMwZ,EAAeD,GAAgB,EAElD55B,EAAqB,GAgB3B,OAdAA,EAASvlB,KACL,kBACA,gBAAgBulD,IAChB,aACA,uBACA,6BACA,kBAAkBtG,IAClB,gBACA,gBACA,mBAGJ15B,EAASvlB,KAAKM,KAAKiJ,KAAKoZ,UAAU08B,QAAU,iBAAmB,mBAExD95B,EAAS5H,IAAK/G,GAAM,6BAA6BA,MAGrD,mBACH,OAAO,KAGJ,kBACH,MAAO,GAGJ,YACH,OAAO,KAGJ,uBACA,wBACCtW,KAAKiJ,KAAKoZ,UAAU1G,SAA0C,UAA/B3b,KAAKiJ,KAAKoZ,UAAUhe,QACnDrE,KAAKutB,KAAK,QAAS,IAAI,EAAAxvB,kBAAkB,CAAEN,KAAM,SAAU6hD,OAAQt/C,KAAKiJ,KAAKoZ,UAAUhe,OAAQs7C,SAAU3/C,KAAKiJ,KAAKoZ,UAAUw8B,gBAI9H,yBACA,4BArIX,yB,8ECHA,aACA,OAE0B,EAAQ,GAAkBtmC,KAEpD,MAAakG,UAA2B,EAAA+B,aAOpC,cACI9iB,QAPG,KAAA4lB,YAAwB,CAAC,UAAW,UAAW,eAU/C,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAGH,MAAO,CACH,2CAHYjJ,KAAKrB,MAAe,WAOjC,iBAQH,MAPiB,CACb,4CACA,kBACA,4CACA,0BAMD,iBAMH,MALiB,CACb,0CACA,0BAMD,kBAKH,MAJ2B,CACvB,6CAMD,cACH,MAAO,GAGJ,mBAGH,OADA+I,QAAQwJ,IAAI,gBACRlR,KAAKiJ,KAAK+1C,WAAqBh/C,KAAKiJ,KAAK+1C,WAEnB,UAAlBxmC,EAAGpK,WACI,0BAGA,sBAKZ,kBACH,MAAM6wC,EAAUj/C,KAAKrB,MAAe,QAEpC,IAAIohD,EAAa,GA2BjB,OAzBAA,EAAWrgD,KAAK,gBAChBqgD,EAAWrgD,KAAK,kBAChBqgD,EAAWrgD,KAAK,WAAWM,KAAKiJ,KAAKq2C,UACrCS,EAAWrgD,KAAK,eAAeu/C,KAE3Bj/C,KAAKiJ,KAAKy7B,WACVqb,EAAWrgD,KAAK,aAAaM,KAAKiJ,KAAKy7B,aAGvC1kC,KAAKiJ,KAAKu2C,MACVO,EAAWrgD,KAAK,WAAWM,KAAKiJ,KAAKu2C,QAGrCx/C,KAAKiJ,KAAKo2C,WACVU,EAAWrgD,KAAK,cAAcM,KAAKiJ,KAAKo2C,aAGxCr/C,KAAKiJ,KAAKk3C,aACVJ,EAAWrgD,KAAK,eAAeM,KAAKiJ,KAAKk3C,YAAY,MAGrDngD,KAAKiJ,KAAKy2C,aACVK,EAAaA,EAAWr7B,OAAO1kB,KAAKiJ,KAAKy2C,aAGtCK,EAGJ,YACH,MAAO,uBAGJ,uBACA,yBACA,yBACA,4BArHX,wB,8ECJA,aAEM1nC,EAAoB,EAAQ,GAAkBE,KAC9CimC,EAAmB,CAAC,mBAE1B,MAAa3/B,UAA6B,EAAA2B,aAOtC,cACI9iB,QAPG,KAAA4lB,YAAwB,CAAC,WAUzB,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAGH,MAAO,CACH,2CAHYjJ,KAAKrB,MAAe,WAOjC,iBAKH,MAJiB,CACb,0BAMD,iBAKH,MAJiB,CACb,0BAMD,kBAMH,MAL2B,CACvB,0CACA,mDAMD,cACH,MAAO,GAGJ,mBACH,GAAIqB,KAAKiJ,KAAK+1C,WAAc,OAAOh/C,KAAKiJ,KAAK+1C,WAEzC,IAAK,MAAM17C,KAAQk7C,EACf,GAAInmC,EAAkB/U,GAAS,OAAOA,EAE1C,MAAO,kBAIR,kBACH,MAAM27C,EAAUj/C,KAAKrB,MAAe,QAEpC,IAAIygD,EAAU,CACV,OAAQp/C,KAAKiJ,KAAKi8C,IAClB,WAAYllD,KAAKiJ,KAAKk8C,QACtB,aACA,sBAAuB,0BACvB,OAAQ,QAAUlG,EAAQr9C,WAC1B,KACA,UAAW5B,KAAKiJ,KAAK4Y,YAOzB,OAJI7hB,KAAKiJ,KAAKy2C,aACVN,EAAUA,EAAQ16B,OAAO1kB,KAAKiJ,KAAKy2C,aAGhCN,EAGJ,YACH,OAAO,KAGJ,uBACA,yBACA,yBACA,4BAjGX,0B,8ECLA,aAEA,MAAargC,UAAiC,EAAAyB,aAO1C,cACI9iB,QAPY,KAAA4F,KAAe,WACf,KAAAggB,YAAwB,GASjC,SAAS3kB,GACZqB,KAAKrB,MAAQA,EAGV,aAAasK,GAChBjJ,KAAKiJ,KAAOA,EAGT,cAAcM,EAAiBnB,EAAkCa,GACpE,OAAO,EAGJ,eAEH,MAAO,CACH,iCAFWjJ,KAAKiJ,KAAKm8C,aAMtB,iBAQH,MAPiB,CACb,gDACA,kBACA,gDACA,0BAMD,iBAMH,MALiB,CACb,0CACA,0BAMD,cACH,MAAO,GAGJ,kBAKH,MAJ2B,CACvB,iDAMD,mBACH,OAAO,KAGJ,kBACH,MAAO,GAGJ,YACH,OAAO,KAGJ,uBACA,yBACA,yBACA,4BA7EX,8B,8ECLA,aACA,OACA,OAEA,QAEMC,EAAe,uGAEfC,EAAyC,CAC3C,EAAK,EAAAznC,WAAW0nC,SAChB,EAAK,EAAA1nC,WAAW2nC,KAChB,EAAK,EAAA3nC,WAAWhhB,OAChB,IAAK,EAAAghB,WAAW4nC,QAGdC,EAA2C,CAC7C,EAAK,EAAA5nC,YAAY6nC,MACjB,EAAK,EAAA7nC,YAAYqP,OACjB,IAAK,EAAArP,YAAY8nC,QACjB,IAAK,EAAA9nC,YAAY+nC,MAGrB,oBAgBI,YAAoBlkC,EAA+BC,EAAiCC,EAA4BC,GAA5F,KAAAH,gBAA+B,KAAAC,kBAAiC,KAAAC,aAA4B,KAAAC,WAfxG,KAAAgkC,WAAkC,GAQlC,KAAAC,cAAuD,GACvD,KAAAC,WAAkC,GAClC,KAAAC,YAAmC,GACnC,KAAAC,WAAkC,GAClC,KAAAC,YAAmC,GACnC,KAAAC,QAAqC,GAKtC,cACH,IACI,IAAIC,EAAmC,UAAlB7tC,EAAGpK,WAAyB,GAAGpO,KAAK4hB,0BAA4B,GAAG5hB,KAAK4hB,8BACzF5hB,KAAK2hB,gBACL0kC,EAAiBtnD,EAAKmjB,UAAUnjB,EAAK6a,KAAK5Z,KAAK2hB,cAAe0kC,KAGlE,MAAMx0C,EAAU,CAAC,SAAU,OACvB7R,KAAK8hB,UACLjQ,EAAQnS,KAAK,MAEjB,MAEMuzB,EAFUqzB,EAAa7F,UAAU4F,EAAgB,IAAIx0C,EAAS7R,KAAK6hB,aAClD5Z,OAAOrG,WACT4b,MAAM,YAE3Bxd,KAAKumD,wBAAwBtzB,GAE7B,IAAIuzB,EAAsB,KACtBC,EAA0B,KAE9B,IAAK,MAAMniD,KAAQ2uB,EAAO,CACtB,MAAM9wB,EAAQmC,EAAKnC,MAAMkjD,GACzB,GAAIljD,EAAO,CACU,MAAbA,EAAM,IAA2B,MAAbA,EAAM,KACtBA,EAAM,KACNqkD,EAAcrkD,EAAM,IAAIjD,OACxBunD,EAAgBzmD,KAAK0mD,aAAaF,EAAYhpC,MAAM,KAAKwzB,MAAOwV,KAKhEA,EAAc,KACdC,EAAgB,OAGxB,MAAMhpD,EAAO6nD,EAASnjD,EAAM,IACtB+qB,EAAQw4B,EAAUvjD,EAAM,IAC9B,IAAImB,EAAOnB,EAAM,IAAIjD,OACjBynD,GAAS,EAETrjD,EAAKqW,WAAW,aAChBrW,EAAOA,EAAK0Z,UAAU,GAAG9d,OACzBynD,GAAS,GAGb,MAAMC,EAAyB,CAC3B7rC,QAASnb,SAASuC,EAAM,GAAI,IAC5B1E,KAAMA,EACNopD,UAAW35B,EACXA,MAAOA,EACP45B,QAAS3kD,EAAM,GAAGjD,OAClBK,OAAQK,SAASuC,EAAM,IAAK,IAC5BmB,KAAMA,EACNmkB,KAAMyF,IAAU,EAAApP,YAAY6nC,MAAQa,EAAc,KAClDO,SAAU75B,IAAU,EAAApP,YAAY6nC,MAASc,EAAgB,GACzD/+B,aAAc,KACdi/B,OAAQA,GAGZ3mD,KAAK8lD,WAAWpmD,KAAKknD,GACjB15B,IAAU,EAAApP,YAAY6nC,MAClBloD,IAAS,EAAAogB,WAAW0nC,UACpBqB,EAAI15B,MAAQ,EAAApP,YAAYqP,OACxBntB,KAAKimD,YAAYvmD,KAAKknD,IACfnpD,IAAS,EAAAogB,WAAWhhB,SACvBqwB,IAAU,EAAApP,YAAYqP,OACtBntB,KAAKgmD,WAAWtmD,KAAKknD,GAGrBl/C,QAAQwJ,IAAI,2CAA6C5N,IAG1DkjD,EAGH/oD,IAAS,EAAAogB,WAAWhhB,OACpBmD,KAAKkmD,WAAWxmD,KAAKknD,GACdnpD,IAAS,EAAAogB,WAAW0nC,UAC3BvlD,KAAKmmD,YAAYzmD,KAAKknD,GAEnBnpD,IAAS,EAAAogB,WAAW0nC,UAC3BqB,EAAI15B,MAAQ,EAAApP,YAAYqP,OACxBntB,KAAKimD,YAAYvmD,KAAKknD,IACfnpD,IAAS,EAAAogB,WAAWhhB,QAG3B6K,QAAQwJ,IAAI,uCAAyC5N,KAKrE,MAAOxB,KAGH,aAAapF,EAAasqD,GAC9B,MAAMvqD,EAAQuD,KAAKomD,QAAQ1pD,IAAQ,GAKnC,OAJ+B,IAA3BD,EAAMqe,QAAQksC,IACdvqD,EAAMiD,KAAKsnD,GAEfhnD,KAAKomD,QAAQ1pD,GAAOD,EACbA,EAGH,wBAAwBw2B,GAK5B,IAAIg0B,GAAgB,EAChBC,EAAU,GACVC,EAAS,GACTC,EAAgB,GACpB,MAAMC,EAAY,gDAClB,IAAK,MAAM/iD,KAAQ2uB,EACf,GAAIo0B,EAAUh5C,KAAK/J,GACf2iD,GAAgB,OAEf,GAAIA,EAAe,CACpB,MAAM9kD,EAAQmC,EAAKnC,MAAM,gCACrBA,EACiB,SAAbA,EAAM,IACN+kD,EAAU/kD,EAAM,GAChBilD,EAAgBF,EAAQ1pC,MAAM,KAAKwzB,MACnChxC,KAAK0mD,aAAaU,EAAeA,GACjCpnD,KAAK0mD,aAAaU,EAAeF,IAEf,aAAb/kD,EAAM,KACXglD,EAAShlD,EAAM,GACC,KAAZ+kD,GACAlnD,KAAK0mD,aAAaU,EAAeD,EAAS,IAAMD,IAGjD5iD,EAAKqV,WAAW,QACvBstC,GAAgB,EAChBG,EAAgBF,EAAUC,EAAS,KAM5C,qBAAqBpsC,GACxB,OAAO/a,KAAK8lD,WAAWwB,KAAM14C,GAAMA,EAAEnR,OAAS,EAAAogB,WAAW0nC,UAAY32C,EAAEmM,SAAWA,GAAYnM,EAAEmM,QAAUnM,EAAErP,OAAUwb,GAGnH,qBACH,OAAO/a,KAAK8lD,WAAWj6B,OAAQjd,GAAMA,EAAEnR,OAAS,EAAAogB,WAAW0nC,UAGxD,qBACH,OAAOvlD,KAAKgmD,WAGT,mBAAmBv+B,GACtB,IAAItmB,EAAMnB,KAAK+lD,cAAct+B,GAC7B,IAAKtmB,EAAK,CACNA,EAAM,GACN,IAAK,MAAMyN,KAAK5O,KAAKkmD,YACiB,IAA9Bt3C,EAAEm4C,SAASjsC,QAAQ2M,IACnBtmB,EAAIzB,KAAKkP,GAGjB5O,KAAK+lD,cAAct+B,GAAQtmB,EAE/B,OAAOA,EAGJ,kBAAkBmC,EAAcmkB,GACnC,GAAIA,EAAM,CACN,IAAK,MAAM7Y,KAAK5O,KAAKmmD,YACjB,GAAKv3C,EAAEtL,OAASA,GAAUsL,EAAE6Y,OAASA,EACjC,OAAO7Y,EAGf,IAAK,MAAMA,KAAK5O,KAAKmmD,YACjB,GAAKv3C,EAAEtL,OAASA,IAAwC,IAA9BsL,EAAEm4C,SAASjsC,QAAQ2M,GACzC,OAAO7Y,EAMnB,OAAO5O,KAAKimD,YAAYqB,KAAM14C,GAAMA,EAAEtL,OAASA","file":"debugadapter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","module.exports = require(\"events\");","module.exports = require(\"path\");","module.exports = require(\"os\");","module.exports = require(\"fs\");","module.exports = require(\"child_process\");","import { Event } from 'vscode-debugadapter';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { EventEmitter } from 'events';\n\nexport enum NumberFormat {\n    Auto = 0,\n    Hexidecimal,\n    Decimal,\n    Binary\n}\n\nexport interface NodeSetting {\n    node: string;\n    expanded?: boolean;\n    format?: NumberFormat;\n}\n\nexport class AdapterOutputEvent extends Event implements DebugProtocol.Event {\n    public body: {\n        type: string,\n        content: string\n    };\n    public event: string;\n\n    constructor(content: string, type: string) {\n        super('adapter-output', { content: content, type: type });\n    }\n}\n\nexport class StoppedEvent extends Event implements DebugProtocol.Event {\n    public readonly body: {\n        reason: string;\n        description?: string;\n        threadId?: number;\n        text?: string;\n        allThreadsStopped?: boolean;\n    };\n\n    constructor(reason: string, threadId: number, allThreadsStopped: boolean) {\n        super('stopped', {\n            reason: reason,\n            threadId: threadId,\n            allThreadsStopped: allThreadsStopped\n        });\n    }\n}\n\nexport class SWOConfigureEvent extends Event implements DebugProtocol.Event {\n    public body: {\n        type: string,\n        port: number,\n        path: string\n    };\n    public event: string;\n\n    constructor(params: any) {\n        const body = params;\n        super('swo-configure', body);\n    }\n}\n\nexport class TelemetryEvent extends Event implements DebugProtocol.Event {\n    public body: {\n        category: string,\n        action: string,\n        label: string,\n        parameters: { [key: string]: string }\n    };\n    public event: string;\n\n    constructor(category: string, action: string, label: string, parameters: { [key: string]: string } = {}) {\n        const body = { category: category, action: action, label: label, parameters: parameters };\n        super('record-event', body);\n    }\n}\n\nexport interface SWOConfiguration {\n    enabled: boolean;\n    cpuFrequency: number;\n    swoFrequency: number;\n    decoders: any[];\n    profile: boolean;\n    source: string;\n}\n\nexport interface ConfigurationArguments extends DebugProtocol.LaunchRequestArguments {\n    toolchainPath: string;\n    toolchainPrefix: string;\n    executable: string;\n    servertype: string;\n    serverpath: string;\n    serverArgs: string[];\n    device: string;\n    debuggerArgs: string[];\n    preLaunchCommands: string[];\n    postLaunchCommands: string[];\n    overrideLaunchCommands: string[];\n    preAttachCommands: string[];\n    postAttachCommands: string[];\n    overrideAttachCommands: string[];\n    preRestartCommands: string[];\n    postRestartCommands: string[];\n    overrideRestartCommands: string[];\n    postStartSessionCommands: string[];\n    postRestartSessionCommands: string[];\n    overrideGDBServerStartedRegex: string;\n    svdFile: string;\n    swoConfig: SWOConfiguration;\n    graphConfig: any[];\n    showDevDebugOutput: boolean;\n    cwd: string;\n    extensionPath: string;\n    rtos: string;\n    interface: string;\n    targetId: string | number;\n    cmsisPack: string;\n    runToMain: boolean;\n    flattenAnonymous: boolean;\n    registerUseNaturalFormat: boolean;\n\n    // C++ specific\n    demangle: boolean;\n\n    // J-Link Specific\n    ipAddress: string;\n    serialNumber: string;\n    jlinkscript: string;\n    \n    // OpenOCD Specific\n    configFiles: string[];\n    searchDir: string[];\n    openOCDLaunchCommands: string[];\n    openOCDPreConfigLaunchCommands: string[];\n\n    // PyOCD Specific\n    boardId: string;\n    \n    // StUtil Specific\n    v1: boolean;\n\n    // BMP Specific\n    BMPGDBSerialPort: string;\n    powerOverBMP: string;\n\n    // QEMU Specific\n    cpu: string;\n    machine: string;\n\n    // External \n    gdbTarget: string;\n\n    // Hidden settings - These settings are for advanced configuration and are not exposed in the package.json file\n    gdbpath: string;\n}\n\nexport interface DisassemblyInstruction {\n    address: string;\n    functionName: string;\n    offset: number;\n    instruction: string;\n    opcodes: string;\n}\n\nexport interface GDBServerController extends EventEmitter {\n    portsNeeded: string[];\n    name: string;\n\n    setPorts(ports: { [name: string]: number }): void;\n    setArguments(args: ConfigurationArguments): void;\n\n    customRequest(command: string, response: DebugProtocol.Response, args: any): boolean;\n    initCommands(): string[];\n    launchCommands(): string[];\n    attachCommands(): string[];\n    restartCommands(): string[];\n    swoCommands(): string[];\n    serverExecutable(): string;\n    serverArguments(): string[];\n    initMatch(): RegExp;\n    serverLaunchStarted(): void;\n    serverLaunchCompleted(): void;\n    debuggerLaunchStarted(): void;\n    debuggerLaunchCompleted(): void;\n}\n\nexport function calculatePortMask(decoders: any[]) {\n    if (!decoders) { return 0; }\n\n    let mask: number = 0;\n    decoders.forEach((d) => {\n        if (d.type === 'advanced') {\n            for (const port of d.ports) {\n                mask = (mask | (1 << port)) >>> 0;\n            }\n        }\n        else {\n            mask = (mask | (1 << d.port)) >>> 0;\n        }\n    });\n    return mask;\n}\n","export interface MIInfo {\n    token: number;\n    outOfBandRecord: Array<{ isStream: boolean, type: string, asyncClass: string, output: Array<[string, any]>, content: string }>;\n    resultRecords: { resultClass: string, results: Array<[string, any]> };\n}\n\nconst octalMatch = /^[0-7]{3}/;\nfunction parseString(str: string): string {\n    const ret = Buffer.alloc(str.length * 4);\n    let bufIndex = 0;\n\n    if (str[0] !== '\"' || str[str.length - 1] !== '\"') {\n        throw new Error('Not a valid string');\n    }\n    str = str.slice(1, -1);\n    let escaped = false;\n    for (let i = 0; i < str.length; i++) {\n        if (escaped) {\n            let m;\n            if (str[i] === '\\\\') {\n                bufIndex += ret.write('\\\\', bufIndex);\n            }\n            else if (str[i] === '\"') {\n                bufIndex += ret.write('\"', bufIndex);\n            }\n            else if (str[i] === '\\'') {\n                bufIndex += ret.write('\\'', bufIndex);\n            }\n            else if (str[i] === 'n') {\n                bufIndex += ret.write('\\n', bufIndex);\n            }\n            else if (str[i] === 'r') {\n                bufIndex += ret.write('\\r', bufIndex);\n            }\n            else if (str[i] === 't') {\n                bufIndex += ret.write('\\t', bufIndex);\n            }\n            else if (str[i] === 'b') {\n                bufIndex += ret.write('\\b', bufIndex);\n            }\n            else if (str[i] === 'f') {\n                bufIndex += ret.write('\\f', bufIndex);\n            }\n            else if (str[i] === 'v') {\n                bufIndex += ret.write('\\v', bufIndex);\n            }\n            else if (str[i] === '0') {\n                bufIndex += ret.write('\\0', bufIndex);\n            }\n            else if (m = octalMatch.exec(str.substr(i))) {\n                ret.writeUInt8(parseInt(m[0], 8), bufIndex++);\n                i += 2;\n            }\n            else {\n                bufIndex += ret.write(str[i], bufIndex);\n            }\n            escaped = false;\n        } else {\n            if (str[i] === '\\\\') {\n                escaped = true;\n            }\n            else if (str[i] === '\"') {\n                throw new Error('Not a valid string');\n            }\n            else {\n                bufIndex += ret.write(str[i], bufIndex);\n            }\n        }\n    }\n    return ret.slice(0, bufIndex).toString('utf8');\n}\n\nexport class MINode implements MIInfo {\n    public token: number;\n    public outOfBandRecord: Array<{ isStream: boolean, type: string, asyncClass: string, output: Array<[string, any]>, content: string }>;\n    public resultRecords: { resultClass: string, results: Array<[string, any]> };\n\n    public static valueOf(start: any, path: string): any {\n        if (!start) {\n            return undefined;\n        }\n        const pathRegex = /^\\.?([a-zA-Z_\\-][a-zA-Z0-9_\\-]*)/;\n        const indexRegex = /^\\[(\\d+)\\](?:$|\\.)/;\n        path = path.trim();\n        if (!path) { return start; }\n        let current = start;\n        do {\n            let target = pathRegex.exec(path);\n            if (target) {\n                path = path.substr(target[0].length);\n                if (current.length && typeof current !== 'string') {\n                    const found = [];\n                    for (const element of current) {\n                        if (element[0] === target[1]) {\n                            found.push(element[1]);\n                        }\n                    }\n                    if (found.length > 1) {\n                        current = found;\n                    }\n                    else if (found.length === 1) {\n                        current = found[0];\n                    }\n                    else {\n                        return undefined;\n                    }\n                }\n                else {\n                    return undefined;\n                }\n            }\n            else if (path[0] === '@') {\n                current = [current];\n                path = path.substr(1);\n            }\n            else {\n                target = indexRegex.exec(path);\n                if (target) {\n                    path = path.substr(target[0].length);\n                    const i = parseInt(target[1]);\n                    if (current.length && typeof current !== 'string' && i >= 0 && i < current.length) {\n                        current = current[i];\n                    }\n                    else if (i === 0) {\n                    }\n                    else {\n                        return undefined;\n                    }\n                }\n                else {\n                    return undefined;\n                }\n            }\n            path = path.trim();\n        } while (path);\n        return current;\n    }\n\n    constructor(\n        token: number,\n        info: Array<{ isStream: boolean, type: string, asyncClass: string, output: Array<[string, any]>, content: string }>,\n        result: { resultClass: string, results: Array<[string, any]> }\n    ) {\n        this.token = token;\n        this.outOfBandRecord = info;\n        this.resultRecords = result;\n    }\n\n    public record(path: string): any {\n        if (!this.outOfBandRecord) {\n            return undefined;\n        }\n        return MINode.valueOf(this.outOfBandRecord[0].output, path);\n    }\n\n    public result(path: string): any {\n        if (!this.resultRecords) {\n            return undefined;\n        }\n        return MINode.valueOf(this.resultRecords.results, path);\n    }\n}\n\nconst tokenRegex = /^\\d+/;\nconst outOfBandRecordRegex = /^(?:(\\d*|undefined)([\\*\\+\\=])|([\\~\\@\\&]))/;\nconst resultRecordRegex = /^(\\d*)\\^(done|running|connected|error|exit)/;\nconst newlineRegex = /^\\r\\n?/;\nconst endRegex = /^\\(gdb\\)\\r\\n?/;\nconst variableRegex = /^([a-zA-Z_\\-][a-zA-Z0-9_\\-]*)/;\nconst asyncClassRegex = /^(.*?),/;\n\nexport function parseMI(output: string): MINode {\n    /*\n        output ==>\n            (\n                exec-async-output     = [ token ] \"*\" (\"stopped\" | others) ( \",\" variable \"=\" (const | tuple | list) )* \\n\n                status-async-output   = [ token ] \"+\" (\"stopped\" | others) ( \",\" variable \"=\" (const | tuple | list) )* \\n\n                notify-async-output   = [ token ] \"=\" (\"stopped\" | others) ( \",\" variable \"=\" (const | tuple | list) )* \\n\n                console-stream-output = \"~\" c-string \\n\n                target-stream-output  = \"@\" c-string \\n\n                log-stream-output     = \"&\" c-string \\n\n            )*\n            [\n                [ token ] \"^\" (\"done\" | \"running\" | \"connected\" | \"error\" | \"exit\") ( \",\" variable \"=\" (const | tuple | list) )* \\n\n            ]\n            \"(gdb)\" \\n\n    */\n\n    let token;\n    const outOfBandRecord = [];\n    let resultRecords;\n\n    const asyncRecordType = {\n        '*': 'exec',\n        '+': 'status',\n        '=': 'notify'\n    };\n    const streamRecordType = {\n        '~': 'console',\n        '@': 'target',\n        '&': 'log'\n    };\n\n    const parseCString = () => {\n        if (output[0] !== '\"') {\n            return '';\n        }\n        let stringEnd = 1;\n        let inString = true;\n        let remaining = output.substr(1);\n        let escaped = false;\n        while (inString) {\n            if (escaped) {\n                escaped = false;\n            }\n            else if (remaining[0] === '\\\\') {\n                escaped = true;\n            }\n            else if (remaining[0] === '\"') {\n                inString = false;\n            }\n\n            remaining = remaining.substr(1);\n            stringEnd++;\n        }\n        let str;\n        try {\n            str = parseString(output.substr(0, stringEnd));\n        }\n        catch (e) {\n            str = output.substr(0, stringEnd);\n        }\n        output = output.substr(stringEnd);\n        return str;\n    };\n\n    let parseValue;\n    let parseCommaResult;\n    let parseCommaValue;\n    let parseResult;\n\n    const parseTupleOrList = () => {\n        if (output[0] !== '{' && output[0] !== '[') {\n            return undefined;\n        }\n        const oldContent = output;\n        const canBeValueList = output[0] === '[';\n        output = output.substr(1);\n        if (output[0] === '}' || output[0] === ']') {\n            output = output.substr(1);\n            return [];\n        }\n        if (canBeValueList) {\n            let value = parseValue();\n            if (value) { // is value list\n                const values = [];\n                values.push(value);\n                const remaining = output;\n                while ((value = parseCommaValue()) !== undefined) {\n                    values.push(value);\n                }\n                output = output.substr(1); // ]\n                return values;\n            }\n        }\n        let result = parseResult();\n        if (result) {\n            const results = [];\n            results.push(result);\n            while (result = parseCommaResult()) {\n                results.push(result);\n            }\n            output = output.substr(1); // }\n            return results;\n        }\n        output = (canBeValueList ? '[' : '{') + output;\n        return undefined;\n    };\n\n    parseValue = () => {\n        if (output[0] === '\"') {\n            return parseCString();\n        }\n        else if (output[0] === '{' || output[0] === '[') {\n            return parseTupleOrList();\n        }\n        else {\n            return undefined;\n        }\n    };\n\n    parseResult = () => {\n        const variableMatch = variableRegex.exec(output);\n        if (!variableMatch) {\n            return undefined;\n        }\n        output = output.substr(variableMatch[0].length + 1);\n        const variable = variableMatch[1];\n        return [variable, parseValue()];\n    };\n\n    parseCommaValue = () => {\n        if (output[0] !== ',') {\n            return undefined;\n        }\n        output = output.substr(1);\n        return parseValue();\n    };\n\n    parseCommaResult = () => {\n        if (output[0] !== ',') {\n            return undefined;\n        }\n        output = output.substr(1);\n        return parseResult();\n    };\n\n    let match;\n\n    while (match = outOfBandRecordRegex.exec(output)) {\n        output = output.substr(match[0].length);\n        if (match[1] && token === undefined && match[1] !== 'undefined') {\n            token = parseInt(match[1]);\n        }\n\n        if (match[2]) {\n            const classMatch = asyncClassRegex.exec(output);\n            output = output.substr(classMatch[1].length);\n            const asyncRecord = {\n                isStream: false,\n                type: asyncRecordType[match[2]],\n                asyncClass: classMatch[1],\n                output: []\n            };\n            let result;\n            while (result = parseCommaResult()) {\n                asyncRecord.output.push(result);\n            }\n            outOfBandRecord.push(asyncRecord);\n        }\n        else if (match[3]) {\n            const streamRecord = {\n                isStream: true,\n                type: streamRecordType[match[3]],\n                content: parseCString()\n            };\n            outOfBandRecord.push(streamRecord);\n        }\n\n        output = output.replace(newlineRegex, '');\n    }\n\n    if (match = resultRecordRegex.exec(output)) {\n        output = output.substr(match[0].length);\n        if (match[1] && token === undefined) {\n            token = parseInt(match[1]);\n        }\n        resultRecords = {\n            resultClass: match[2],\n            results: []\n        };\n        let result;\n        while (result = parseCommaResult()) {\n            resultRecords.results.push(result);\n        }\n\n        output = output.replace(newlineRegex, '');\n    }\n\n    return new MINode(token, outOfBandRecord as any || [], resultRecords);\n}\n","module.exports = require('./lib/command-exists');\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst protocol_1 = require(\"./protocol\");\nconst messages_1 = require(\"./messages\");\nconst Net = require(\"net\");\nconst url_1 = require(\"url\");\nclass Source {\n    constructor(name, path, id = 0, origin, data) {\n        this.name = name;\n        this.path = path;\n        this.sourceReference = id;\n        if (origin) {\n            this.origin = origin;\n        }\n        if (data) {\n            this.adapterData = data;\n        }\n    }\n}\nexports.Source = Source;\nclass Scope {\n    constructor(name, reference, expensive = false) {\n        this.name = name;\n        this.variablesReference = reference;\n        this.expensive = expensive;\n    }\n}\nexports.Scope = Scope;\nclass StackFrame {\n    constructor(i, nm, src, ln = 0, col = 0) {\n        this.id = i;\n        this.source = src;\n        this.line = ln;\n        this.column = col;\n        this.name = nm;\n    }\n}\nexports.StackFrame = StackFrame;\nclass Thread {\n    constructor(id, name) {\n        this.id = id;\n        if (name) {\n            this.name = name;\n        }\n        else {\n            this.name = 'Thread #' + id;\n        }\n    }\n}\nexports.Thread = Thread;\nclass Variable {\n    constructor(name, value, ref = 0, indexedVariables, namedVariables) {\n        this.name = name;\n        this.value = value;\n        this.variablesReference = ref;\n        if (typeof namedVariables === 'number') {\n            this.namedVariables = namedVariables;\n        }\n        if (typeof indexedVariables === 'number') {\n            this.indexedVariables = indexedVariables;\n        }\n    }\n}\nexports.Variable = Variable;\nclass Breakpoint {\n    constructor(verified, line, column, source) {\n        this.verified = verified;\n        const e = this;\n        if (typeof line === 'number') {\n            e.line = line;\n        }\n        if (typeof column === 'number') {\n            e.column = column;\n        }\n        if (source) {\n            e.source = source;\n        }\n    }\n}\nexports.Breakpoint = Breakpoint;\nclass Module {\n    constructor(id, name) {\n        this.id = id;\n        this.name = name;\n    }\n}\nexports.Module = Module;\nclass CompletionItem {\n    constructor(label, start, length = 0) {\n        this.label = label;\n        this.start = start;\n        this.length = length;\n    }\n}\nexports.CompletionItem = CompletionItem;\nclass StoppedEvent extends messages_1.Event {\n    constructor(reason, threadId, exceptionText) {\n        super('stopped');\n        this.body = {\n            reason: reason\n        };\n        if (typeof threadId === 'number') {\n            this.body.threadId = threadId;\n        }\n        if (typeof exceptionText === 'string') {\n            this.body.text = exceptionText;\n        }\n    }\n}\nexports.StoppedEvent = StoppedEvent;\nclass ContinuedEvent extends messages_1.Event {\n    constructor(threadId, allThreadsContinued) {\n        super('continued');\n        this.body = {\n            threadId: threadId\n        };\n        if (typeof allThreadsContinued === 'boolean') {\n            this.body.allThreadsContinued = allThreadsContinued;\n        }\n    }\n}\nexports.ContinuedEvent = ContinuedEvent;\nclass InitializedEvent extends messages_1.Event {\n    constructor() {\n        super('initialized');\n    }\n}\nexports.InitializedEvent = InitializedEvent;\nclass TerminatedEvent extends messages_1.Event {\n    constructor(restart) {\n        super('terminated');\n        if (typeof restart === 'boolean' || restart) {\n            const e = this;\n            e.body = {\n                restart: restart\n            };\n        }\n    }\n}\nexports.TerminatedEvent = TerminatedEvent;\nclass OutputEvent extends messages_1.Event {\n    constructor(output, category = 'console', data) {\n        super('output');\n        this.body = {\n            category: category,\n            output: output\n        };\n        if (data !== undefined) {\n            this.body.data = data;\n        }\n    }\n}\nexports.OutputEvent = OutputEvent;\nclass ThreadEvent extends messages_1.Event {\n    constructor(reason, threadId) {\n        super('thread');\n        this.body = {\n            reason: reason,\n            threadId: threadId\n        };\n    }\n}\nexports.ThreadEvent = ThreadEvent;\nclass BreakpointEvent extends messages_1.Event {\n    constructor(reason, breakpoint) {\n        super('breakpoint');\n        this.body = {\n            reason: reason,\n            breakpoint: breakpoint\n        };\n    }\n}\nexports.BreakpointEvent = BreakpointEvent;\nclass ModuleEvent extends messages_1.Event {\n    constructor(reason, module) {\n        super('module');\n        this.body = {\n            reason: reason,\n            module: module\n        };\n    }\n}\nexports.ModuleEvent = ModuleEvent;\nclass LoadedSourceEvent extends messages_1.Event {\n    constructor(reason, source) {\n        super('loadedSource');\n        this.body = {\n            reason: reason,\n            source: source\n        };\n    }\n}\nexports.LoadedSourceEvent = LoadedSourceEvent;\nclass CapabilitiesEvent extends messages_1.Event {\n    constructor(capabilities) {\n        super('capabilities');\n        this.body = {\n            capabilities: capabilities\n        };\n    }\n}\nexports.CapabilitiesEvent = CapabilitiesEvent;\nvar ErrorDestination;\n(function (ErrorDestination) {\n    ErrorDestination[ErrorDestination[\"User\"] = 1] = \"User\";\n    ErrorDestination[ErrorDestination[\"Telemetry\"] = 2] = \"Telemetry\";\n})(ErrorDestination = exports.ErrorDestination || (exports.ErrorDestination = {}));\n;\nclass DebugSession extends protocol_1.ProtocolServer {\n    constructor(obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer) {\n        super();\n        const linesAndColumnsStartAt1 = typeof obsolete_debuggerLinesAndColumnsStartAt1 === 'boolean' ? obsolete_debuggerLinesAndColumnsStartAt1 : false;\n        this._debuggerLinesStartAt1 = linesAndColumnsStartAt1;\n        this._debuggerColumnsStartAt1 = linesAndColumnsStartAt1;\n        this._debuggerPathsAreURIs = false;\n        this._clientLinesStartAt1 = true;\n        this._clientColumnsStartAt1 = true;\n        this._clientPathsAreURIs = false;\n        this._isServer = typeof obsolete_isServer === 'boolean' ? obsolete_isServer : false;\n        this.on('close', () => {\n            this.shutdown();\n        });\n        this.on('error', (error) => {\n            this.shutdown();\n        });\n    }\n    setDebuggerPathFormat(format) {\n        this._debuggerPathsAreURIs = format !== 'path';\n    }\n    setDebuggerLinesStartAt1(enable) {\n        this._debuggerLinesStartAt1 = enable;\n    }\n    setDebuggerColumnsStartAt1(enable) {\n        this._debuggerColumnsStartAt1 = enable;\n    }\n    setRunAsServer(enable) {\n        this._isServer = enable;\n    }\n    /**\n     * A virtual constructor...\n     */\n    static run(debugSession) {\n        // parse arguments\n        let port = 0;\n        const args = process.argv.slice(2);\n        args.forEach(function (val, index, array) {\n            const portMatch = /^--server=(\\d{4,5})$/.exec(val);\n            if (portMatch) {\n                port = parseInt(portMatch[1], 10);\n            }\n        });\n        if (port > 0) {\n            // start as a server\n            console.error(`waiting for debug protocol on port ${port}`);\n            Net.createServer((socket) => {\n                console.error('>> accepted connection from client');\n                socket.on('end', () => {\n                    console.error('>> client connection closed\\n');\n                });\n                const session = new debugSession(false, true);\n                session.setRunAsServer(true);\n                session.start(socket, socket);\n            }).listen(port);\n        }\n        else {\n            // start a session\n            //console.error('waiting for debug protocol on stdin/stdout');\n            const session = new debugSession(false);\n            process.on('SIGTERM', () => {\n                session.shutdown();\n            });\n            session.start(process.stdin, process.stdout);\n        }\n    }\n    shutdown() {\n        if (this._isServer) {\n            // shutdown ignored in server mode\n        }\n        else {\n            // wait a bit before shutting down\n            setTimeout(() => {\n                process.exit(0);\n            }, 100);\n        }\n    }\n    sendErrorResponse(response, codeOrMessage, format, variables, dest = ErrorDestination.User) {\n        let msg;\n        if (typeof codeOrMessage === 'number') {\n            msg = {\n                id: codeOrMessage,\n                format: format\n            };\n            if (variables) {\n                msg.variables = variables;\n            }\n            if (dest & ErrorDestination.User) {\n                msg.showUser = true;\n            }\n            if (dest & ErrorDestination.Telemetry) {\n                msg.sendTelemetry = true;\n            }\n        }\n        else {\n            msg = codeOrMessage;\n        }\n        response.success = false;\n        response.message = DebugSession.formatPII(msg.format, true, msg.variables);\n        if (!response.body) {\n            response.body = {};\n        }\n        response.body.error = msg;\n        this.sendResponse(response);\n    }\n    runInTerminalRequest(args, timeout, cb) {\n        this.sendRequest('runInTerminal', args, timeout, cb);\n    }\n    dispatchRequest(request) {\n        const response = new messages_1.Response(request);\n        try {\n            if (request.command === 'initialize') {\n                var args = request.arguments;\n                if (typeof args.linesStartAt1 === 'boolean') {\n                    this._clientLinesStartAt1 = args.linesStartAt1;\n                }\n                if (typeof args.columnsStartAt1 === 'boolean') {\n                    this._clientColumnsStartAt1 = args.columnsStartAt1;\n                }\n                if (args.pathFormat !== 'path') {\n                    this.sendErrorResponse(response, 2018, 'debug adapter only supports native paths', null, ErrorDestination.Telemetry);\n                }\n                else {\n                    const initializeResponse = response;\n                    initializeResponse.body = {};\n                    this.initializeRequest(initializeResponse, args);\n                }\n            }\n            else if (request.command === 'launch') {\n                this.launchRequest(response, request.arguments);\n            }\n            else if (request.command === 'attach') {\n                this.attachRequest(response, request.arguments);\n            }\n            else if (request.command === 'disconnect') {\n                this.disconnectRequest(response, request.arguments);\n            }\n            else if (request.command === 'terminate') {\n                this.terminateRequest(response, request.arguments);\n            }\n            else if (request.command === 'restart') {\n                this.restartRequest(response, request.arguments);\n            }\n            else if (request.command === 'setBreakpoints') {\n                this.setBreakPointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'setFunctionBreakpoints') {\n                this.setFunctionBreakPointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'setExceptionBreakpoints') {\n                this.setExceptionBreakPointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'configurationDone') {\n                this.configurationDoneRequest(response, request.arguments);\n            }\n            else if (request.command === 'continue') {\n                this.continueRequest(response, request.arguments);\n            }\n            else if (request.command === 'next') {\n                this.nextRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepIn') {\n                this.stepInRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepOut') {\n                this.stepOutRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepBack') {\n                this.stepBackRequest(response, request.arguments);\n            }\n            else if (request.command === 'reverseContinue') {\n                this.reverseContinueRequest(response, request.arguments);\n            }\n            else if (request.command === 'restartFrame') {\n                this.restartFrameRequest(response, request.arguments);\n            }\n            else if (request.command === 'goto') {\n                this.gotoRequest(response, request.arguments);\n            }\n            else if (request.command === 'pause') {\n                this.pauseRequest(response, request.arguments);\n            }\n            else if (request.command === 'stackTrace') {\n                this.stackTraceRequest(response, request.arguments);\n            }\n            else if (request.command === 'scopes') {\n                this.scopesRequest(response, request.arguments);\n            }\n            else if (request.command === 'variables') {\n                this.variablesRequest(response, request.arguments);\n            }\n            else if (request.command === 'setVariable') {\n                this.setVariableRequest(response, request.arguments);\n            }\n            else if (request.command === 'setExpression') {\n                this.setExpressionRequest(response, request.arguments);\n            }\n            else if (request.command === 'source') {\n                this.sourceRequest(response, request.arguments);\n            }\n            else if (request.command === 'threads') {\n                this.threadsRequest(response);\n            }\n            else if (request.command === 'terminateThreads') {\n                this.terminateThreadsRequest(response, request.arguments);\n            }\n            else if (request.command === 'evaluate') {\n                this.evaluateRequest(response, request.arguments);\n            }\n            else if (request.command === 'stepInTargets') {\n                this.stepInTargetsRequest(response, request.arguments);\n            }\n            else if (request.command === 'gotoTargets') {\n                this.gotoTargetsRequest(response, request.arguments);\n            }\n            else if (request.command === 'completions') {\n                this.completionsRequest(response, request.arguments);\n            }\n            else if (request.command === 'exceptionInfo') {\n                this.exceptionInfoRequest(response, request.arguments);\n            }\n            else if (request.command === 'loadedSources') {\n                this.loadedSourcesRequest(response, request.arguments);\n            }\n            else if (request.command === 'dataBreakpointInfo') {\n                this.dataBreakpointInfoRequest(response, request.arguments);\n            }\n            else if (request.command === 'setDataBreakpoints') {\n                this.setDataBreakpointsRequest(response, request.arguments);\n            }\n            else if (request.command === 'readMemory') {\n                this.readMemoryRequest(response, request.arguments);\n            }\n            else if (request.command === 'disassemble') {\n                this.disassembleRequest(response, request.arguments);\n            }\n            else {\n                this.customRequest(request.command, response, request.arguments);\n            }\n        }\n        catch (e) {\n            this.sendErrorResponse(response, 1104, '{_stack}', { _exception: e.message, _stack: e.stack }, ErrorDestination.Telemetry);\n        }\n    }\n    initializeRequest(response, args) {\n        // This default debug adapter does not support conditional breakpoints.\n        response.body.supportsConditionalBreakpoints = false;\n        // This default debug adapter does not support hit conditional breakpoints.\n        response.body.supportsHitConditionalBreakpoints = false;\n        // This default debug adapter does not support function breakpoints.\n        response.body.supportsFunctionBreakpoints = false;\n        // This default debug adapter implements the 'configurationDone' request.\n        response.body.supportsConfigurationDoneRequest = true;\n        // This default debug adapter does not support hovers based on the 'evaluate' request.\n        response.body.supportsEvaluateForHovers = false;\n        // This default debug adapter does not support the 'stepBack' request.\n        response.body.supportsStepBack = false;\n        // This default debug adapter does not support the 'setVariable' request.\n        response.body.supportsSetVariable = false;\n        // This default debug adapter does not support the 'restartFrame' request.\n        response.body.supportsRestartFrame = false;\n        // This default debug adapter does not support the 'stepInTargets' request.\n        response.body.supportsStepInTargetsRequest = false;\n        // This default debug adapter does not support the 'gotoTargets' request.\n        response.body.supportsGotoTargetsRequest = false;\n        // This default debug adapter does not support the 'completions' request.\n        response.body.supportsCompletionsRequest = false;\n        // This default debug adapter does not support the 'restart' request.\n        response.body.supportsRestartRequest = false;\n        // This default debug adapter does not support the 'exceptionOptions' attribute on the 'setExceptionBreakpoints' request.\n        response.body.supportsExceptionOptions = false;\n        // This default debug adapter does not support the 'format' attribute on the 'variables', 'evaluate', and 'stackTrace' request.\n        response.body.supportsValueFormattingOptions = false;\n        // This debug adapter does not support the 'exceptionInfo' request.\n        response.body.supportsExceptionInfoRequest = false;\n        // This debug adapter does not support the 'TerminateDebuggee' attribute on the 'disconnect' request.\n        response.body.supportTerminateDebuggee = false;\n        // This debug adapter does not support delayed loading of stack frames.\n        response.body.supportsDelayedStackTraceLoading = false;\n        // This debug adapter does not support the 'loadedSources' request.\n        response.body.supportsLoadedSourcesRequest = false;\n        // This debug adapter does not support the 'logMessage' attribute of the SourceBreakpoint.\n        response.body.supportsLogPoints = false;\n        // This debug adapter does not support the 'terminateThreads' request.\n        response.body.supportsTerminateThreadsRequest = false;\n        // This debug adapter does not support the 'setExpression' request.\n        response.body.supportsSetExpression = false;\n        // This debug adapter does not support the 'terminate' request.\n        response.body.supportsTerminateRequest = false;\n        // This debug adapter does not support data breakpoints.\n        response.body.supportsDataBreakpoints = false;\n        /** This debug adapter does not support the 'readMemory' request. */\n        response.body.supportsReadMemoryRequest = false;\n        /** The debug adapter does not support the 'disassemble' request. */\n        response.body.supportsDisassembleRequest = false;\n        this.sendResponse(response);\n    }\n    disconnectRequest(response, args) {\n        this.sendResponse(response);\n        this.shutdown();\n    }\n    launchRequest(response, args) {\n        this.sendResponse(response);\n    }\n    attachRequest(response, args) {\n        this.sendResponse(response);\n    }\n    terminateRequest(response, args) {\n        this.sendResponse(response);\n    }\n    restartRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setBreakPointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setFunctionBreakPointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setExceptionBreakPointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    configurationDoneRequest(response, args) {\n        this.sendResponse(response);\n    }\n    continueRequest(response, args) {\n        this.sendResponse(response);\n    }\n    nextRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepInRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepOutRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepBackRequest(response, args) {\n        this.sendResponse(response);\n    }\n    reverseContinueRequest(response, args) {\n        this.sendResponse(response);\n    }\n    restartFrameRequest(response, args) {\n        this.sendResponse(response);\n    }\n    gotoRequest(response, args) {\n        this.sendResponse(response);\n    }\n    pauseRequest(response, args) {\n        this.sendResponse(response);\n    }\n    sourceRequest(response, args) {\n        this.sendResponse(response);\n    }\n    threadsRequest(response) {\n        this.sendResponse(response);\n    }\n    terminateThreadsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stackTraceRequest(response, args) {\n        this.sendResponse(response);\n    }\n    scopesRequest(response, args) {\n        this.sendResponse(response);\n    }\n    variablesRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setVariableRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setExpressionRequest(response, args) {\n        this.sendResponse(response);\n    }\n    evaluateRequest(response, args) {\n        this.sendResponse(response);\n    }\n    stepInTargetsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    gotoTargetsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    completionsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    exceptionInfoRequest(response, args) {\n        this.sendResponse(response);\n    }\n    loadedSourcesRequest(response, args) {\n        this.sendResponse(response);\n    }\n    dataBreakpointInfoRequest(response, args) {\n        this.sendResponse(response);\n    }\n    setDataBreakpointsRequest(response, args) {\n        this.sendResponse(response);\n    }\n    readMemoryRequest(response, args) {\n        this.sendResponse(response);\n    }\n    disassembleRequest(response, args) {\n        this.sendResponse(response);\n    }\n    /**\n     * Override this hook to implement custom requests.\n     */\n    customRequest(command, response, args) {\n        this.sendErrorResponse(response, 1014, 'unrecognized request', null, ErrorDestination.Telemetry);\n    }\n    //---- protected -------------------------------------------------------------------------------------------------\n    convertClientLineToDebugger(line) {\n        if (this._debuggerLinesStartAt1) {\n            return this._clientLinesStartAt1 ? line : line + 1;\n        }\n        return this._clientLinesStartAt1 ? line - 1 : line;\n    }\n    convertDebuggerLineToClient(line) {\n        if (this._debuggerLinesStartAt1) {\n            return this._clientLinesStartAt1 ? line : line - 1;\n        }\n        return this._clientLinesStartAt1 ? line + 1 : line;\n    }\n    convertClientColumnToDebugger(column) {\n        if (this._debuggerColumnsStartAt1) {\n            return this._clientColumnsStartAt1 ? column : column + 1;\n        }\n        return this._clientColumnsStartAt1 ? column - 1 : column;\n    }\n    convertDebuggerColumnToClient(column) {\n        if (this._debuggerColumnsStartAt1) {\n            return this._clientColumnsStartAt1 ? column : column - 1;\n        }\n        return this._clientColumnsStartAt1 ? column + 1 : column;\n    }\n    convertClientPathToDebugger(clientPath) {\n        if (this._clientPathsAreURIs !== this._debuggerPathsAreURIs) {\n            if (this._clientPathsAreURIs) {\n                return DebugSession.uri2path(clientPath);\n            }\n            else {\n                return DebugSession.path2uri(clientPath);\n            }\n        }\n        return clientPath;\n    }\n    convertDebuggerPathToClient(debuggerPath) {\n        if (this._debuggerPathsAreURIs !== this._clientPathsAreURIs) {\n            if (this._debuggerPathsAreURIs) {\n                return DebugSession.uri2path(debuggerPath);\n            }\n            else {\n                return DebugSession.path2uri(debuggerPath);\n            }\n        }\n        return debuggerPath;\n    }\n    //---- private -------------------------------------------------------------------------------\n    static path2uri(path) {\n        if (process.platform === 'win32') {\n            if (/^[A-Z]:/.test(path)) {\n                path = path[0].toLowerCase() + path.substr(1);\n            }\n            path = path.replace(/\\\\/g, '/');\n        }\n        path = encodeURI(path);\n        let uri = new url_1.URL(`file:`); // ignore 'path' for now\n        uri.pathname = path; // now use 'path' to get the correct percent encoding (see https://url.spec.whatwg.org)\n        return uri.toString();\n    }\n    static uri2path(sourceUri) {\n        let uri = new url_1.URL(sourceUri);\n        let s = decodeURIComponent(uri.pathname);\n        if (process.platform === 'win32') {\n            if (/^\\/[a-zA-Z]:/.test(s)) {\n                s = s[1].toLowerCase() + s.substr(2);\n            }\n            s = s.replace(/\\//g, '\\\\');\n        }\n        return s;\n    }\n    /*\n    * If argument starts with '_' it is OK to send its value to telemetry.\n    */\n    static formatPII(format, excludePII, args) {\n        return format.replace(DebugSession._formatPIIRegexp, function (match, paramName) {\n            if (excludePII && paramName.length > 0 && paramName[0] !== '_') {\n                return match;\n            }\n            return args[paramName] && args.hasOwnProperty(paramName) ?\n                args[paramName] :\n                match;\n        });\n    }\n}\nDebugSession._formatPIIRegexp = /{([^}]+)}/g;\nexports.DebugSession = DebugSession;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVidWdTZXNzaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2RlYnVnU2Vzc2lvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OztnR0FHZ0c7O0FBR2hHLHlDQUEwQztBQUMxQyx5Q0FBMkM7QUFDM0MsMkJBQTJCO0FBQzNCLDZCQUF3QjtBQUd4QixNQUFhLE1BQU07SUFLbEIsWUFBbUIsSUFBWSxFQUFFLElBQWEsRUFBRSxLQUFhLENBQUMsRUFBRSxNQUFlLEVBQUUsSUFBVTtRQUMxRixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLE1BQU0sRUFBRTtZQUNMLElBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDSCxJQUFLLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztTQUMvQjtJQUNGLENBQUM7Q0FDRDtBQWhCRCx3QkFnQkM7QUFFRCxNQUFhLEtBQUs7SUFLakIsWUFBbUIsSUFBWSxFQUFFLFNBQWlCLEVBQUUsWUFBcUIsS0FBSztRQUM3RSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsU0FBUyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzVCLENBQUM7Q0FDRDtBQVZELHNCQVVDO0FBRUQsTUFBYSxVQUFVO0lBT3RCLFlBQW1CLENBQVMsRUFBRSxFQUFVLEVBQUUsR0FBWSxFQUFFLEtBQWEsQ0FBQyxFQUFFLE1BQWMsQ0FBQztRQUN0RixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxD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QUssT0FBTyxFQUFFO1lBQ2pDLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDM0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3JDO1lBQ0QsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxDQUFDLENBQUM7SUFDVixDQUFDO0lBSUQ7O01BRUU7SUFDTSxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQWEsRUFBRSxVQUFtQixFQUFFLElBQTZCO1FBQ3pGLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsVUFBUyxLQUFLLEVBQUUsU0FBUztZQUM3RSxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUMvRCxPQUFPLEtBQUssQ0FBQzthQUNiO1lBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDakIsS0FBSyxDQUFDO1FBQ1IsQ0FBQyxDQUFDLENBQUE7SUFDSCxDQUFDOztBQWRjLDZCQUFnQixHQUFHLFlBQVksQ0FBQztBQTVrQmhELG9DQTJsQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHtEZWJ1Z1Byb3RvY29sfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5pbXBvcnQge1Byb3RvY29sU2VydmVyfSBmcm9tICcuL3Byb3RvY29sJztcbmltcG9ydCB7UmVzcG9uc2UsIEV2ZW50fSBmcm9tICcuL21lc3NhZ2VzJztcbmltcG9ydCAqIGFzIE5ldCBmcm9tICduZXQnO1xuaW1wb3J0IHtVUkx9IGZyb20gJ3VybCc7XG5cblxuZXhwb3J0IGNsYXNzIFNvdXJjZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU291cmNlIHtcblx0bmFtZTogc3RyaW5nO1xuXHRwYXRoOiBzdHJpbmc7XG5cdHNvdXJjZVJlZmVyZW5jZTogbnVtYmVyO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHBhdGg/OiBzdHJpbmcsIGlkOiBudW1iZXIgPSAwLCBvcmlnaW4/OiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMucGF0aCA9IHBhdGg7XG5cdFx0dGhpcy5zb3VyY2VSZWZlcmVuY2UgPSBpZDtcblx0XHRpZiAob3JpZ2luKSB7XG5cdFx0XHQoPGFueT50aGlzKS5vcmlnaW4gPSBvcmlnaW47XG5cdFx0fVxuXHRcdGlmIChkYXRhKSB7XG5cdFx0XHQoPGFueT50aGlzKS5hZGFwdGVyRGF0YSA9IGRhdGE7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTY29wZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU2NvcGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHZhcmlhYmxlc1JlZmVyZW5jZTogbnVtYmVyO1xuXHRleHBlbnNpdmU6IGJvb2xlYW47XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcmVmZXJlbmNlOiBudW1iZXIsIGV4cGVuc2l2ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLnZhcmlhYmxlc1JlZmVyZW5jZSA9IHJlZmVyZW5jZTtcblx0XHR0aGlzLmV4cGVuc2l2ZSA9IGV4cGVuc2l2ZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU3RhY2tGcmFtZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuU3RhY2tGcmFtZSB7XG5cdGlkOiBudW1iZXI7XG5cdHNvdXJjZTogU291cmNlO1xuXHRsaW5lOiBudW1iZXI7XG5cdGNvbHVtbjogbnVtYmVyO1xuXHRuYW1lOiBzdHJpbmc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGk6IG51bWJlciwgbm06IHN0cmluZywgc3JjPzogU291cmNlLCBsbjogbnVtYmVyID0gMCwgY29sOiBudW1iZXIgPSAwKSB7XG5cdFx0dGhpcy5pZCA9IGk7XG5cdFx0dGhpcy5zb3VyY2UgPSBzcmM7XG5cdFx0dGhpcy5saW5lID0gbG47XG5cdFx0dGhpcy5jb2x1bW4gPSBjb2w7XG5cdFx0dGhpcy5uYW1lID0gbm07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRocmVhZCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuVGhyZWFkIHtcblx0aWQ6IG51bWJlcjtcblx0bmFtZTogc3RyaW5nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlkID0gaWQ7XG5cdFx0aWYgKG5hbWUpIHtcblx0XHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubmFtZSA9ICdUaHJlYWQgIycgKyBpZDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFZhcmlhYmxlIGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5WYXJpYWJsZSB7XG5cdG5hbWU6IHN0cmluZztcblx0dmFsdWU6IHN0cmluZztcblx0dmFyaWFibGVzUmVmZXJlbmNlOiBudW1iZXI7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgcmVmOiBudW1iZXIgPSAwLCBpbmRleGVkVmFyaWFibGVzPzogbnVtYmVyLCBuYW1lZFZhcmlhYmxlcz86IG51bWJlcikge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudmFyaWFibGVzUmVmZXJlbmNlID0gcmVmO1xuXHRcdGlmICh0eXBlb2YgbmFtZWRWYXJpYWJsZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHQoPERlYnVnUHJvdG9jb2wuVmFyaWFibGU+dGhpcykubmFtZWRWYXJpYWJsZXMgPSBuYW1lZFZhcmlhYmxlcztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBpbmRleGVkVmFyaWFibGVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0KDxEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlPnRoaXMpLmluZGV4ZWRWYXJpYWJsZXMgPSBpbmRleGVkVmFyaWFibGVzO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQnJlYWtwb2ludCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuQnJlYWtwb2ludCB7XG5cdHZlcmlmaWVkOiBib29sZWFuO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcih2ZXJpZmllZDogYm9vbGVhbiwgbGluZT86IG51bWJlciwgY29sdW1uPzogbnVtYmVyLCBzb3VyY2U/OiBTb3VyY2UpIHtcblx0XHR0aGlzLnZlcmlmaWVkID0gdmVyaWZpZWQ7XG5cdFx0Y29uc3QgZTogRGVidWdQcm90b2NvbC5CcmVha3BvaW50ID0gdGhpcztcblx0XHRpZiAodHlwZW9mIGxpbmUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRlLmxpbmUgPSBsaW5lO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGNvbHVtbiA9PT0gJ251bWJlcicpIHtcblx0XHRcdGUuY29sdW1uID0gY29sdW1uO1xuXHRcdH1cblx0XHRpZiAoc291cmNlKSB7XG5cdFx0XHRlLnNvdXJjZSA9IHNvdXJjZTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZHVsZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuTW9kdWxlIHtcblx0aWQ6IG51bWJlciB8IHN0cmluZztcblx0bmFtZTogc3RyaW5nO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogbnVtYmVyIHwgc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzLmlkID0gaWQ7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbkl0ZW0gaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkNvbXBsZXRpb25JdGVtIHtcblx0bGFiZWw6IHN0cmluZztcblx0c3RhcnQ6IG51bWJlcjtcblx0bGVuZ3RoOiBudW1iZXI7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGxhYmVsOiBzdHJpbmcsIHN0YXJ0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyID0gMCkge1xuXHRcdHRoaXMubGFiZWwgPSBsYWJlbDtcblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0b3BwZWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5TdG9wcGVkRXZlbnQge1xuXHRib2R5OiB7XG5cdFx0cmVhc29uOiBzdHJpbmc7XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogc3RyaW5nLCB0aHJlYWRJZD86IG51bWJlciwgZXhjZXB0aW9uVGV4dD86IHN0cmluZykge1xuXHRcdHN1cGVyKCdzdG9wcGVkJyk7XG5cdFx0dGhpcy5ib2R5ID0ge1xuXHRcdFx0cmVhc29uOiByZWFzb25cblx0XHR9O1xuXHRcdGlmICh0eXBlb2YgdGhyZWFkSWQgPT09ICdudW1iZXInKSB7XG5cdFx0XHQodGhpcyBhcyBEZWJ1Z1Byb3RvY29sLlN0b3BwZWRFdmVudCkuYm9keS50aHJlYWRJZCA9IHRocmVhZElkO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGV4Y2VwdGlvblRleHQgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHQodGhpcyBhcyBEZWJ1Z1Byb3RvY29sLlN0b3BwZWRFdmVudCkuYm9keS50ZXh0ID0gZXhjZXB0aW9uVGV4dDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRpbnVlZEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkNvbnRpbnVlZEV2ZW50IHtcblx0Ym9keToge1xuXHRcdHRocmVhZElkOiBudW1iZXI7XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHRocmVhZElkOiBudW1iZXIsIGFsbFRocmVhZHNDb250aW51ZWQ/OiBib29sZWFuKSB7XG5cdFx0c3VwZXIoJ2NvbnRpbnVlZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHRocmVhZElkOiB0aHJlYWRJZFxuXHRcdH07XG5cblx0XHRpZiAodHlwZW9mIGFsbFRocmVhZHNDb250aW51ZWQgPT09ICdib29sZWFuJykge1xuXHRcdFx0KDxEZWJ1Z1Byb3RvY29sLkNvbnRpbnVlZEV2ZW50PnRoaXMpLmJvZHkuYWxsVGhyZWFkc0NvbnRpbnVlZCA9IGFsbFRocmVhZHNDb250aW51ZWQ7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBJbml0aWFsaXplZEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkluaXRpYWxpemVkRXZlbnQge1xuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoJ2luaXRpYWxpemVkJyk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRlcm1pbmF0ZWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5UZXJtaW5hdGVkRXZlbnQge1xuXHRwdWJsaWMgY29uc3RydWN0b3IocmVzdGFydD86IGFueSkge1xuXHRcdHN1cGVyKCd0ZXJtaW5hdGVkJyk7XG5cdFx0aWYgKHR5cGVvZiByZXN0YXJ0ID09PSAnYm9vbGVhbicgfHwgcmVzdGFydCkge1xuXHRcdFx0Y29uc3QgZTogRGVidWdQcm90b2NvbC5UZXJtaW5hdGVkRXZlbnQgPSB0aGlzO1xuXHRcdFx0ZS5ib2R5ID0ge1xuXHRcdFx0XHRyZXN0YXJ0OiByZXN0YXJ0XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgT3V0cHV0RXZlbnQgZXh0ZW5kcyBFdmVudCBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuT3V0cHV0RXZlbnQge1xuXHRib2R5OiB7XG5cdFx0Y2F0ZWdvcnk6IHN0cmluZyxcblx0XHRvdXRwdXQ6IHN0cmluZyxcblx0XHRkYXRhPzogYW55XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKG91dHB1dDogc3RyaW5nLCBjYXRlZ29yeTogc3RyaW5nID0gJ2NvbnNvbGUnLCBkYXRhPzogYW55KSB7XG5cdFx0c3VwZXIoJ291dHB1dCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdGNhdGVnb3J5OiBjYXRlZ29yeSxcblx0XHRcdG91dHB1dDogb3V0cHV0XG5cdFx0fTtcblx0XHRpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLmJvZHkuZGF0YSA9IGRhdGE7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBUaHJlYWRFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5UaHJlYWRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246IHN0cmluZyxcblx0XHR0aHJlYWRJZDogbnVtYmVyXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogc3RyaW5nLCB0aHJlYWRJZDogbnVtYmVyKSB7XG5cdFx0c3VwZXIoJ3RocmVhZCcpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uLFxuXHRcdFx0dGhyZWFkSWQ6IHRocmVhZElkXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQnJlYWtwb2ludEV2ZW50IGV4dGVuZHMgRXZlbnQgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkJyZWFrcG9pbnRFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246IHN0cmluZyxcblx0XHRicmVha3BvaW50OiBCcmVha3BvaW50XG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogc3RyaW5nLCBicmVha3BvaW50OiBCcmVha3BvaW50KSB7XG5cdFx0c3VwZXIoJ2JyZWFrcG9pbnQnKTtcblx0XHR0aGlzLmJvZHkgPSB7XG5cdFx0XHRyZWFzb246IHJlYXNvbixcblx0XHRcdGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnRcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bGVFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Nb2R1bGVFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246ICduZXcnIHwgJ2NoYW5nZWQnIHwgJ3JlbW92ZWQnLFxuXHRcdG1vZHVsZTogTW9kdWxlXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogJ25ldycgfCAnY2hhbmdlZCcgfCAncmVtb3ZlZCcsIG1vZHVsZTogTW9kdWxlKSB7XG5cdFx0c3VwZXIoJ21vZHVsZScpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uLFxuXHRcdFx0bW9kdWxlOiBtb2R1bGVcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBMb2FkZWRTb3VyY2VFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5Mb2FkZWRTb3VyY2VFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRyZWFzb246ICduZXcnIHwgJ2NoYW5nZWQnIHwgJ3JlbW92ZWQnLFxuXHRcdHNvdXJjZTogU291cmNlXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlYXNvbjogJ25ldycgfCAnY2hhbmdlZCcgfCAncmVtb3ZlZCcsIHNvdXJjZTogU291cmNlKSB7XG5cdFx0c3VwZXIoJ2xvYWRlZFNvdXJjZScpO1xuXHRcdHRoaXMuYm9keSA9IHtcblx0XHRcdHJlYXNvbjogcmVhc29uLFxuXHRcdFx0c291cmNlOiBzb3VyY2Vcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXRpZXNFdmVudCBleHRlbmRzIEV2ZW50IGltcGxlbWVudHMgRGVidWdQcm90b2NvbC5DYXBhYmlsaXRpZXNFdmVudCB7XG5cdGJvZHk6IHtcblx0XHRjYXBhYmlsaXRpZXM6IERlYnVnUHJvdG9jb2wuQ2FwYWJpbGl0aWVzXG5cdH07XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGNhcGFiaWxpdGllczogRGVidWdQcm90b2NvbC5DYXBhYmlsaXRpZXMpIHtcblx0XHRzdXBlcignY2FwYWJpbGl0aWVzJyk7XG5cdFx0dGhpcy5ib2R5ID0ge1xuXHRcdFx0Y2FwYWJpbGl0aWVzOiBjYXBhYmlsaXRpZXNcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBlbnVtIEVycm9yRGVzdGluYXRpb24ge1xuXHRVc2VyID0gMSxcblx0VGVsZW1ldHJ5ID0gMlxufTtcblxuZXhwb3J0IGNsYXNzIERlYnVnU2Vzc2lvbiBleHRlbmRzIFByb3RvY29sU2VydmVyIHtcblxuXHRwcml2YXRlIF9kZWJ1Z2dlckxpbmVzU3RhcnRBdDE6IGJvb2xlYW47XG5cdHByaXZhdGUgX2RlYnVnZ2VyQ29sdW1uc1N0YXJ0QXQxOiBib29sZWFuO1xuXHRwcml2YXRlIF9kZWJ1Z2dlclBhdGhzQXJlVVJJczogYm9vbGVhbjtcblxuXHRwcml2YXRlIF9jbGllbnRMaW5lc1N0YXJ0QXQxOiBib29sZWFuO1xuXHRwcml2YXRlIF9jbGllbnRDb2x1bW5zU3RhcnRBdDE6IGJvb2xlYW47XG5cdHByaXZhdGUgX2NsaWVudFBhdGhzQXJlVVJJczogYm9vbGVhbjtcblxuXHRwcm90ZWN0ZWQgX2lzU2VydmVyOiBib29sZWFuO1xuXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihvYnNvbGV0ZV9kZWJ1Z2dlckxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxPzogYm9vbGVhbiwgb2Jzb2xldGVfaXNTZXJ2ZXI/OiBib29sZWFuKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdGNvbnN0IGxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxID0gdHlwZW9mIG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEgPT09ICdib29sZWFuJyA/IG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEgOiBmYWxzZTtcblx0XHR0aGlzLl9kZWJ1Z2dlckxpbmVzU3RhcnRBdDEgPSBsaW5lc0FuZENvbHVtbnNTdGFydEF0MTtcblx0XHR0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSA9IGxpbmVzQW5kQ29sdW1uc1N0YXJ0QXQxO1xuXHRcdHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzID0gZmFsc2U7XG5cblx0XHR0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID0gdHJ1ZTtcblx0XHR0aGlzLl9jbGllbnRDb2x1bW5zU3RhcnRBdDEgPSB0cnVlO1xuXHRcdHRoaXMuX2NsaWVudFBhdGhzQXJlVVJJcyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5faXNTZXJ2ZXIgPSB0eXBlb2Ygb2Jzb2xldGVfaXNTZXJ2ZXIgPT09ICdib29sZWFuJyA/IG9ic29sZXRlX2lzU2VydmVyIDogZmFsc2U7XG5cblx0XHR0aGlzLm9uKCdjbG9zZScsICgpID0+IHtcblx0XHRcdHRoaXMuc2h1dGRvd24oKTtcblx0XHR9KTtcblx0XHR0aGlzLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuXHRcdFx0dGhpcy5zaHV0ZG93bigpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHNldERlYnVnZ2VyUGF0aEZvcm1hdChmb3JtYXQ6IHN0cmluZykge1xuXHRcdHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzID0gZm9ybWF0ICE9PSAncGF0aCc7XG5cdH1cblxuXHRwdWJsaWMgc2V0RGVidWdnZXJMaW5lc1N0YXJ0QXQxKGVuYWJsZTogYm9vbGVhbikge1xuXHRcdHRoaXMuX2RlYnVnZ2VyTGluZXNTdGFydEF0MSA9IGVuYWJsZTtcblx0fVxuXG5cdHB1YmxpYyBzZXREZWJ1Z2dlckNvbHVtbnNTdGFydEF0MShlbmFibGU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9kZWJ1Z2dlckNvbHVtbnNTdGFydEF0MSA9IGVuYWJsZTtcblx0fVxuXG5cdHB1YmxpYyBzZXRSdW5Bc1NlcnZlcihlbmFibGU6IGJvb2xlYW4pIHtcblx0XHR0aGlzLl9pc1NlcnZlciA9IGVuYWJsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHZpcnR1YWwgY29uc3RydWN0b3IuLi5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgcnVuKGRlYnVnU2Vzc2lvbjogdHlwZW9mIERlYnVnU2Vzc2lvbikge1xuXG5cdFx0Ly8gcGFyc2UgYXJndW1lbnRzXG5cdFx0bGV0IHBvcnQgPSAwO1xuXHRcdGNvbnN0IGFyZ3MgPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoMik7XG5cdFx0YXJncy5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4LCBhcnJheSkge1xuXHRcdFx0Y29uc3QgcG9ydE1hdGNoID0gL14tLXNlcnZlcj0oXFxkezQsNX0pJC8uZXhlYyh2YWwpO1xuXHRcdFx0aWYgKHBvcnRNYXRjaCkge1xuXHRcdFx0XHRwb3J0ID0gcGFyc2VJbnQocG9ydE1hdGNoWzFdLCAxMCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAocG9ydCA+IDApIHtcblx0XHRcdC8vIHN0YXJ0IGFzIGEgc2VydmVyXG5cdFx0XHRjb25zb2xlLmVycm9yKGB3YWl0aW5nIGZvciBkZWJ1ZyBwcm90b2NvbCBvbiBwb3J0ICR7cG9ydH1gKTtcblx0XHRcdE5ldC5jcmVhdGVTZXJ2ZXIoKHNvY2tldCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCc+PiBhY2NlcHRlZCBjb25uZWN0aW9uIGZyb20gY2xpZW50Jyk7XG5cdFx0XHRcdHNvY2tldC5vbignZW5kJywgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJz4+IGNsaWVudCBjb25uZWN0aW9uIGNsb3NlZFxcbicpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IG5ldyBkZWJ1Z1Nlc3Npb24oZmFsc2UsIHRydWUpO1xuXHRcdFx0XHRzZXNzaW9uLnNldFJ1bkFzU2VydmVyKHRydWUpO1xuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0KHNvY2tldCwgc29ja2V0KTtcblx0XHRcdH0pLmxpc3Rlbihwb3J0KTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBzdGFydCBhIHNlc3Npb25cblx0XHRcdC8vY29uc29sZS5lcnJvcignd2FpdGluZyBmb3IgZGVidWcgcHJvdG9jb2wgb24gc3RkaW4vc3Rkb3V0Jyk7XG5cdFx0XHRjb25zdCBzZXNzaW9uID0gbmV3IGRlYnVnU2Vzc2lvbihmYWxzZSk7XG5cdFx0XHRwcm9jZXNzLm9uKCdTSUdURVJNJywgKCkgPT4ge1xuXHRcdFx0XHRzZXNzaW9uLnNodXRkb3duKCk7XG5cdFx0XHR9KTtcblx0XHRcdHNlc3Npb24uc3RhcnQocHJvY2Vzcy5zdGRpbiwgcHJvY2Vzcy5zdGRvdXQpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzaHV0ZG93bigpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5faXNTZXJ2ZXIpIHtcblx0XHRcdC8vIHNodXRkb3duIGlnbm9yZWQgaW4gc2VydmVyIG1vZGVcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gd2FpdCBhIGJpdCBiZWZvcmUgc2h1dHRpbmcgZG93blxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHByb2Nlc3MuZXhpdCgwKTtcblx0XHRcdH0sIDEwMCk7XG5cdFx0fVxuXHR9XG5cblx0cHJvdGVjdGVkIHNlbmRFcnJvclJlc3BvbnNlKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlLCBjb2RlT3JNZXNzYWdlOiBudW1iZXIgfCBEZWJ1Z1Byb3RvY29sLk1lc3NhZ2UsIGZvcm1hdD86IHN0cmluZywgdmFyaWFibGVzPzogYW55LCBkZXN0OiBFcnJvckRlc3RpbmF0aW9uID0gRXJyb3JEZXN0aW5hdGlvbi5Vc2VyKTogdm9pZCB7XG5cblx0XHRsZXQgbXNnIDogRGVidWdQcm90b2NvbC5NZXNzYWdlO1xuXHRcdGlmICh0eXBlb2YgY29kZU9yTWVzc2FnZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdG1zZyA9IDxEZWJ1Z1Byb3RvY29sLk1lc3NhZ2U+IHtcblx0XHRcdFx0aWQ6IDxudW1iZXI+IGNvZGVPck1lc3NhZ2UsXG5cdFx0XHRcdGZvcm1hdDogZm9ybWF0XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHZhcmlhYmxlcykge1xuXHRcdFx0XHRtc2cudmFyaWFibGVzID0gdmFyaWFibGVzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGRlc3QgJiBFcnJvckRlc3RpbmF0aW9uLlVzZXIpIHtcblx0XHRcdFx0bXNnLnNob3dVc2VyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChkZXN0ICYgRXJyb3JEZXN0aW5hdGlvbi5UZWxlbWV0cnkpIHtcblx0XHRcdFx0bXNnLnNlbmRUZWxlbWV0cnkgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtc2cgPSBjb2RlT3JNZXNzYWdlO1xuXHRcdH1cblxuXHRcdHJlc3BvbnNlLnN1Y2Nlc3MgPSBmYWxzZTtcblx0XHRyZXNwb25zZS5tZXNzYWdlID0gRGVidWdTZXNzaW9uLmZvcm1hdFBJSShtc2cuZm9ybWF0LCB0cnVlLCBtc2cudmFyaWFibGVzKTtcblx0XHRpZiAoIXJlc3BvbnNlLmJvZHkpIHtcblx0XHRcdHJlc3BvbnNlLmJvZHkgPSB7IH07XG5cdFx0fVxuXHRcdHJlc3BvbnNlLmJvZHkuZXJyb3IgPSBtc2c7XG5cblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwdWJsaWMgcnVuSW5UZXJtaW5hbFJlcXVlc3QoYXJnczogRGVidWdQcm90b2NvbC5SdW5JblRlcm1pbmFsUmVxdWVzdEFyZ3VtZW50cywgdGltZW91dDogbnVtYmVyLCBjYjogKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJ1bkluVGVybWluYWxSZXNwb25zZSkgPT4gdm9pZCkge1xuXHRcdHRoaXMuc2VuZFJlcXVlc3QoJ3J1bkluVGVybWluYWwnLCBhcmdzLCB0aW1lb3V0LCBjYik7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCk6IHZvaWQge1xuXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVxdWVzdCk7XG5cblx0XHR0cnkge1xuXHRcdFx0aWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2luaXRpYWxpemUnKSB7XG5cdFx0XHRcdHZhciBhcmdzID0gPERlYnVnUHJvdG9jb2wuSW5pdGlhbGl6ZVJlcXVlc3RBcmd1bWVudHM+IHJlcXVlc3QuYXJndW1lbnRzO1xuXG5cdFx0XHRcdGlmICh0eXBlb2YgYXJncy5saW5lc1N0YXJ0QXQxID09PSAnYm9vbGVhbicpIHtcblx0XHRcdFx0XHR0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID0gYXJncy5saW5lc1N0YXJ0QXQxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0eXBlb2YgYXJncy5jb2x1bW5zU3RhcnRBdDEgPT09ICdib29sZWFuJykge1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudENvbHVtbnNTdGFydEF0MSA9IGFyZ3MuY29sdW1uc1N0YXJ0QXQxO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFyZ3MucGF0aEZvcm1hdCAhPT0gJ3BhdGgnKSB7XG5cdFx0XHRcdFx0dGhpcy5zZW5kRXJyb3JSZXNwb25zZShyZXNwb25zZSwgMjAxOCwgJ2RlYnVnIGFkYXB0ZXIgb25seSBzdXBwb3J0cyBuYXRpdmUgcGF0aHMnLCBudWxsLCBFcnJvckRlc3RpbmF0aW9uLlRlbGVtZXRyeSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgaW5pdGlhbGl6ZVJlc3BvbnNlID0gPERlYnVnUHJvdG9jb2wuSW5pdGlhbGl6ZVJlc3BvbnNlPiByZXNwb25zZTtcblx0XHRcdFx0XHRpbml0aWFsaXplUmVzcG9uc2UuYm9keSA9IHt9O1xuXHRcdFx0XHRcdHRoaXMuaW5pdGlhbGl6ZVJlcXVlc3QoaW5pdGlhbGl6ZVJlc3BvbnNlLCBhcmdzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2xhdW5jaCcpIHtcblx0XHRcdFx0dGhpcy5sYXVuY2hSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkxhdW5jaFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2F0dGFjaCcpIHtcblx0XHRcdFx0dGhpcy5hdHRhY2hSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkF0dGFjaFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2Rpc2Nvbm5lY3QnKSB7XG5cdFx0XHRcdHRoaXMuZGlzY29ubmVjdFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuRGlzY29ubmVjdFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Rlcm1pbmF0ZScpIHtcblx0XHRcdFx0dGhpcy50ZXJtaW5hdGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Jlc3RhcnQnKSB7XG5cdFx0XHRcdHRoaXMucmVzdGFydFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuUmVzdGFydFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldEJyZWFrUG9pbnRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRCcmVha3BvaW50c1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEZ1bmN0aW9uQnJlYWtwb2ludHMnKSB7XG5cdFx0XHRcdHRoaXMuc2V0RnVuY3Rpb25CcmVha1BvaW50c1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2V0RnVuY3Rpb25CcmVha3BvaW50c1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEV4Y2VwdGlvbkJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldEV4Y2VwdGlvbkJyZWFrUG9pbnRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRFeGNlcHRpb25CcmVha3BvaW50c1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2NvbmZpZ3VyYXRpb25Eb25lJykge1xuXHRcdFx0XHR0aGlzLmNvbmZpZ3VyYXRpb25Eb25lUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Db25maWd1cmF0aW9uRG9uZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2NvbnRpbnVlJykge1xuXHRcdFx0XHR0aGlzLmNvbnRpbnVlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Db250aW51ZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ25leHQnKSB7XG5cdFx0XHRcdHRoaXMubmV4dFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuTmV4dFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0ZXBJbicpIHtcblx0XHRcdFx0dGhpcy5zdGVwSW5SZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlN0ZXBJblJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0ZXBPdXQnKSB7XG5cdFx0XHRcdHRoaXMuc3RlcE91dFJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU3RlcE91dFJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0ZXBCYWNrJykge1xuXHRcdFx0XHR0aGlzLnN0ZXBCYWNrUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TdGVwQmFja1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3JldmVyc2VDb250aW51ZScpIHtcblx0XHRcdFx0dGhpcy5yZXZlcnNlQ29udGludWVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlJldmVyc2VDb250aW51ZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Jlc3RhcnRGcmFtZScpIHtcblx0XHRcdFx0dGhpcy5yZXN0YXJ0RnJhbWVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlJlc3RhcnRGcmFtZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ2dvdG8nKSB7XG5cdFx0XHRcdHRoaXMuZ290b1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuR290b1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3BhdXNlJykge1xuXHRcdFx0XHR0aGlzLnBhdXNlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5QYXVzZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3N0YWNrVHJhY2UnKSB7XG5cdFx0XHRcdHRoaXMuc3RhY2tUcmFjZVJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU3RhY2tUcmFjZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3Njb3BlcycpIHtcblx0XHRcdFx0dGhpcy5zY29wZXNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNjb3Blc1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3ZhcmlhYmxlcycpIHtcblx0XHRcdFx0dGhpcy52YXJpYWJsZXNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlc1Jlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldFZhcmlhYmxlJykge1xuXHRcdFx0XHR0aGlzLnNldFZhcmlhYmxlUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TZXRWYXJpYWJsZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NldEV4cHJlc3Npb24nKSB7XG5cdFx0XHRcdHRoaXMuc2V0RXhwcmVzc2lvblJlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2V0RXhwcmVzc2lvblJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3NvdXJjZScpIHtcblx0XHRcdFx0dGhpcy5zb3VyY2VSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLlNvdXJjZVJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3QuY29tbWFuZCA9PT0gJ3RocmVhZHMnKSB7XG5cdFx0XHRcdHRoaXMudGhyZWFkc1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuVGhyZWFkc1Jlc3BvbnNlPiByZXNwb25zZSk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAndGVybWluYXRlVGhyZWFkcycpIHtcblx0XHRcdFx0dGhpcy50ZXJtaW5hdGVUaHJlYWRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5UZXJtaW5hdGVUaHJlYWRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZXZhbHVhdGUnKSB7XG5cdFx0XHRcdHRoaXMuZXZhbHVhdGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkV2YWx1YXRlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc3RlcEluVGFyZ2V0cycpIHtcblx0XHRcdFx0dGhpcy5zdGVwSW5UYXJnZXRzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5TdGVwSW5UYXJnZXRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZ290b1RhcmdldHMnKSB7XG5cdFx0XHRcdHRoaXMuZ290b1RhcmdldHNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkdvdG9UYXJnZXRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnY29tcGxldGlvbnMnKSB7XG5cdFx0XHRcdHRoaXMuY29tcGxldGlvbnNSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkNvbXBsZXRpb25zUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZXhjZXB0aW9uSW5mbycpIHtcblx0XHRcdFx0dGhpcy5leGNlcHRpb25JbmZvUmVxdWVzdCg8RGVidWdQcm90b2NvbC5FeGNlcHRpb25JbmZvUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnbG9hZGVkU291cmNlcycpIHtcblx0XHRcdFx0dGhpcy5sb2FkZWRTb3VyY2VzUmVxdWVzdCg8RGVidWdQcm90b2NvbC5Mb2FkZWRTb3VyY2VzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZGF0YUJyZWFrcG9pbnRJbmZvJykge1xuXHRcdFx0XHR0aGlzLmRhdGFCcmVha3BvaW50SW5mb1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuRGF0YUJyZWFrcG9pbnRJbmZvUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnc2V0RGF0YUJyZWFrcG9pbnRzJykge1xuXHRcdFx0XHR0aGlzLnNldERhdGFCcmVha3BvaW50c1JlcXVlc3QoPERlYnVnUHJvdG9jb2wuU2V0RGF0YUJyZWFrcG9pbnRzUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAncmVhZE1lbW9yeScpIHtcblx0XHRcdFx0dGhpcy5yZWFkTWVtb3J5UmVxdWVzdCg8RGVidWdQcm90b2NvbC5SZWFkTWVtb3J5UmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5jb21tYW5kID09PSAnZGlzYXNzZW1ibGUnKSB7XG5cdFx0XHRcdHRoaXMuZGlzYXNzZW1ibGVSZXF1ZXN0KDxEZWJ1Z1Byb3RvY29sLkRpc2Fzc2VtYmxlUmVzcG9uc2U+IHJlc3BvbnNlLCByZXF1ZXN0LmFyZ3VtZW50cyk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuY3VzdG9tUmVxdWVzdChyZXF1ZXN0LmNvbW1hbmQsIDxEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlPiByZXNwb25zZSwgcmVxdWVzdC5hcmd1bWVudHMpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRoaXMuc2VuZEVycm9yUmVzcG9uc2UocmVzcG9uc2UsIDExMDQsICd7X3N0YWNrfScsIHsgX2V4Y2VwdGlvbjogZS5tZXNzYWdlLCBfc3RhY2s6IGUuc3RhY2sgfSwgRXJyb3JEZXN0aW5hdGlvbi5UZWxlbWV0cnkpO1xuXHRcdH1cblx0fVxuXG5cdHByb3RlY3RlZCBpbml0aWFsaXplUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Jbml0aWFsaXplUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuSW5pdGlhbGl6ZVJlcXVlc3RBcmd1bWVudHMpOiB2b2lkIHtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgY29uZGl0aW9uYWwgYnJlYWtwb2ludHMuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NvbmRpdGlvbmFsQnJlYWtwb2ludHMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgaGl0IGNvbmRpdGlvbmFsIGJyZWFrcG9pbnRzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNIaXRDb25kaXRpb25hbEJyZWFrcG9pbnRzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9uIGJyZWFrcG9pbnRzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNGdW5jdGlvbkJyZWFrcG9pbnRzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBpbXBsZW1lbnRzIHRoZSAnY29uZmlndXJhdGlvbkRvbmUnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NvbmZpZ3VyYXRpb25Eb25lUmVxdWVzdCA9IHRydWU7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IGhvdmVycyBiYXNlZCBvbiB0aGUgJ2V2YWx1YXRlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNFdmFsdWF0ZUZvckhvdmVycyA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3N0ZXBCYWNrJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNTdGVwQmFjayA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3NldFZhcmlhYmxlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNTZXRWYXJpYWJsZSA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3Jlc3RhcnRGcmFtZScgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzUmVzdGFydEZyYW1lID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnc3RlcEluVGFyZ2V0cycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzU3RlcEluVGFyZ2V0c1JlcXVlc3QgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdnb3RvVGFyZ2V0cycgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzR290b1RhcmdldHNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnY29tcGxldGlvbnMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0NvbXBsZXRpb25zUmVxdWVzdCA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWZhdWx0IGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3Jlc3RhcnQnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1Jlc3RhcnRSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlZmF1bHQgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAnZXhjZXB0aW9uT3B0aW9ucycgYXR0cmlidXRlIG9uIHRoZSAnc2V0RXhjZXB0aW9uQnJlYWtwb2ludHMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0V4Y2VwdGlvbk9wdGlvbnMgPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVmYXVsdCBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdmb3JtYXQnIGF0dHJpYnV0ZSBvbiB0aGUgJ3ZhcmlhYmxlcycsICdldmFsdWF0ZScsIGFuZCAnc3RhY2tUcmFjZScgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzVmFsdWVGb3JtYXR0aW5nT3B0aW9ucyA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdleGNlcHRpb25JbmZvJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNFeGNlcHRpb25JbmZvUmVxdWVzdCA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgdGhlICdUZXJtaW5hdGVEZWJ1Z2dlZScgYXR0cmlidXRlIG9uIHRoZSAnZGlzY29ubmVjdCcgcmVxdWVzdC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRUZXJtaW5hdGVEZWJ1Z2dlZSA9IGZhbHNlO1xuXG5cdFx0Ly8gVGhpcyBkZWJ1ZyBhZGFwdGVyIGRvZXMgbm90IHN1cHBvcnQgZGVsYXllZCBsb2FkaW5nIG9mIHN0YWNrIGZyYW1lcy5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzRGVsYXllZFN0YWNrVHJhY2VMb2FkaW5nID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2xvYWRlZFNvdXJjZXMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c0xvYWRlZFNvdXJjZXNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2xvZ01lc3NhZ2UnIGF0dHJpYnV0ZSBvZiB0aGUgU291cmNlQnJlYWtwb2ludC5cblx0XHRyZXNwb25zZS5ib2R5LnN1cHBvcnRzTG9nUG9pbnRzID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3Rlcm1pbmF0ZVRocmVhZHMnIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1Rlcm1pbmF0ZVRocmVhZHNSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3NldEV4cHJlc3Npb24nIHJlcXVlc3QuXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1NldEV4cHJlc3Npb24gPSBmYWxzZTtcblxuXHRcdC8vIFRoaXMgZGVidWcgYWRhcHRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSAndGVybWluYXRlJyByZXF1ZXN0LlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNUZXJtaW5hdGVSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvLyBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCBkYXRhIGJyZWFrcG9pbnRzLlxuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNEYXRhQnJlYWtwb2ludHMgPSBmYWxzZTtcblxuXHRcdC8qKiBUaGlzIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ3JlYWRNZW1vcnknIHJlcXVlc3QuICovXG5cdFx0cmVzcG9uc2UuYm9keS5zdXBwb3J0c1JlYWRNZW1vcnlSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHQvKiogVGhlIGRlYnVnIGFkYXB0ZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJ2Rpc2Fzc2VtYmxlJyByZXF1ZXN0LiAqL1xuXHRcdHJlc3BvbnNlLmJvZHkuc3VwcG9ydHNEaXNhc3NlbWJsZVJlcXVlc3QgPSBmYWxzZTtcblxuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNjb25uZWN0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5EaXNjb25uZWN0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuRGlzY29ubmVjdEFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0XHR0aGlzLnNodXRkb3duKCk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgbGF1bmNoUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5MYXVuY2hSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5MYXVuY2hSZXF1ZXN0QXJndW1lbnRzKTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGF0dGFjaFJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQXR0YWNoUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuQXR0YWNoUmVxdWVzdEFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCB0ZXJtaW5hdGVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCByZXN0YXJ0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXN0YXJ0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmVzdGFydEFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRCcmVha1BvaW50c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0QnJlYWtwb2ludHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRCcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRGdW5jdGlvbkJyZWFrUG9pbnRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXRGdW5jdGlvbkJyZWFrcG9pbnRzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU2V0RnVuY3Rpb25CcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRFeGNlcHRpb25CcmVha1BvaW50c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0RXhjZXB0aW9uQnJlYWtwb2ludHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRFeGNlcHRpb25CcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb25maWd1cmF0aW9uRG9uZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQ29uZmlndXJhdGlvbkRvbmVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Db25maWd1cmF0aW9uRG9uZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb250aW51ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQ29udGludWVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Db250aW51ZUFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgbmV4dFJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuTmV4dFJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLk5leHRBcmd1bWVudHMpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0ZXBJblJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU3RlcEluUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcEluQXJndW1lbnRzKSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGVwT3V0UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGVwT3V0UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcE91dEFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RlcEJhY2tSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlN0ZXBCYWNrUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcEJhY2tBcmd1bWVudHMpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHJldmVyc2VDb250aW51ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmV2ZXJzZUNvbnRpbnVlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmV2ZXJzZUNvbnRpbnVlQXJndW1lbnRzKSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCByZXN0YXJ0RnJhbWVSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3RhcnRGcmFtZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlJlc3RhcnRGcmFtZUFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgZ290b1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuR290b1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkdvdG9Bcmd1bWVudHMpIDogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHBhdXNlUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5QYXVzZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlBhdXNlQXJndW1lbnRzKSA6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzb3VyY2VSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNvdXJjZVJlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNvdXJjZUFyZ3VtZW50cykgOiB2b2lkIHtcblx0XHR0aGlzLnNlbmRSZXNwb25zZShyZXNwb25zZSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgdGhyZWFkc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuVGhyZWFkc1Jlc3BvbnNlKTogdm9pZCB7XG5cdFx0dGhpcy5zZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHRlcm1pbmF0ZVRocmVhZHNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlRlcm1pbmF0ZVRocmVhZHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5UZXJtaW5hdGVUaHJlYWRzUmVxdWVzdCk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGFja1RyYWNlUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGFja1RyYWNlUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RhY2tUcmFjZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzY29wZXNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNjb3Blc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNjb3Blc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCB2YXJpYWJsZXNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlc1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlZhcmlhYmxlc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRWYXJpYWJsZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuU2V0VmFyaWFibGVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5TZXRWYXJpYWJsZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRFeHByZXNzaW9uUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TZXRFeHByZXNzaW9uUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU2V0RXhwcmVzc2lvbkFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBldmFsdWF0ZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuRXZhbHVhdGVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5FdmFsdWF0ZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGVwSW5UYXJnZXRzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5TdGVwSW5UYXJnZXRzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuU3RlcEluVGFyZ2V0c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBnb3RvVGFyZ2V0c1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuR290b1RhcmdldHNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Hb3RvVGFyZ2V0c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBjb21wbGV0aW9uc1JlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuQ29tcGxldGlvbnNSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5Db21wbGV0aW9uc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBleGNlcHRpb25JbmZvUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5FeGNlcHRpb25JbmZvUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuRXhjZXB0aW9uSW5mb0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBsb2FkZWRTb3VyY2VzUmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5Mb2FkZWRTb3VyY2VzUmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuTG9hZGVkU291cmNlc0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkYXRhQnJlYWtwb2ludEluZm9SZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLkRhdGFCcmVha3BvaW50SW5mb1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLkRhdGFCcmVha3BvaW50SW5mb0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXREYXRhQnJlYWtwb2ludHNSZXF1ZXN0KHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlNldERhdGFCcmVha3BvaW50c1Jlc3BvbnNlLCBhcmdzOiBEZWJ1Z1Byb3RvY29sLlNldERhdGFCcmVha3BvaW50c0FyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCByZWFkTWVtb3J5UmVxdWVzdChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZWFkTWVtb3J5UmVzcG9uc2UsIGFyZ3M6IERlYnVnUHJvdG9jb2wuUmVhZE1lbW9yeUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNhc3NlbWJsZVJlcXVlc3QocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuRGlzYXNzZW1ibGVSZXNwb25zZSwgYXJnczogRGVidWdQcm90b2NvbC5EaXNhc3NlbWJsZUFyZ3VtZW50cyk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPdmVycmlkZSB0aGlzIGhvb2sgdG8gaW1wbGVtZW50IGN1c3RvbSByZXF1ZXN0cy5cblx0ICovXG5cdHByb3RlY3RlZCBjdXN0b21SZXF1ZXN0KGNvbW1hbmQ6IHN0cmluZywgcmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UsIGFyZ3M6IGFueSk6IHZvaWQge1xuXHRcdHRoaXMuc2VuZEVycm9yUmVzcG9uc2UocmVzcG9uc2UsIDEwMTQsICd1bnJlY29nbml6ZWQgcmVxdWVzdCcsIG51bGwsIEVycm9yRGVzdGluYXRpb24uVGVsZW1ldHJ5KTtcblx0fVxuXG5cdC8vLS0tLSBwcm90ZWN0ZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHByb3RlY3RlZCBjb252ZXJ0Q2xpZW50TGluZVRvRGVidWdnZXIobGluZTogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRpZiAodGhpcy5fZGVidWdnZXJMaW5lc1N0YXJ0QXQxKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY2xpZW50TGluZXNTdGFydEF0MSA/IGxpbmUgOiBsaW5lICsgMTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2NsaWVudExpbmVzU3RhcnRBdDEgPyBsaW5lIC0gMSA6IGxpbmU7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY29udmVydERlYnVnZ2VyTGluZVRvQ2xpZW50KGxpbmU6IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyTGluZXNTdGFydEF0MSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2NsaWVudExpbmVzU3RhcnRBdDEgPyBsaW5lIDogbGluZSAtIDE7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9jbGllbnRMaW5lc1N0YXJ0QXQxID8gbGluZSArIDEgOiBsaW5lO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnZlcnRDbGllbnRDb2x1bW5Ub0RlYnVnZ2VyKGNvbHVtbjogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRpZiAodGhpcy5fZGVidWdnZXJDb2x1bW5zU3RhcnRBdDEpIHtcblx0XHRcdHJldHVybiB0aGlzLl9jbGllbnRDb2x1bW5zU3RhcnRBdDEgPyBjb2x1bW4gOiBjb2x1bW4gKyAxO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fY2xpZW50Q29sdW1uc1N0YXJ0QXQxID8gY29sdW1uIC0gMSA6IGNvbHVtbjtcblx0fVxuXG5cdHByb3RlY3RlZCBjb252ZXJ0RGVidWdnZXJDb2x1bW5Ub0NsaWVudChjb2x1bW46IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyQ29sdW1uc1N0YXJ0QXQxKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY2xpZW50Q29sdW1uc1N0YXJ0QXQxID8gY29sdW1uIDogY29sdW1uIC0gMTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2NsaWVudENvbHVtbnNTdGFydEF0MSA/IGNvbHVtbiArIDEgOiBjb2x1bW47XG5cdH1cblxuXHRwcm90ZWN0ZWQgY29udmVydENsaWVudFBhdGhUb0RlYnVnZ2VyKGNsaWVudFBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKHRoaXMuX2NsaWVudFBhdGhzQXJlVVJJcyAhPT0gdGhpcy5fZGVidWdnZXJQYXRoc0FyZVVSSXMpIHtcblx0XHRcdGlmICh0aGlzLl9jbGllbnRQYXRoc0FyZVVSSXMpIHtcblx0XHRcdFx0cmV0dXJuIERlYnVnU2Vzc2lvbi51cmkycGF0aChjbGllbnRQYXRoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBEZWJ1Z1Nlc3Npb24ucGF0aDJ1cmkoY2xpZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjbGllbnRQYXRoO1xuXHR9XG5cblx0cHJvdGVjdGVkIGNvbnZlcnREZWJ1Z2dlclBhdGhUb0NsaWVudChkZWJ1Z2dlclBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKHRoaXMuX2RlYnVnZ2VyUGF0aHNBcmVVUklzICE9PSB0aGlzLl9jbGllbnRQYXRoc0FyZVVSSXMpIHtcblx0XHRcdGlmICh0aGlzLl9kZWJ1Z2dlclBhdGhzQXJlVVJJcykge1xuXHRcdFx0XHRyZXR1cm4gRGVidWdTZXNzaW9uLnVyaTJwYXRoKGRlYnVnZ2VyUGF0aCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gRGVidWdTZXNzaW9uLnBhdGgydXJpKGRlYnVnZ2VyUGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBkZWJ1Z2dlclBhdGg7XG5cdH1cblxuXHQvLy0tLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0cHJpdmF0ZSBzdGF0aWMgcGF0aDJ1cmkocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblxuXHRcdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRpZiAoL15bQS1aXTovLnRlc3QocGF0aCkpIHtcblx0XHRcdFx0cGF0aCA9IHBhdGhbMF0udG9Mb3dlckNhc2UoKSArIHBhdGguc3Vic3RyKDEpO1xuXHRcdFx0fVxuXHRcdFx0cGF0aCA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuXHRcdH1cblx0XHRwYXRoID0gZW5jb2RlVVJJKHBhdGgpO1xuXG5cdFx0bGV0IHVyaSA9IG5ldyBVUkwoYGZpbGU6YCk7XHQvLyBpZ25vcmUgJ3BhdGgnIGZvciBub3dcblx0XHR1cmkucGF0aG5hbWUgPSBwYXRoO1x0Ly8gbm93IHVzZSAncGF0aCcgdG8gZ2V0IHRoZSBjb3JyZWN0IHBlcmNlbnQgZW5jb2RpbmcgKHNlZSBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcpXG5cdFx0cmV0dXJuIHVyaS50b1N0cmluZygpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgdXJpMnBhdGgoc291cmNlVXJpOiBzdHJpbmcpOiBzdHJpbmcge1xuXG5cdFx0bGV0IHVyaSA9IG5ldyBVUkwoc291cmNlVXJpKTtcblx0XHRsZXQgcyA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmkucGF0aG5hbWUpO1xuXHRcdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0XHRpZiAoL15cXC9bYS16QS1aXTovLnRlc3QocykpIHtcblx0XHRcdFx0cyA9IHNbMV0udG9Mb3dlckNhc2UoKSArIHMuc3Vic3RyKDIpO1xuXHRcdFx0fVxuXHRcdFx0cyA9IHMucmVwbGFjZSgvXFwvL2csICdcXFxcJyk7XG5cdFx0fVxuXHRcdHJldHVybiBzO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgX2Zvcm1hdFBJSVJlZ2V4cCA9IC97KFtefV0rKX0vZztcblxuXHQvKlxuXHQqIElmIGFyZ3VtZW50IHN0YXJ0cyB3aXRoICdfJyBpdCBpcyBPSyB0byBzZW5kIGl0cyB2YWx1ZSB0byB0ZWxlbWV0cnkuXG5cdCovXG5cdHByaXZhdGUgc3RhdGljIGZvcm1hdFBJSShmb3JtYXQ6c3RyaW5nLCBleGNsdWRlUElJOiBib29sZWFuLCBhcmdzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGZvcm1hdC5yZXBsYWNlKERlYnVnU2Vzc2lvbi5fZm9ybWF0UElJUmVnZXhwLCBmdW5jdGlvbihtYXRjaCwgcGFyYW1OYW1lKSB7XG5cdFx0XHRpZiAoZXhjbHVkZVBJSSAmJiBwYXJhbU5hbWUubGVuZ3RoID4gMCAmJiBwYXJhbU5hbWVbMF0gIT09ICdfJykge1xuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYXJnc1twYXJhbU5hbWVdICYmIGFyZ3MuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lKSA/XG5cdFx0XHRcdGFyZ3NbcGFyYW1OYW1lXSA6XG5cdFx0XHRcdG1hdGNoO1xuXHRcdH0pXG5cdH1cbn1cbiJdfQ==","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Message {\n    constructor(type) {\n        this.seq = 0;\n        this.type = type;\n    }\n}\nexports.Message = Message;\nclass Response extends Message {\n    constructor(request, message) {\n        super('response');\n        this.request_seq = request.seq;\n        this.command = request.command;\n        if (message) {\n            this.success = false;\n            this.message = message;\n        }\n        else {\n            this.success = true;\n        }\n    }\n}\nexports.Response = Response;\nclass Event extends Message {\n    constructor(event, body) {\n        super('event');\n        this.event = event;\n        if (body) {\n            this.body = body;\n        }\n    }\n}\nexports.Event = Event;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOztBQUtoRyxNQUFhLE9BQU87SUFJbkIsWUFBbUIsSUFBWTtRQUM5QixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLENBQUM7Q0FDRDtBQVJELDBCQVFDO0FBRUQsTUFBYSxRQUFTLFNBQVEsT0FBTztJQUtwQyxZQUFtQixPQUE4QixFQUFFLE9BQWdCO1FBQ2xFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQy9CLElBQUksT0FBTyxFQUFFO1lBQ1osSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDZixJQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztTQUM5QjthQUFNO1lBQ04sSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDcEI7SUFDRixDQUFDO0NBQ0Q7QUFoQkQsNEJBZ0JDO0FBRUQsTUFBYSxLQUFNLFNBQVEsT0FBTztJQUdqQyxZQUFtQixLQUFhLEVBQUUsSUFBVTtRQUMzQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLElBQUksRUFBRTtZQUNILElBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO0lBQ0YsQ0FBQztDQUNEO0FBVkQsc0JBVUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgRGVidWdQcm90b2NvbCB9IGZyb20gJ3ZzY29kZS1kZWJ1Z3Byb3RvY29sJztcblxuXG5leHBvcnQgY2xhc3MgTWVzc2FnZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuUHJvdG9jb2xNZXNzYWdlIHtcblx0c2VxOiBudW1iZXI7XG5cdHR5cGU6IHN0cmluZztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5zZXEgPSAwO1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlc3BvbnNlIGV4dGVuZHMgTWVzc2FnZSBpbXBsZW1lbnRzIERlYnVnUHJvdG9jb2wuUmVzcG9uc2Uge1xuXHRyZXF1ZXN0X3NlcTogbnVtYmVyO1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRjb21tYW5kOiBzdHJpbmc7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCwgbWVzc2FnZT86IHN0cmluZykge1xuXHRcdHN1cGVyKCdyZXNwb25zZScpO1xuXHRcdHRoaXMucmVxdWVzdF9zZXEgPSByZXF1ZXN0LnNlcTtcblx0XHR0aGlzLmNvbW1hbmQgPSByZXF1ZXN0LmNvbW1hbmQ7XG5cdFx0aWYgKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMuc3VjY2VzcyA9IGZhbHNlO1xuXHRcdFx0KDxhbnk+dGhpcykubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3VjY2VzcyA9IHRydWU7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudCBleHRlbmRzIE1lc3NhZ2UgaW1wbGVtZW50cyBEZWJ1Z1Byb3RvY29sLkV2ZW50IHtcblx0ZXZlbnQ6IHN0cmluZztcblxuXHRwdWJsaWMgY29uc3RydWN0b3IoZXZlbnQ6IHN0cmluZywgYm9keT86IGFueSkge1xuXHRcdHN1cGVyKCdldmVudCcpO1xuXHRcdHRoaXMuZXZlbnQgPSBldmVudDtcblx0XHRpZiAoYm9keSkge1xuXHRcdFx0KDxhbnk+dGhpcykuYm9keSA9IGJvZHk7XG5cdFx0fVxuXHR9XG59XG4iXX0=","module.exports = require(\"net\");","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debugSession_1 = require(\"./debugSession\");\nexports.DebugSession = debugSession_1.DebugSession;\nexports.InitializedEvent = debugSession_1.InitializedEvent;\nexports.TerminatedEvent = debugSession_1.TerminatedEvent;\nexports.StoppedEvent = debugSession_1.StoppedEvent;\nexports.ContinuedEvent = debugSession_1.ContinuedEvent;\nexports.OutputEvent = debugSession_1.OutputEvent;\nexports.ThreadEvent = debugSession_1.ThreadEvent;\nexports.BreakpointEvent = debugSession_1.BreakpointEvent;\nexports.ModuleEvent = debugSession_1.ModuleEvent;\nexports.LoadedSourceEvent = debugSession_1.LoadedSourceEvent;\nexports.CapabilitiesEvent = debugSession_1.CapabilitiesEvent;\nexports.Thread = debugSession_1.Thread;\nexports.StackFrame = debugSession_1.StackFrame;\nexports.Scope = debugSession_1.Scope;\nexports.Variable = debugSession_1.Variable;\nexports.Breakpoint = debugSession_1.Breakpoint;\nexports.Source = debugSession_1.Source;\nexports.Module = debugSession_1.Module;\nexports.CompletionItem = debugSession_1.CompletionItem;\nexports.ErrorDestination = debugSession_1.ErrorDestination;\nconst loggingDebugSession_1 = require(\"./loggingDebugSession\");\nexports.LoggingDebugSession = loggingDebugSession_1.LoggingDebugSession;\nconst Logger = require(\"./logger\");\nexports.Logger = Logger;\nconst messages_1 = require(\"./messages\");\nexports.Event = messages_1.Event;\nexports.Response = messages_1.Response;\nconst handles_1 = require(\"./handles\");\nexports.Handles = handles_1.Handles;\nconst logger = Logger.logger;\nexports.logger = logger;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Z0dBR2dHO0FBQ2hHLFlBQVksQ0FBQzs7QUFFYixpREFNd0I7QUFTdkIsdUJBZEEsMkJBQVksQ0FjQTtBQUlaLDJCQWpCQSwrQkFBZ0IsQ0FpQkE7QUFBRSwwQkFqQkEsOEJBQWUsQ0FpQkE7QUFBRSx1QkFqQkEsMkJBQVksQ0FpQkE7QUFBRSx5QkFqQkEsNkJBQWMsQ0FpQkE7QUFBRSxzQkFqQkEsMEJBQVcsQ0FpQkE7QUFBRSxzQkFqQkEsMEJBQVcsQ0FpQkE7QUFBRSwwQkFqQkEsOEJBQWUsQ0FpQkE7QUFBRSxzQkFqQkEsMEJBQVcsQ0FpQkE7QUFBRSw0QkFqQkEsZ0NBQWlCLENBaUJBO0FBQUUsNEJBakJBLGdDQUFpQixDQWlCQTtBQUM3SixpQkFqQkEscUJBQU0sQ0FpQkE7QUFBRSxxQkFqQkEseUJBQVUsQ0FpQkE7QUFBRSxnQkFqQkEsb0JBQUssQ0FpQkE7QUFBRSxtQkFqQkEsdUJBQVEsQ0FpQkE7QUFDbkMscUJBakJBLHlCQUFVLENBaUJBO0FBQUUsaUJBakJBLHFCQUFNLENBaUJBO0FBQUUsaUJBakJBLHFCQUFNLENBaUJBO0FBQUUseUJBakJBLDZCQUFjLENBaUJBO0FBQzFDLDJCQWpCQSwrQkFBZ0IsQ0FpQkE7QUFmakIsK0RBQTBEO0FBU3pELDhCQVRPLHlDQUFtQixDQVNQO0FBUnBCLG1DQUFtQztBQVNsQyx3QkFBTTtBQVJQLHlDQUE2QztBQWM1QyxnQkFkUSxnQkFBSyxDQWNSO0FBQUUsbUJBZFEsbUJBQVEsQ0FjUjtBQWJoQix1Q0FBb0M7QUFjbkMsa0JBZFEsaUJBQU8sQ0FjUjtBQVpSLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFNNUIsd0JBQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7XG5cdERlYnVnU2Vzc2lvbixcblx0SW5pdGlhbGl6ZWRFdmVudCwgVGVybWluYXRlZEV2ZW50LCBTdG9wcGVkRXZlbnQsIENvbnRpbnVlZEV2ZW50LCBPdXRwdXRFdmVudCwgVGhyZWFkRXZlbnQsIEJyZWFrcG9pbnRFdmVudCwgTW9kdWxlRXZlbnQsIExvYWRlZFNvdXJjZUV2ZW50LCBDYXBhYmlsaXRpZXNFdmVudCxcblx0VGhyZWFkLCBTdGFja0ZyYW1lLCBTY29wZSwgVmFyaWFibGUsXG5cdEJyZWFrcG9pbnQsIFNvdXJjZSwgTW9kdWxlLCBDb21wbGV0aW9uSXRlbSxcblx0RXJyb3JEZXN0aW5hdGlvblxufSBmcm9tICcuL2RlYnVnU2Vzc2lvbic7XG5pbXBvcnQge0xvZ2dpbmdEZWJ1Z1Nlc3Npb259IGZyb20gJy4vbG9nZ2luZ0RlYnVnU2Vzc2lvbic7XG5pbXBvcnQgKiBhcyBMb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgRXZlbnQsIFJlc3BvbnNlIH0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgeyBIYW5kbGVzIH0gZnJvbSAnLi9oYW5kbGVzJztcblxuY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmxvZ2dlcjtcblxuZXhwb3J0IHtcblx0RGVidWdTZXNzaW9uLFxuXHRMb2dnaW5nRGVidWdTZXNzaW9uLFxuXHRMb2dnZXIsXG5cdGxvZ2dlcixcblx0SW5pdGlhbGl6ZWRFdmVudCwgVGVybWluYXRlZEV2ZW50LCBTdG9wcGVkRXZlbnQsIENvbnRpbnVlZEV2ZW50LCBPdXRwdXRFdmVudCwgVGhyZWFkRXZlbnQsIEJyZWFrcG9pbnRFdmVudCwgTW9kdWxlRXZlbnQsIExvYWRlZFNvdXJjZUV2ZW50LCBDYXBhYmlsaXRpZXNFdmVudCxcblx0VGhyZWFkLCBTdGFja0ZyYW1lLCBTY29wZSwgVmFyaWFibGUsXG5cdEJyZWFrcG9pbnQsIFNvdXJjZSwgTW9kdWxlLCBDb21wbGV0aW9uSXRlbSxcblx0RXJyb3JEZXN0aW5hdGlvbixcblx0RXZlbnQsIFJlc3BvbnNlLFxuXHRIYW5kbGVzXG59XG4iXX0=","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst mkdirp = require(\"mkdirp\");\nconst debugSession_1 = require(\"./debugSession\");\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\n    LogLevel[LogLevel[\"Log\"] = 1] = \"Log\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n    LogLevel[LogLevel[\"Stop\"] = 4] = \"Stop\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nclass Logger {\n    constructor() {\n        this._pendingLogQ = [];\n    }\n    log(msg, level = LogLevel.Log) {\n        msg = msg + '\\n';\n        this._write(msg, level);\n    }\n    verbose(msg) {\n        this.log(msg, LogLevel.Verbose);\n    }\n    warn(msg) {\n        this.log(msg, LogLevel.Warn);\n    }\n    error(msg) {\n        this.log(msg, LogLevel.Error);\n    }\n    dispose() {\n        if (this._currentLogger) {\n            const disposeP = this._currentLogger.dispose();\n            this._currentLogger = null;\n            return disposeP;\n        }\n        else {\n            return Promise.resolve();\n        }\n    }\n    /**\n     * `log` adds a newline, `write` doesn't\n     */\n    _write(msg, level = LogLevel.Log) {\n        // [null, undefined] => string\n        msg = msg + '';\n        if (this._pendingLogQ) {\n            this._pendingLogQ.push({ msg, level });\n        }\n        else if (this._currentLogger) {\n            this._currentLogger.log(msg, level);\n        }\n    }\n    /**\n     * Set the logger's minimum level to log in the console, and whether to log to the file. Log messages are queued before this is\n     * called the first time, because minLogLevel defaults to Warn.\n     */\n    setup(consoleMinLogLevel, _logFilePath, prependTimestamp = true) {\n        const logFilePath = typeof _logFilePath === 'string' ?\n            _logFilePath :\n            (_logFilePath && this._logFilePathFromInit);\n        if (this._currentLogger) {\n            const options = {\n                consoleMinLogLevel,\n                logFilePath,\n                prependTimestamp\n            };\n            this._currentLogger.setup(options).then(() => {\n                // Now that we have a minimum logLevel, we can clear out the queue of pending messages\n                if (this._pendingLogQ) {\n                    const logQ = this._pendingLogQ;\n                    this._pendingLogQ = null;\n                    logQ.forEach(item => this._write(item.msg, item.level));\n                }\n            });\n        }\n    }\n    init(logCallback, logFilePath, logToConsole) {\n        // Re-init, create new global Logger\n        this._pendingLogQ = this._pendingLogQ || [];\n        this._currentLogger = new InternalLogger(logCallback, logToConsole);\n        this._logFilePathFromInit = logFilePath;\n    }\n}\nexports.Logger = Logger;\nexports.logger = new Logger();\n/**\n * Manages logging, whether to console.log, file, or VS Code console.\n * Encapsulates the state specific to each logging session\n */\nclass InternalLogger {\n    constructor(logCallback, isServer) {\n        /** Dispose and allow exit to continue normally */\n        this.beforeExitCallback = () => this.dispose();\n        this._logCallback = logCallback;\n        this._logToConsole = isServer;\n        this._minLogLevel = LogLevel.Warn;\n        this.disposeCallback = (signal, code) => {\n            this.dispose();\n            // Exit with 128 + value of the signal code.\n            // https://nodejs.org/api/process.html#process_exit_codes\n            code = code || 2; // SIGINT\n            code += 128;\n            process.exit(code);\n        };\n    }\n    setup(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._minLogLevel = options.consoleMinLogLevel;\n            this._prependTimestamp = options.prependTimestamp;\n            // Open a log file in the specified location. Overwritten on each run.\n            if (options.logFilePath) {\n                if (!path.isAbsolute(options.logFilePath)) {\n                    this.log(`logFilePath must be an absolute path: ${options.logFilePath}`, LogLevel.Error);\n                }\n                else {\n                    const handleError = err => this.sendLog(`Error creating log file at path: ${options.logFilePath}. Error: ${err.toString()}\\n`, LogLevel.Error);\n                    try {\n                        yield mkdirpPromise(path.dirname(options.logFilePath));\n                        this.log(`Verbose logs are written to:\\n`, LogLevel.Warn);\n                        this.log(options.logFilePath + '\\n', LogLevel.Warn);\n                        this._logFileStream = fs.createWriteStream(options.logFilePath);\n                        this.logDateTime();\n                        this.setupShutdownListeners();\n                        this._logFileStream.on('error', err => {\n                            handleError(err);\n                        });\n                    }\n                    catch (err) {\n                        handleError(err);\n                    }\n                }\n            }\n        });\n    }\n    logDateTime() {\n        let d = new Date();\n        let dateString = d.getUTCFullYear() + '-' + `${d.getUTCMonth() + 1}` + '-' + d.getUTCDate();\n        const timeAndDateStamp = dateString + ', ' + getFormattedTimeString();\n        this.log(timeAndDateStamp + '\\n', LogLevel.Verbose, false);\n    }\n    setupShutdownListeners() {\n        process.addListener('beforeExit', this.beforeExitCallback);\n        process.addListener('SIGTERM', this.disposeCallback);\n        process.addListener('SIGINT', this.disposeCallback);\n    }\n    removeShutdownListeners() {\n        process.removeListener('beforeExit', this.beforeExitCallback);\n        process.removeListener('SIGTERM', this.disposeCallback);\n        process.removeListener('SIGINT', this.disposeCallback);\n    }\n    dispose() {\n        return new Promise(resolve => {\n            this.removeShutdownListeners();\n            if (this._logFileStream) {\n                this._logFileStream.end(resolve);\n                this._logFileStream = null;\n            }\n            else {\n                resolve();\n            }\n        });\n    }\n    log(msg, level, prependTimestamp = true) {\n        if (this._minLogLevel === LogLevel.Stop) {\n            return;\n        }\n        if (level >= this._minLogLevel) {\n            this.sendLog(msg, level);\n        }\n        if (this._logToConsole) {\n            const logFn = level === LogLevel.Error ? console.error :\n                level === LogLevel.Warn ? console.warn :\n                    null;\n            if (logFn) {\n                logFn(trimLastNewline(msg));\n            }\n        }\n        // If an error, prepend with '[Error]'\n        if (level === LogLevel.Error) {\n            msg = `[${LogLevel[level]}] ${msg}`;\n        }\n        if (this._prependTimestamp && prependTimestamp) {\n            msg = '[' + getFormattedTimeString() + '] ' + msg;\n        }\n        if (this._logFileStream) {\n            this._logFileStream.write(msg);\n        }\n    }\n    sendLog(msg, level) {\n        // Truncate long messages, they can hang VS Code\n        if (msg.length > 1500) {\n            const endsInNewline = !!msg.match(/(\\n|\\r\\n)$/);\n            msg = msg.substr(0, 1500) + '[...]';\n            if (endsInNewline) {\n                msg = msg + '\\n';\n            }\n        }\n        if (this._logCallback) {\n            const event = new LogOutputEvent(msg, level);\n            this._logCallback(event);\n        }\n    }\n}\nfunction mkdirpPromise(folder) {\n    return new Promise((resolve, reject) => {\n        mkdirp(folder, err => {\n            if (err) {\n                reject(err);\n            }\n            else {\n                resolve();\n            }\n        });\n    });\n}\nclass LogOutputEvent extends debugSession_1.OutputEvent {\n    constructor(msg, level) {\n        const category = level === LogLevel.Error ? 'stderr' :\n            level === LogLevel.Warn ? 'console' :\n                'stdout';\n        super(msg, category);\n    }\n}\nexports.LogOutputEvent = LogOutputEvent;\nfunction trimLastNewline(str) {\n    return str.replace(/(\\n|\\r\\n)$/, '');\n}\nexports.trimLastNewline = trimLastNewline;\nfunction getFormattedTimeString() {\n    let d = new Date();\n    let hourString = _padZeroes(2, String(d.getUTCHours()));\n    let minuteString = _padZeroes(2, String(d.getUTCMinutes()));\n    let secondString = _padZeroes(2, String(d.getUTCSeconds()));\n    let millisecondString = _padZeroes(3, String(d.getUTCMilliseconds()));\n    return hourString + ':' + minuteString + ':' + secondString + '.' + millisecondString + ' UTC';\n}\nfunction _padZeroes(minDesiredLength, numberToPad) {\n    if (numberToPad.length >= minDesiredLength) {\n        return numberToPad;\n    }\n    else {\n        return String('0'.repeat(minDesiredLength) + numberToPad).slice(-minDesiredLength);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OzREQUU0RDs7Ozs7Ozs7OztBQUU1RCx5QkFBeUI7QUFDekIsNkJBQTZCO0FBQzdCLGlDQUFpQztBQUNqQyxpREFBMkM7QUFFM0MsSUFBWSxRQU1YO0FBTkQsV0FBWSxRQUFRO0lBQ25CLDZDQUFXLENBQUE7SUFDWCxxQ0FBTyxDQUFBO0lBQ1AsdUNBQVEsQ0FBQTtJQUNSLHlDQUFTLENBQUE7SUFDVCx1Q0FBUSxDQUFBO0FBQ1QsQ0FBQyxFQU5XLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBTW5CO0FBZ0JELE1BQWEsTUFBTTtJQUFuQjtRQUlTLGlCQUFZLEdBQWUsRUFBRSxDQUFDO0lBMkV2QyxDQUFDO0lBekVBLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHO1FBQ3BDLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELElBQUksQ0FBQyxHQUFXO1FBQ2YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxLQUFLLENBQUMsR0FBVztRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELE9BQU87UUFDTixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FB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QUcsR0FBRyxHQUFHLFlBQVksR0FBRyxHQUFHLEdBQUcsaUJBQWlCLEdBQUcsTUFBTSxDQUFDO0FBQ2hHLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxnQkFBd0IsRUFBRSxXQUFtQjtJQUNoRSxJQUFJLFdBQVcsQ0FBQyxNQUFNLElBQUksZ0JBQWdCLEVBQUU7UUFDM0MsT0FBTyxXQUFXLENBQUM7S0FDbkI7U0FBTTtRQUNOLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0tBQ25GO0FBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb3B5cmlnaHQgKEMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0ICogYXMgbWtkaXJwIGZyb20gJ21rZGlycCc7XG5pbXBvcnQge091dHB1dEV2ZW50fSBmcm9tICcuL2RlYnVnU2Vzc2lvbic7XG5cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcblx0VmVyYm9zZSA9IDAsXG5cdExvZyA9IDEsXG5cdFdhcm4gPSAyLFxuXHRFcnJvciA9IDMsXG5cdFN0b3AgPSA0XG59XG5cbmV4cG9ydCB0eXBlIElMb2dDYWxsYmFjayA9IChvdXRwdXRFdmVudDogT3V0cHV0RXZlbnQpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBJTG9nSXRlbSB7XG5cdG1zZzogc3RyaW5nO1xuXHRsZXZlbDogTG9nTGV2ZWw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ2dlciB7XG5cdGxvZyhtc2c6IHN0cmluZywgbGV2ZWw/OiBMb2dMZXZlbCk6IHZvaWQ7XG5cdHZlcmJvc2UobXNnOiBzdHJpbmcpOiB2b2lkO1xuXHR3YXJuKG1zZzogc3RyaW5nKTogdm9pZDtcblx0ZXJyb3IobXNnOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcblx0cHJpdmF0ZSBfbG9nRmlsZVBhdGhGcm9tSW5pdDogc3RyaW5nO1xuXG5cdHByaXZhdGUgX2N1cnJlbnRMb2dnZXI6IEludGVybmFsTG9nZ2VyO1xuXHRwcml2YXRlIF9wZW5kaW5nTG9nUTogSUxvZ0l0ZW1bXSA9IFtdO1xuXG5cdGxvZyhtc2c6IHN0cmluZywgbGV2ZWwgPSBMb2dMZXZlbC5Mb2cpOiB2b2lkIHtcblx0XHRtc2cgPSBtc2cgKyAnXFxuJztcblx0XHR0aGlzLl93cml0ZShtc2csIGxldmVsKTtcblx0fVxuXG5cdHZlcmJvc2UobXNnOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLmxvZyhtc2csIExvZ0xldmVsLlZlcmJvc2UpO1xuXHR9XG5cblx0d2Fybihtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMubG9nKG1zZywgTG9nTGV2ZWwuV2Fybik7XG5cdH1cblxuXHRlcnJvcihtc2c6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMubG9nKG1zZywgTG9nTGV2ZWwuRXJyb3IpO1xuXHR9XG5cblx0ZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAodGhpcy5fY3VycmVudExvZ2dlcikge1xuXHRcdFx0Y29uc3QgZGlzcG9zZVAgPSB0aGlzLl9jdXJyZW50TG9nZ2VyLmRpc3Bvc2UoKTtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2dnZXIgPSBudWxsO1xuXHRcdFx0cmV0dXJuIGRpc3Bvc2VQO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIGBsb2dgIGFkZHMgYSBuZXdsaW5lLCBgd3JpdGVgIGRvZXNuJ3Rcblx0ICovXG5cdHByaXZhdGUgX3dyaXRlKG1zZzogc3RyaW5nLCBsZXZlbCA9IExvZ0xldmVsLkxvZyk6IHZvaWQge1xuXHRcdC8vIFtudWxsLCB1bmRlZmluZWRdID0+IHN0cmluZ1xuXHRcdG1zZyA9IG1zZyArICcnO1xuXHRcdGlmICh0aGlzLl9wZW5kaW5nTG9nUSkge1xuXHRcdFx0dGhpcy5fcGVuZGluZ0xvZ1EucHVzaCh7IG1zZywgbGV2ZWwgfSk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9jdXJyZW50TG9nZ2VyKSB7XG5cdFx0XHR0aGlzLl9jdXJyZW50TG9nZ2VyLmxvZyhtc2csIGxldmVsKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHRoZSBsb2dnZXIncyBtaW5pbXVtIGxldmVsIHRvIGxvZyBpbiB0aGUgY29uc29sZSwgYW5kIHdoZXRoZXIgdG8gbG9nIHRvIHRoZSBmaWxlLiBMb2cgbWVzc2FnZXMgYXJlIHF1ZXVlZCBiZWZvcmUgdGhpcyBpc1xuXHQgKiBjYWxsZWQgdGhlIGZpcnN0IHRpbWUsIGJlY2F1c2UgbWluTG9nTGV2ZWwgZGVmYXVsdHMgdG8gV2Fybi5cblx0ICovXG5cdHNldHVwKGNvbnNvbGVNaW5Mb2dMZXZlbDogTG9nTGV2ZWwsIF9sb2dGaWxlUGF0aD86IHN0cmluZ3xib29sZWFuLCBwcmVwZW5kVGltZXN0YW1wOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuXHRcdGNvbnN0IGxvZ0ZpbGVQYXRoID0gdHlwZW9mIF9sb2dGaWxlUGF0aCA9PT0gJ3N0cmluZycgP1xuXHRcdFx0X2xvZ0ZpbGVQYXRoIDpcblx0XHRcdChfbG9nRmlsZVBhdGggJiYgdGhpcy5fbG9nRmlsZVBhdGhGcm9tSW5pdCk7XG5cblx0XHRpZiAodGhpcy5fY3VycmVudExvZ2dlcikge1xuXHRcdFx0Y29uc3Qgb3B0aW9ucyA9IHtcblx0XHRcdFx0Y29uc29sZU1pbkxvZ0xldmVsLFxuXHRcdFx0XHRsb2dGaWxlUGF0aCxcblx0XHRcdFx0cHJlcGVuZFRpbWVzdGFtcFxuXHRcdFx0fTtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2dnZXIuc2V0dXAob3B0aW9ucykudGhlbigoKSA9PiB7XG5cdFx0XHRcdC8vIE5vdyB0aGF0IHdlIGhhdmUgYSBtaW5pbXVtIGxvZ0xldmVsLCB3ZSBjYW4gY2xlYXIgb3V0IHRoZSBxdWV1ZSBvZiBwZW5kaW5nIG1lc3NhZ2VzXG5cdFx0XHRcdGlmICh0aGlzLl9wZW5kaW5nTG9nUSkge1xuXHRcdFx0XHRcdGNvbnN0IGxvZ1EgPSB0aGlzLl9wZW5kaW5nTG9nUTtcblx0XHRcdFx0XHR0aGlzLl9wZW5kaW5nTG9nUSA9IG51bGw7XG5cdFx0XHRcdFx0bG9nUS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fd3JpdGUoaXRlbS5tc2csIGl0ZW0ubGV2ZWwpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR9XG5cdH1cblxuXHRpbml0KGxvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2ssIGxvZ0ZpbGVQYXRoPzogc3RyaW5nLCBsb2dUb0NvbnNvbGU/OiBib29sZWFuKTogdm9pZCB7XG5cdFx0Ly8gUmUtaW5pdCwgY3JlYXRlIG5ldyBnbG9iYWwgTG9nZ2VyXG5cdFx0dGhpcy5fcGVuZGluZ0xvZ1EgPSB0aGlzLl9wZW5kaW5nTG9nUSB8fCBbXTtcblx0XHR0aGlzLl9jdXJyZW50TG9nZ2VyID0gbmV3IEludGVybmFsTG9nZ2VyKGxvZ0NhbGxiYWNrLCBsb2dUb0NvbnNvbGUpO1xuXHRcdHRoaXMuX2xvZ0ZpbGVQYXRoRnJvbUluaXQgPSBsb2dGaWxlUGF0aDtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5pbnRlcmZhY2UgSUludGVybmFsTG9nZ2VyT3B0aW9ucyB7XG5cdGNvbnNvbGVNaW5Mb2dMZXZlbDogTG9nTGV2ZWw7XG5cdGxvZ0ZpbGVQYXRoPzogc3RyaW5nO1xuXHRwcmVwZW5kVGltZXN0YW1wPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYW5hZ2VzIGxvZ2dpbmcsIHdoZXRoZXIgdG8gY29uc29sZS5sb2csIGZpbGUsIG9yIFZTIENvZGUgY29uc29sZS5cbiAqIEVuY2Fwc3VsYXRlcyB0aGUgc3RhdGUgc3BlY2lmaWMgdG8gZWFjaCBsb2dnaW5nIHNlc3Npb25cbiAqL1xuY2xhc3MgSW50ZXJuYWxMb2dnZXIge1xuXHRwcml2YXRlIF9taW5Mb2dMZXZlbDogTG9nTGV2ZWw7XG5cdHByaXZhdGUgX2xvZ1RvQ29uc29sZTogYm9vbGVhbjtcblxuXHQvKiogTG9nIGluZm8gdGhhdCBtZWV0cyBtaW5Mb2dMZXZlbCBpcyBzZW50IHRvIHRoaXMgY2FsbGJhY2suICovXG5cdHByaXZhdGUgX2xvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2s7XG5cblx0LyoqIFdyaXRlIHN0ZWFtIGZvciBsb2cgZmlsZSAqL1xuXHRwcml2YXRlIF9sb2dGaWxlU3RyZWFtOiBmcy5Xcml0ZVN0cmVhbTtcblxuXHQvKiogRGlzcG9zZSBhbmQgYWxsb3cgZXhpdCB0byBjb250aW51ZSBub3JtYWxseSAqL1xuXHRwcml2YXRlIGJlZm9yZUV4aXRDYWxsYmFjayA9ICgpID0+IHRoaXMuZGlzcG9zZSgpO1xuXG5cdC8qKiBEaXNwb3NlIGFuZCBleGl0ICovXG5cdHByaXZhdGUgZGlzcG9zZUNhbGxiYWNrO1xuXG5cdC8qKiBXaGV0aGVyIHRvIGFkZCBhIHRpbWVzdGFtcCB0byBtZXNzYWdlcyBpbiB0aGUgbG9nZmlsZSAqL1xuXHRwcml2YXRlIF9wcmVwZW5kVGltZXN0YW1wOiBib29sZWFuO1xuXG5cdGNvbnN0cnVjdG9yKGxvZ0NhbGxiYWNrOiBJTG9nQ2FsbGJhY2ssIGlzU2VydmVyPzogYm9vbGVhbikge1xuXHRcdHRoaXMuX2xvZ0NhbGxiYWNrID0gbG9nQ2FsbGJhY2s7XG5cdFx0dGhpcy5fbG9nVG9Db25zb2xlID0gaXNTZXJ2ZXI7XG5cblx0XHR0aGlzLl9taW5Mb2dMZXZlbCA9IExvZ0xldmVsLldhcm47XG5cblx0XHR0aGlzLmRpc3Bvc2VDYWxsYmFjayA9IChzaWduYWw6IHN0cmluZywgY29kZTogbnVtYmVyKSA9PiB7XG5cdFx0XHR0aGlzLmRpc3Bvc2UoKTtcblxuXHRcdFx0Ly8gRXhpdCB3aXRoIDEyOCArIHZhbHVlIG9mIHRoZSBzaWduYWwgY29kZS5cblx0XHRcdC8vIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfZXhpdF9jb2Rlc1xuXHRcdFx0Y29kZSA9IGNvZGUgfHwgMjsgLy8gU0lHSU5UXG5cdFx0XHRjb2RlICs9IDEyODtcblxuXHRcdFx0cHJvY2Vzcy5leGl0KGNvZGUpO1xuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgc2V0dXAob3B0aW9uczogSUludGVybmFsTG9nZ2VyT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuX21pbkxvZ0xldmVsID0gb3B0aW9ucy5jb25zb2xlTWluTG9nTGV2ZWw7XG5cdFx0dGhpcy5fcHJlcGVuZFRpbWVzdGFtcCA9IG9wdGlvbnMucHJlcGVuZFRpbWVzdGFtcDtcblxuXHRcdC8vIE9wZW4gYSBsb2cgZmlsZSBpbiB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLiBPdmVyd3JpdHRlbiBvbiBlYWNoIHJ1bi5cblx0XHRpZiAob3B0aW9ucy5sb2dGaWxlUGF0aCkge1xuXHRcdFx0aWYgKCFwYXRoLmlzQWJzb2x1dGUob3B0aW9ucy5sb2dGaWxlUGF0aCkpIHtcblx0XHRcdFx0dGhpcy5sb2coYGxvZ0ZpbGVQYXRoIG11c3QgYmUgYW4gYWJzb2x1dGUgcGF0aDogJHtvcHRpb25zLmxvZ0ZpbGVQYXRofWAsIExvZ0xldmVsLkVycm9yKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGhhbmRsZUVycm9yID0gZXJyID0+IHRoaXMuc2VuZExvZyhgRXJyb3IgY3JlYXRpbmcgbG9nIGZpbGUgYXQgcGF0aDogJHtvcHRpb25zLmxvZ0ZpbGVQYXRofS4gRXJyb3I6ICR7ZXJyLnRvU3RyaW5nKCl9XFxuYCwgTG9nTGV2ZWwuRXJyb3IpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgbWtkaXJwUHJvbWlzZShwYXRoLmRpcm5hbWUob3B0aW9ucy5sb2dGaWxlUGF0aCkpO1xuXHRcdFx0XHRcdHRoaXMubG9nKGBWZXJib3NlIGxvZ3MgYXJlIHdyaXR0ZW4gdG86XFxuYCwgTG9nTGV2ZWwuV2Fybik7XG5cdFx0XHRcdFx0dGhpcy5sb2cob3B0aW9ucy5sb2dGaWxlUGF0aCArICdcXG4nLCBMb2dMZXZlbC5XYXJuKTtcblxuXHRcdFx0XHRcdHRoaXMuX2xvZ0ZpbGVTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShvcHRpb25zLmxvZ0ZpbGVQYXRoKTtcblx0XHRcdFx0XHR0aGlzLmxvZ0RhdGVUaW1lKCk7XG5cdFx0XHRcdFx0dGhpcy5zZXR1cFNodXRkb3duTGlzdGVuZXJzKCk7XG5cdFx0XHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbS5vbignZXJyb3InLCBlcnIgPT4ge1xuXHRcdFx0XHRcdFx0aGFuZGxlRXJyb3IoZXJyKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0aGFuZGxlRXJyb3IoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgbG9nRGF0ZVRpbWUoKTogdm9pZCB7XG5cdFx0bGV0IGQgPSBuZXcgRGF0ZSgpO1xuXHRcdGxldCBkYXRlU3RyaW5nID0gZC5nZXRVVENGdWxsWWVhcigpICsgJy0nICsgYCR7ZC5nZXRVVENNb250aCgpICsgMX1gICsgJy0nICsgZC5nZXRVVENEYXRlKCk7XG5cdFx0Y29uc3QgdGltZUFuZERhdGVTdGFtcCA9IGRhdGVTdHJpbmcgKyAnLCAnICsgZ2V0Rm9ybWF0dGVkVGltZVN0cmluZygpO1xuXHRcdHRoaXMubG9nKHRpbWVBbmREYXRlU3RhbXAgKyAnXFxuJywgTG9nTGV2ZWwuVmVyYm9zZSwgZmFsc2UpO1xuXHR9XG5cblx0cHJpdmF0ZSBzZXR1cFNodXRkb3duTGlzdGVuZXJzKCk6IHZvaWQge1xuXHRcdHByb2Nlc3MuYWRkTGlzdGVuZXIoJ2JlZm9yZUV4aXQnLCB0aGlzLmJlZm9yZUV4aXRDYWxsYmFjayk7XG5cdFx0cHJvY2Vzcy5hZGRMaXN0ZW5lcignU0lHVEVSTScsIHRoaXMuZGlzcG9zZUNhbGxiYWNrKTtcblx0XHRwcm9jZXNzLmFkZExpc3RlbmVyKCdTSUdJTlQnLCB0aGlzLmRpc3Bvc2VDYWxsYmFjayk7XG5cdH1cblxuXHRwcml2YXRlIHJlbW92ZVNodXRkb3duTGlzdGVuZXJzKCk6IHZvaWQge1xuXHRcdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoJ2JlZm9yZUV4aXQnLCB0aGlzLmJlZm9yZUV4aXRDYWxsYmFjayk7XG5cdFx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcignU0lHVEVSTScsIHRoaXMuZGlzcG9zZUNhbGxiYWNrKTtcblx0XHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCdTSUdJTlQnLCB0aGlzLmRpc3Bvc2VDYWxsYmFjayk7XG5cdH1cblxuXHRwdWJsaWMgZGlzcG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHR0aGlzLnJlbW92ZVNodXRkb3duTGlzdGVuZXJzKCk7XG5cdFx0XHRpZiAodGhpcy5fbG9nRmlsZVN0cmVhbSkge1xuXHRcdFx0XHR0aGlzLl9sb2dGaWxlU3RyZWFtLmVuZChyZXNvbHZlKTtcblx0XHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbSA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgbG9nKG1zZzogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwsIHByZXBlbmRUaW1lc3RhbXAgPSB0cnVlKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX21pbkxvZ0xldmVsID09PSBMb2dMZXZlbC5TdG9wKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGxldmVsID49IHRoaXMuX21pbkxvZ0xldmVsKSB7XG5cdFx0XHR0aGlzLnNlbmRMb2cobXNnLCBsZXZlbCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2xvZ1RvQ29uc29sZSkge1xuXHRcdFx0Y29uc3QgbG9nRm4gPVxuXHRcdFx0XHRsZXZlbCA9PT0gTG9nTGV2ZWwuRXJyb3IgPyBjb25zb2xlLmVycm9yIDpcblx0XHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLldhcm4gPyBjb25zb2xlLndhcm4gOlxuXHRcdFx0XHRudWxsO1xuXG5cdFx0XHRpZiAobG9nRm4pIHtcblx0XHRcdFx0bG9nRm4odHJpbUxhc3ROZXdsaW5lKG1zZykpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIGFuIGVycm9yLCBwcmVwZW5kIHdpdGggJ1tFcnJvcl0nXG5cdFx0aWYgKGxldmVsID09PSBMb2dMZXZlbC5FcnJvcikge1xuXHRcdFx0bXNnID0gYFske0xvZ0xldmVsW2xldmVsXX1dICR7bXNnfWA7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3ByZXBlbmRUaW1lc3RhbXAgJiYgcHJlcGVuZFRpbWVzdGFtcCkge1xuXHRcdFx0bXNnID0gJ1snICsgZ2V0Rm9ybWF0dGVkVGltZVN0cmluZygpICsgJ10gJyArIG1zZztcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbG9nRmlsZVN0cmVhbSkge1xuXHRcdFx0dGhpcy5fbG9nRmlsZVN0cmVhbS53cml0ZShtc2cpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc2VuZExvZyhtc2c6IHN0cmluZywgbGV2ZWw6IExvZ0xldmVsKTogdm9pZCB7XG5cdFx0Ly8gVHJ1bmNhdGUgbG9uZyBtZXNzYWdlcywgdGhleSBjYW4gaGFuZyBWUyBDb2RlXG5cdFx0aWYgKG1zZy5sZW5ndGggPiAxNTAwKSB7XG5cdFx0XHRjb25zdCBlbmRzSW5OZXdsaW5lID0gISFtc2cubWF0Y2goLyhcXG58XFxyXFxuKSQvKTtcblx0XHRcdG1zZyA9IG1zZy5zdWJzdHIoMCwgMTUwMCkgKyAnWy4uLl0nO1xuXHRcdFx0aWYgKGVuZHNJbk5ld2xpbmUpIHtcblx0XHRcdFx0bXNnID0gbXNnICsgJ1xcbic7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2xvZ0NhbGxiYWNrKSB7XG5cdFx0XHRjb25zdCBldmVudCA9IG5ldyBMb2dPdXRwdXRFdmVudChtc2csIGxldmVsKTtcblx0XHRcdHRoaXMuX2xvZ0NhbGxiYWNrKGV2ZW50KTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbWtkaXJwUHJvbWlzZShmb2xkZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdG1rZGlycChmb2xkZXIsIGVyciA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJlamVjdChlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuZXhwb3J0IGNsYXNzIExvZ091dHB1dEV2ZW50IGV4dGVuZHMgT3V0cHV0RXZlbnQge1xuXHRjb25zdHJ1Y3Rvcihtc2c6IHN0cmluZywgbGV2ZWw6IExvZ0xldmVsKSB7XG5cdFx0Y29uc3QgY2F0ZWdvcnkgPVxuXHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLkVycm9yID8gJ3N0ZGVycicgOlxuXHRcdFx0bGV2ZWwgPT09IExvZ0xldmVsLldhcm4gPyAnY29uc29sZScgOlxuXHRcdFx0J3N0ZG91dCc7XG5cdFx0c3VwZXIobXNnLCBjYXRlZ29yeSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1MYXN0TmV3bGluZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBzdHIucmVwbGFjZSgvKFxcbnxcXHJcXG4pJC8sICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVGltZVN0cmluZygpOiBzdHJpbmcge1xuXHRsZXQgZCA9IG5ldyBEYXRlKCk7XG5cdGxldCBob3VyU3RyaW5nID0gX3BhZFplcm9lcygyLCBTdHJpbmcoZC5nZXRVVENIb3VycygpKSk7XG5cdGxldCBtaW51dGVTdHJpbmcgPSBfcGFkWmVyb2VzKDIsIFN0cmluZyhkLmdldFVUQ01pbnV0ZXMoKSkpO1xuXHRsZXQgc2Vjb25kU3RyaW5nID0gX3BhZFplcm9lcygyLCBTdHJpbmcoZC5nZXRVVENTZWNvbmRzKCkpKTtcblx0bGV0IG1pbGxpc2Vjb25kU3RyaW5nID0gX3BhZFplcm9lcygzLCBTdHJpbmcoZC5nZXRVVENNaWxsaXNlY29uZHMoKSkpO1xuXHRyZXR1cm4gaG91clN0cmluZyArICc6JyArIG1pbnV0ZVN0cmluZyArICc6JyArIHNlY29uZFN0cmluZyArICcuJyArIG1pbGxpc2Vjb25kU3RyaW5nICsgJyBVVEMnO1xufVxuXG5mdW5jdGlvbiBfcGFkWmVyb2VzKG1pbkRlc2lyZWRMZW5ndGg6IG51bWJlciwgbnVtYmVyVG9QYWQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdGlmIChudW1iZXJUb1BhZC5sZW5ndGggPj0gbWluRGVzaXJlZExlbmd0aCkge1xuXHRcdHJldHVybiBudW1iZXJUb1BhZDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gU3RyaW5nKCcwJy5yZXBlYXQobWluRGVzaXJlZExlbmd0aCkgKyBudW1iZXJUb1BhZCkuc2xpY2UoLW1pbkRlc2lyZWRMZW5ndGgpO1xuXHR9XG59XG4iXX0=","import { MINode } from './mi_parse';\nimport { DebugProtocol } from 'vscode-debugprotocol/lib/debugProtocol';\n\nexport interface Breakpoint {\n    file?: string;\n    line?: number;\n    raw?: string;\n    condition: string;\n    countCondition?: string;\n    number?: number;\n}\n\nexport interface Stack {\n    level: number;\n    address: string;\n    function: string;\n    fileName: string;\n    file: string;\n    line: number;\n}\n\nexport interface Variable {\n    name: string;\n    valueStr: string;\n    type: string;\n    raw?: any;\n}\n\nexport interface IBackend {\n    connect(cwd: string, executable: string, target: string[]): Thenable<any>;\n    stop();\n    detach();\n    interrupt(arg: string): Thenable<boolean>;\n    continue(threadId: number): Thenable<boolean>;\n    next(threadId: number, instruction: boolean): Thenable<boolean>;\n    step(threadId: number, instruction: boolean): Thenable<boolean>;\n    stepOut(threadId: number): Thenable<boolean>;\n    addBreakPoint(breakpoint: Breakpoint): Promise<Breakpoint>;\n    removeBreakpoints(breakpoints: number[]): Promise<boolean>;\n    getStack(threadId: number, startLevel: number, maxLevels: number): Thenable<Stack[]>;\n    getStackVariables(thread: number, frame: number): Thenable<Variable[]>;\n    evalExpression(name: string, threadId: number, frameId: number): Thenable<any>;\n    isReady(): boolean;\n    changeVariable(name: string, rawValue: string): Thenable<any>;\n    examineMemory(from: number, to: number): Thenable<any>;\n}\n\nexport class VariableObject {\n    public name: string;\n    public exp: string;\n    public numchild: number;\n    public type: string;\n    public value: string;\n    public threadId: string;\n    public frozen: boolean;\n    public dynamic: boolean;\n    public displayhint: string;\n    public hasMore: boolean;\n    public id: number;\n    public fullExp: string;\n    public children: {[name: string]: string};\n    constructor(node: any) {\n        this.name = MINode.valueOf(node, 'name');\n        this.exp = MINode.valueOf(node, 'exp');\n        this.numchild = parseInt(MINode.valueOf(node, 'numchild'));\n        this.type = MINode.valueOf(node, 'type');\n        this.value = MINode.valueOf(node, 'value');\n        this.threadId = MINode.valueOf(node, 'thread-id');\n        this.frozen = !!MINode.valueOf(node, 'frozen');\n        this.dynamic = !!MINode.valueOf(node, 'dynamic');\n        this.displayhint = MINode.valueOf(node, 'displayhint');\n        this.children = {};\n        // TODO: use has_more when it's > 0\n        this.hasMore = !!MINode.valueOf(node, 'has_more');\n    }\n\n    public applyChanges(node: MINode) {\n        this.value = MINode.valueOf(node, 'value');\n        if (!!MINode.valueOf(node, 'type_changed')) {\n            this.type = MINode.valueOf(node, 'new_type');\n        }\n        this.dynamic = !!MINode.valueOf(node, 'dynamic');\n        this.displayhint = MINode.valueOf(node, 'displayhint');\n        this.hasMore = !!MINode.valueOf(node, 'has_more');\n    }\n\n    public isCompound(): boolean {\n        return this.numchild > 0 ||\n            this.value === '{...}' ||\n            (this.dynamic && (this.displayhint === 'array' || this.displayhint === 'map'));\n    }\n\n    public toProtocolVariable(): DebugProtocol.Variable {\n        const res: DebugProtocol.Variable = {\n            name: this.exp,\n            evaluateName: this.fullExp || this.exp,\n            value: (this.value === void 0) ? '<unknown>' : this.value,\n            type: this.type,\n            presentationHint: {\n                kind: this.displayhint\n            },\n            variablesReference: this.id\n        };\n        if (this.displayhint) {\n            // res.kind = this.displayhint;\n        }\n        return res;\n    }\n}\n\n// from https://gist.github.com/justmoon/15511f92e5216fa2624b#gistcomment-1928632\nexport interface MIError extends Error {\n    readonly name: string;\n    readonly message: string;\n    readonly source: string;\n}\n\nexport interface MIErrorConstructor {\n    readonly prototype: MIError;\n    new (message: string, source: string): MIError;\n}\n\nexport const MIError: MIErrorConstructor = class MIError {\n    public readonly name: string;\n    public readonly message: string;\n    public readonly source: string;\n    public constructor(message: string, source: string) {\n        Object.defineProperty(this, 'name', {\n            get: () => (this.constructor as any).name\n        });\n        Object.defineProperty(this, 'message', {\n            get: () => message\n        });\n        Object.defineProperty(this, 'source', {\n            get: () => source\n        });\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n    public toString() {\n        return `${this.message} (from ${this.source})`;\n    }\n} as any;\nObject.setPrototypeOf(MIError as any, Object.create(Error.prototype));\nMIError.prototype.constructor = MIError;\n","module.exports = require(\"timers\");","// Author to Blame: haneefdm on github\n\nimport * as tcpPortUsed from 'tcp-port-used';\nimport os = require('os');\nimport net = require('net');\nimport child_process = require('child_process');\nimport command_exists = require('command-exists');\n\nexport class TcpPortScanner {\n    //\n    // Strategies: There are two ways we can check/look for open ports or get status\n    //\n    // 1. Client: Try to see if we can connect to that port. This is the preferred method\n    //    because you can probe for remote hosts as well but on Windows each probe on an free\n    //    port takes 1 second even on localhost\n    //\n    // 2. Server: See if we can create a server on that port. It is super fast on all platforms,\n    //    but, we can only do this on a localhost. We use this method is we can quickly determine\n    //    if it is a localhost. We also look for ports on its aliases because, you can\n    //    run servers on some aliases\n    //\n    //    CAVEAT: First time you use it, you might get a dialog box warning user that a program\n    //    is creating a server you will have to allow it. Firewall rules. Connection still succeeds\n    //    unless there is a compony policy\n    //\n\n    public static ForceClientMethod = false;\n    public static readonly DefaultHost = '0.0.0.0';\n\n    /**\n     * Checks to see if the port is in use by creating a server on that port. You should use the function\n     * `isPortInUseEx()` if you want to do a more exhaustive check or a general purpose use for any host\n     * \n     * @param port port to use. Must be > 0 and <= 65535\n     * @param host host ip address to use. This should be an alias to a localhost. Can be null or empty string\n     * in which case the Node.js default rules apply.\n     */\n    public static isPortInUse(port: number, host: string): Promise<boolean> {\n        return new Promise((resolve, reject) => {\n            const server = net.createServer((c) => {\n            });\n            server.once('error', (e) => {\n                const code: string = (e as any).code;\n                if (code && (code === 'EADDRINUSE') || (code === 'EACCES')) {\n                    // console.log(`port ${host}:${port} is used`, code);\n                    if (code === 'EACCES') {\n                        // Technically, EACCES means permission denied, so we consider it as used\n                        console.log(`port ${host}:${port} returned code EACCES?`);\n                    }\n                    resolve(true);\t\t\t\t// Port in use\n                } else {\n                    // This should never happen so, log it always\n                    console.log(`port ${host}:${port} unexpected error `, e);\n                    reject(e);\t\t\t\t\t// some other failure\n                }\n                server.close();\n            });\n\n            server.listen(port, host, () => {\n                // Port not in use\n                // console.log(`port ${host}:${port} is in free`);\n                resolve(false);\n                server.close();\n            });\n        });\n    }\n\n    /**\n     * Checks to see if the port is in use by creating a server on that port if a localhost or alias\n     * or try to connect to an existing server.\n     * \n     * If we think it is a localhost, It tries to make sure it and its aliases are all free. For\n     * instance 0.0.0.0, 127.0.0.1, ::1 are true aliases on some systems and distinct ones on others.\n     * \n     * @param port port to use. Must be > 0 and <= 65535\n     * @param host host ip address to use.\n     */\n    public static isPortInUseEx(port: number, host: string): Promise<boolean> {\n        if (TcpPortScanner.shouldUseServerMethod(host)) {\n            const tries = TcpPortScanner.getLocalHostAliases();\n            let ix = 0;\n            // We don't use Promise.all method because we are trying to create a bunch of\n            // servers on the same machine/port, they could interfere with each other if you\n            // do it asynchronously/parallel.\n            // There is also a slight benefit that we can bail early if a port is in use\n            return new Promise((resolve, reject) => {\n                function next(port: number, host: string) {\n                    TcpPortScanner.isPortInUse(port, host).then((inUse) => {\n                        if (inUse) {\n                            resolve(inUse);\n                        } else if (++ix === tries.length) {\n                            resolve(false);\n                        } else {\n                            next(port, tries[ix]);\n                        }\n                    }).catch((err) => {\n                        reject(err);\n                    });\n                }\n                next(port, tries[ix]);\n            });\n        } else {\n            // This function is too slow on windows when checking on an open port.\n            return tcpPortUsed.check(port, host);\n        }\n    }\n\n    /**\n     * Scan for free ports (no one listening) on the specified host.\n     * Don't like the interface but trying to keep compatibility with `portastic.find()`. Unlike\n     * `portastic` the default ports to retrieve is 1 and we also have the option of returning\n     * consecutive ports\n     * \n     * Detail: While this function is async, promises are chained to find open ports recursively\n     * \n     * @param0 \n     * @param host Use any string that is a valid host name or ip address\n     * @return a Promise with an array of ports or null when cb is used\n     */\n    public static findFreePorts(\n        { min, max, retrieve = 1, consecutive = false, doLog = false }:\n            {\n                min: number;\t\t\t// Starting port number\n                max: number;\t\t\t// Ending port number (inclusive)\n                retrieve?: number;\t\t// Number of ports needed\n                consecutive?: boolean;\n                doLog?: boolean;\n            },\n        host = TcpPortScanner.DefaultHost): Promise<number[]> | null {\n        let freePorts = [];\n        const busyPorts = [];           // Mostly for debug\n        const needed = retrieve;\n        const functor = TcpPortScanner.shouldUseServerMethod(host) ? TcpPortScanner.isPortInUseEx : tcpPortUsed.tcpPortUsed;\n        return new Promise((resolve, reject) => {\n            if (needed <= 0) {\n                resolve(freePorts);\n                return;\n            }\n            function next(port: number, host: string) {\n                const startTine = process.hrtime();\n                functor(port, host).then((inUse) => {\n                    const endTime = process.hrtime(startTine);\n                    if (inUse) {\n                        busyPorts.push(port);\n                    } else {\n                        if (consecutive && (freePorts.length > 0) &&\n                            (port !== (1 + freePorts[freePorts.length - 1]))) {\n                            if (doLog) {\n                                console.log('TcpPortHelper.find: Oops, reset for consecutive ports requirement');\n                            }\n                            freePorts = [];\n                        }\n                        freePorts.push(port);\n                    }\n                    if (doLog) {\n                        const ms = (endTime[1] / 1e6).toFixed(2);\n                        const t = `${endTime[0]}s ${ms}ms`;\n                        console.log(`TcpPortHelper.find Port ${host}:${port} ` +\n                            (inUse ? 'busy' : 'free') + `, Found: ${freePorts.length} of ${needed} needed ${t}`);\n                    }\n                    if (freePorts.length === needed) {\n                        resolve(freePorts);\n                    } else if (port < max) {\n                        next(port + 1, host);\n                    } else {\n                        reject(new Error(`Only found ${freePorts.length} of ${needed} ports`));\n                    }\n                }).catch((err) => {\n                    reject(err);\n                });\n            }\n            next(min, host);\t\t// Start the hunt\n        });\n    }\n\n    /**\n     * @deprecated This a synchronous version of `findFreePorts()`. Use it instead. This function\n     * maybe slightly faster but will not play nice in a truely async. system.\n     */\n    public static async findFreePortsSync(\n        { min, max, retrieve = 1, consecutive = false, doLog = false }:\n            {\n                min: number;\t\t\t// Starting port number\n                max: number;\t\t\t// Ending port number (inclusive)\n                retrieve?: number;\t\t// Number of ports needed\n                consecutive?: boolean;\n                doLog?: boolean;\n            },\n        host = TcpPortScanner.DefaultHost, cb = null): Promise<number[]> {\n        let freePorts = [];\n        const busyPorts = [];\n        const needed = retrieve;\n        let error = null;\n        if (needed <= 0) {\n            return new Promise((resolve) => { resolve(freePorts); });\n        }\n        const functor = TcpPortScanner.shouldUseServerMethod(host) ? TcpPortScanner.isPortInUseEx : tcpPortUsed.tcpPortUsed;\n        for (let port = min; port <= max; port++) {\n            if (needed <= 0) {\n                return;\n            }\n            const startTime = process.hrtime();\n            await functor(port, host)\n                .then((inUse) => {\n                    const endTime = process.hrtime(startTime);\n                    if (inUse) {\n                        busyPorts.push(port);\n                    } else {\n                        if (consecutive && (freePorts.length > 0) &&\n                            (port !== (1 + freePorts[freePorts.length - 1]))) {\n                            if (doLog) {\n                                console.log('TcpPortHelper.finnd: Oops, reset for consecutive requirement');\n                            }\n                            freePorts = [];\n                        }\n                        freePorts.push(port);\n                    }\n                    if (doLog) {\n                        const ms = (endTime[1] / 1e6).toFixed(2);\n                        const t = `${endTime[0]}s ${ms}ms`;\n                        console.log(`TcpPortHelper.find Port ${host}:${port} ` +\n                            (inUse ? 'busy' : 'free') + `, Found: ${freePorts.length} of ${needed} needed ` + t);\n                    }\n                }, (err) => {\n                    if (doLog) {\n                        console.error('Error on check:', err.message);\n                    }\n                    error = err;\n                });\n            if (error || (freePorts.length === needed)) {\n                break;\n            }\n        }\n        if (!cb) {\n            return new Promise((resolve, reject) => {\n                if (!error && (freePorts.length === needed)) {\n                    resolve(freePorts);\n                } else {\n                    reject(error ? error : `Only found ${freePorts.length} of ${needed} ports`);\n                }\n            });\n        } else {\n            if (!error && (freePorts.length === needed)) {\n                cb(freePorts);\n            }\n            return null;\n        }\n    }\n\n    protected static OSNetProbeCmd = '';\n    protected static OSNetProbeCmdRegexpStr = '';\n    protected static getOsNetProbeCmd(): string {\n        /**\n         * Notes:\n         * `netstat` does not exist on Linux by default. Replacement is `ss`\n         * `netstat` and `ss` are faster than lsof. netstat on mac is super fast.\n         * what program to use is baed of platform and availability\n         */\n        if (TcpPortScanner.OSNetProbeCmd === '') {\n            const commandExistsSync = command_exists.sync;\n            const platform = os.platform();\n            const isWin = platform === 'win32';\n            const isMac = platform === 'darwin';\n            /**\n             * for `netstat` and `ss` We are looking for things that are in the 'local address' field for\n             * ports that are listening. Technically, you can have multiple matches because the local machine\n             * can have multiple addresses\n             */\n            if (!isWin && !isMac && commandExistsSync('ss')) {\n                TcpPortScanner.OSNetProbeCmd = 'ss -nlt';\n                TcpPortScanner.OSNetProbeCmdRegexpStr = 'LISTEN\\\\s+[^\\\\n]*:XYZZY\\\\s+[^\\\\s]+[^\\\\n]*\\\\n';\n            } else if (commandExistsSync('netstat')) {\n                // On windows, if you ask for tcp it will only give you ipv4. On Mac, it gives both, so we have to\n                // use the -f on Mac\n                TcpPortScanner.OSNetProbeCmd = isWin ? 'netstat -nap tcp' : 'netstat -nap tcp -f inet';\n                // netstat output varies wildly, so be careful\n                TcpPortScanner.OSNetProbeCmdRegexpStr = '[tT][cC][pP][^\\\\n]*[:\\\\.]XYZZY\\\\s+[^\\\\s]+\\\\s+LISTEN[^\\\\n]*\\\\n';\n            } else if (isMac && commandExistsSync('lsof')) {\n                // This is the slowest of all but probably the most consistent\n                TcpPortScanner.OSNetProbeCmd = 'lsof -n -iTCP:XYZZY -sTCP:LISTEN';\n                TcpPortScanner.OSNetProbeCmdRegexpStr = 'IPv4[^\\\\n]+:XYZZY\\\\s[^\\\\n]*\\\\(LISTEN\\\\)[^\\\\n]*\\\\n';\n            } else {\n                TcpPortScanner.OSNetProbeCmd = '?';\n            }\n        }\n        return TcpPortScanner.OSNetProbeCmd;\n    }\n\n    /**\n     * This is the most unobtrusive way of figuring out if a port is open. It does not try\n     * to create servers or clients but use system commands to figure out if a port is open\n     * On Mac, the runtime is not bad 1.5 to 2X of the time take to do it the other ways.\n     * On windows, surprise!, it is an order of magnititude slower.\n     * \n     * But, it is also not bulletproof. depends on version of the OS and if some things do\n     * not get installed by default. This is limited to looking for IPv4 addresses\n     * \n     * @param port look for port to be open. don't matter what\n     * @param retryTimeMs retry after that many milliseconds.\n     * @param timeOutMs max timeout\n     * @param fallback Fallback to using the intrusive method if proper OS command is not available\n     */\n    public static waitForPortOpenOSUtl(port: number, retryTimeMs = 100, timeOutMs = 5000, fallback = true, doLog = true): Promise<void> {\n        const cmd = TcpPortScanner.getOsNetProbeCmd().replace('XYZZY', port.toString());\n        if (doLog) { console.log(cmd); }\n        if (fallback && (cmd === '?')) {\n            return TcpPortScanner.waitForPortOpen(port, TcpPortScanner.DefaultHost, true, retryTimeMs, timeOutMs);\n        }\n\n        const rexStr = TcpPortScanner.OSNetProbeCmdRegexpStr.replace('XYZZY', port.toString());\n        if (doLog) { console.log(rexStr); }\n        const rex = new RegExp(rexStr);\n        const startTimeMs = Date.now();\n        let first = true;\n        retryTimeMs = Math.max(retryTimeMs, 1);\n        return new Promise(function tryAgain(resolve, reject) {\n            if (cmd === '?') {\n                return reject(new Error('failed'));\n            }\n            child_process.exec(cmd, (error, stdout) => {\n                if (error && !cmd.startsWith('lsof')) {\n                    // lsof returns an error code if nothing matches. May match later\n                    return reject(error);\n                } else if (rex.test(stdout)) {\n                    if (doLog) { console.log(stdout.match(rex).join('\\n')); }\n                    return resolve();\n                } else {\n                    if (first) {\n                        // if (doLog) { console.log(stdout); }\n                        first = false;\n                    }\n                    const t = Date.now() - startTimeMs;\n                    if (t < timeOutMs) {\n                        if (doLog) { console.log(`waitForPortOpenOSUtl: Setting timeout for ${retryTimeMs}ms, curTime = ${t}ms`); }\n                        setTimeout(() => {\n                            tryAgain(resolve, reject);\n                        }, retryTimeMs);\n                    } else {\n                        return reject(new Error('timeout'));\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * This is the workhorse function for all kinds of status queries on port:localhost\n     * \n     * @param opts \n     */\n    protected static waitForPortStatusEx(opts: PortStatusArgs): Promise<void> {\n        opts.startTimeMs = Date.now();\n        const functor = opts.checkLocalHostAliases ? TcpPortScanner.isPortInUseEx : TcpPortScanner.isPortInUse;\n        return new Promise(function tryAgain(resolve, reject) {\n            functor(opts.port, opts.host)\n                .then((inUse) => {\n                    // console.log(`${functor.name} returned ${inUse}`)\n                    if (inUse === opts.desiredStatus) {\t// status match\n                        return resolve();\n                    } else {\n                        throw new Error('tryagain');\n                    }\n                }).catch((e) => {\n                    if (e.message !== 'tryagain') {\n                        return reject(e);\n                    } else {\n                        const t = Date.now() - opts.startTimeMs;\n                        if (t < opts.timeOutMs) {\n                            // console.log(`Setting timeout for ${opts.retryTimeMs}ms, curTime = ${t}ms`);\n                            setTimeout(() => {\n                                tryAgain(resolve, reject);\n                            }, opts.retryTimeMs);\n                        } else {\n                            return reject(new Error('timeout'));\n                        }\n                    }\n                });\n        });\n    }\n\n    /**\n     * Wait for particular port status. We always do a minium of one try regardless of timeouts, so setting a timeout\n     * of 0 means only one try\n     * \n     * @param inUse true means wait for port to be ready to use. False means wait for port to close\n     * @return a promise. On failure, the error is Error('timeout') for a true timeout or something else\n     * for other failures\n     */\n    public static waitForPortStatus(\n        port, host = TcpPortScanner.DefaultHost, inUse = true,\n        checkLocalHostAliaes = true, retryTimeMs = 100, timeOutMs = 5000): Promise<void> {\n        retryTimeMs = Math.max(retryTimeMs, 1);\n        if (!TcpPortScanner.shouldUseServerMethod(host)) {\n            return tcpPortUsed.waitForStatus(port, host, inUse, retryTimeMs, timeOutMs);\n        } else {\n            const opts = new PortStatusArgs(inUse, port, host, checkLocalHostAliaes, retryTimeMs, timeOutMs);\n            return TcpPortScanner.waitForPortStatusEx(opts);\n        }\n    }\n\n    /**\n     * Wait for port to open. We always do a minium of one try regardless of timeouts, so setting a timeout\n     * of 0 means only one try\n     * \n     * @return a promise. On failure, the error is Error('timeout') for a true timeout or something else\n     * for other failures\n     */\n    public static waitForPortOpen(\n        port, host = TcpPortScanner.DefaultHost, checkLocalHostAliaes = true,\n        retryTimeMs = 100, timeOutMs = 5000): Promise<void> {\n        retryTimeMs = Math.max(retryTimeMs, 1);\n        if (!TcpPortScanner.shouldUseServerMethod(host)) {\n            return tcpPortUsed.waitUntilUsedOnHost(port, host, retryTimeMs, timeOutMs);\n        } else {\n            const opts = new PortStatusArgs(true, port, host, checkLocalHostAliaes, retryTimeMs, timeOutMs);\n            return TcpPortScanner.waitForPortStatusEx(opts);\n        }\n    }\n\n    /**\n     * Wait for port to close. We always do a minium of one try regardless of timeouts, so setting a timeout\n     * of 0 means only one try\n     * \n     * @return a promise. On failure, the error is Error('timeout') for a true timeout or something else\n     * for other failures\n     */\n    public static waitForPortClosed(\n        port, host = TcpPortScanner.DefaultHost, checkLocalHostAliaes = true,\n        retryTimeMs = 100, timeOutMs = 5000): Promise<void> {\n        retryTimeMs = Math.max(retryTimeMs, 1);\n        if (!TcpPortScanner.shouldUseServerMethod(host)) {\n            return tcpPortUsed.waitUntilFreeOnHost(port, host, retryTimeMs, timeOutMs);\n        } else {\n            const opts = new PortStatusArgs(false, port, host, checkLocalHostAliaes, retryTimeMs, timeOutMs);\n            return TcpPortScanner.waitForPortStatusEx(opts);\n        }\n    }\n\n    // we cache only ipv4 address and the default ipv6 address for the localhost. All ipv6 aliases\n    // seem to be true aliases on all systems but ipv4 aliases may or may not be.\n    private static localHostAliases: string[] = [];\n    protected static getLocalHostAliases(): string[] {\n        if (TcpPortScanner.localHostAliases.length === 0) {\n            // On Unixes, the first two are treated like true aliases but on Windows\n            // you have distint servers on all of them. So, try everything.\n            TcpPortScanner.localHostAliases = ['0.0.0.0', '127.0.0.1', ''];\n            const ifaces = os.networkInterfaces();\n            Object.keys(ifaces).forEach((ifname) => {\n                ifaces[ifname].forEach((iface) => {\n                    // Skip external interfaces (VPN tunnels, actual IP, etc). Only want loopbacks\n                    if (iface.internal && ('ipv4' === iface.family.toLowerCase())) {\n                        if (TcpPortScanner.localHostAliases.indexOf(iface.address) === -1) {\n                            TcpPortScanner.localHostAliases.push(iface.address);\n                        }\n                    }\n                });\n            });\n            // console.log(aliases.join(','));\n        }\n        return TcpPortScanner.localHostAliases;\n    }\n\n   /**\n    * quick/dirty way of figuring out if this is a local host. guaranteed way would have\n    * been to do a dns.resolve() or dns.lookup(). server method only works for local hosts.\n    * Client method works for anything but super slow on windows.\n    * \n    * FIXME: should we use server-method only on windows?\n    * \n    * @param host an ip-address\n    */\n    protected static shouldUseServerMethod(host: string): boolean {\n        if (TcpPortScanner.ForceClientMethod) {\n            return false;\n        }\n        return (!host || (host.toLowerCase() === 'localhost') ||\n            (TcpPortScanner.getLocalHostAliases().indexOf(host) >= 0));\n    }\n}\n\nexport class PortStatusArgs {\n    public startTimeMs: number = 0;\n    constructor(\n        public readonly desiredStatus: boolean,\t// true means looking for open\n        public readonly port: number,\n        public readonly host: string = TcpPortScanner.DefaultHost,\n        public readonly checkLocalHostAliases = true,\n        public readonly retryTimeMs: number = 100,\n        public readonly timeOutMs: number = 5000\n    ) {\n        this.retryTimeMs = Math.max(this.retryTimeMs, 1);\n    }\n}\n","module.exports = require(\"util\");","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\treturn createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","module.exports = require(\"crypto\");","import { DisassemblyInstruction } from './common';\n\nexport enum SymbolType {\n    Function,\n    File,\n    Object,\n    Normal\n}\n\nexport enum SymbolScope {\n    Local,\n    Global,\n    Neither,\n    Both\n}\n\nexport interface SymbolInformation {\n    address: number;\n    length: number;\n    name: string;\n    section: string;\n    type: SymbolType;\n    origScope: SymbolScope;     // This was what was parsed\n    scope: SymbolScope;\n    file: string;                // The official file name\n    fileMaps: string[];          // Set of files this symbol could match\n    instructions: DisassemblyInstruction[];\n    hidden: boolean;\n}\n","import { DebugSession, InitializedEvent, TerminatedEvent, ContinuedEvent, OutputEvent, Thread, ThreadEvent, StackFrame, Scope, Source, Handles, Event } from 'vscode-debugadapter';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { MI2 } from './backend/mi2/mi2';\nimport { hexFormat } from './frontend/utils';\nimport { Breakpoint, IBackend, Variable, VariableObject, MIError } from './backend/backend';\nimport { TelemetryEvent, ConfigurationArguments, StoppedEvent, GDBServerController, AdapterOutputEvent, SWOConfigureEvent, DisassemblyInstruction } from './common';\nimport { GDBServer } from './backend/server';\nimport { MINode } from './backend/mi_parse';\nimport { expandValue, isExpandable } from './backend/gdb_expansion';\nimport * as os from 'os';\nimport * as net from 'net';\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport * as hasbin from 'hasbin';\nimport * as crypto from 'crypto';\n\nimport { setTimeout } from 'timers';\nimport { EventEmitter } from 'events';\n\nimport { JLinkServerController } from './jlink';\nimport { OpenOCDServerController } from './openocd';\nimport { STUtilServerController } from './stutil';\nimport { PyOCDServerController } from './pyocd';\nimport { BMPServerController } from './bmp';\nimport { PEServerController } from './pemicro';\nimport { QEMUServerController } from './qemu';\nimport { ExternalServerController } from './external';\nimport { SymbolTable } from './backend/symbols';\nimport { SymbolInformation, SymbolScope, SymbolType } from './symbols';\nimport { TcpPortScanner } from './tcpportscanner';\n\nconst SERVER_TYPE_MAP = {\n    jlink: JLinkServerController,\n    openocd: OpenOCDServerController,\n    stutil: STUtilServerController,\n    pyocd: PyOCDServerController,\n    pe: PEServerController,\n    bmp: BMPServerController,\n    qemu: QEMUServerController,\n    external: ExternalServerController\n};\n\nclass ExtendedVariable {\n    constructor(public name, public options) {\n    }\n}\n\nconst GLOBAL_HANDLE_ID = 0xFE;\nconst STACK_HANDLES_START = 0x100;\nconst STACK_HANDLES_FINISH = 0xFFFF;\nconst STATIC_HANDLES_START = 0x010000;\nconst STATIC_HANDLES_FINISH = 0x01FFFF;\nconst VAR_HANDLES_START = 0x020000;\n\nconst COMMAND_MAP = (c) => c.startsWith('-') ? c.substring(1) : `interpreter-exec console \"${c}\"`;\n\nclass CustomStoppedEvent extends Event implements DebugProtocol.Event {\n    public readonly body: {\n        reason: string,\n        threadID: number\n    };\n    public readonly event: string;\n\n    constructor(reason: string, threadID: number) {\n        super('custom-stop', { reason: reason, threadID: threadID });\n    }\n}\n\nclass CustomContinuedEvent extends Event implements DebugProtocol.Event {\n    public readonly body: {\n        threadID: number;\n        allThreads: boolean;\n    };\n    public readonly event: string;\n\n    constructor(threadID: number, allThreads: boolean = true) {\n        super('custom-continued', { threadID: threadID, allThreads: allThreads });\n    }\n}\n\nconst traceThreads = false;\n\nexport class GDBDebugSession extends DebugSession {\n    private server: GDBServer;\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n    private serverController: GDBServerController;\n    private symbolTable: SymbolTable;\n\n    protected variableHandles = new Handles<string | VariableObject | ExtendedVariable>(VAR_HANDLES_START);\n    protected variableHandlesReverse: { [id: string]: number } = {};\n    protected quit: boolean;\n    protected attached: boolean;\n    protected trimCWD: string;\n    protected switchCWD: string;\n    protected started: boolean;\n    protected crashed: boolean;\n    protected debugReady: boolean;\n    protected miDebugger: MI2;\n    protected commandServer: net.Server;\n    protected forceDisassembly: boolean = false;\n    protected activeEditorPath: string = null;\n    // currentThreadId is the currently selected thread or where execution has stopped. It not very\n    // meaningful since the current thread id in gdb can change in many ways (when you use a --thread\n    // option on certain commands) \n    protected currentThreadId: number = 0;\n    protected activeThreadIds = new Set<number>();      // Used for consistency check\n\n    /**\n     * If we are requested a major switch like restart/disconnect/detach we may have to interrupt the\n     * the target to make it happen. That interrupt can cause a chain reaction of events, responses\n     * and requests -- considerable gdb chatter -- that affects what we are trying to do. We still rely\n     * on our event 'generic-stopped' but not send events to clients like VSCode or our own frontend.\n     * We should always keep our own state valid though\n     */\n    protected disableSendStoppedEvents = false;\n\n    private stopped: boolean = false;\n    private stoppedReason: string = '';\n\n    // stoppedThreadId represents where execution stopped because of a pause, exception, step or breakpoint\n    // Generally continuing execution can only work from that thread for embedded processors. It is bit\n    // different from 'currentThreadId'. This is also the last thread-id used to notify VSCode about\n    // the current thread so the call-stack will initially point to this thread. Maybe currentThreadId\n    // can be made stricter and we can remove this variable\n    private stoppedThreadId: number = 0;\n    private stoppedEventPending = false;\n\n    protected breakpointMap: Map<string, Breakpoint[]> = new Map();\n    protected fileExistsCache: Map<string, boolean> = new Map();\n\n    private currentFile: string;\n    protected onConfigDone: EventEmitter = new EventEmitter();\n\n    public constructor(debuggerLinesStartAt1: boolean, isServer: boolean = false, threadID: number = 1) {\n        super(debuggerLinesStartAt1, isServer);\n    }\n\n    protected initDebugger() {\n        this.miDebugger.on('launcherror', this.launchError.bind(this));\n        this.miDebugger.on('quit', this.quitEvent.bind(this));\n        this.miDebugger.on('exited-normally', this.quitEvent.bind(this));\n        this.miDebugger.on('stopped', this.stopEvent.bind(this));\n        this.miDebugger.on('msg', this.handleMsg.bind(this));\n        this.miDebugger.on('breakpoint', this.handleBreakpoint.bind(this));\n        this.miDebugger.on('step-end', this.handleBreak.bind(this));\n        this.miDebugger.on('step-out-end', this.handleBreak.bind(this));\n        this.miDebugger.on('signal-stop', this.handlePause.bind(this));\n        this.miDebugger.on('running', this.handleRunning.bind(this));\n        this.miDebugger.on('thread-created', this.handleThreadCreated.bind(this));\n        this.miDebugger.on('thread-exited', this.handleThreadExited.bind(this));\n        this.miDebugger.on('thread-selected', this.handleThreadSelected.bind(this));\n        this.miDebugger.on('thread-group-exited', this.handleThreadGroupExited.bind(this));\n        this.sendEvent(new InitializedEvent());\n    }\n\n    protected initializeRequest(response: DebugProtocol.InitializeResponse, args: DebugProtocol.InitializeRequestArguments): void {\n        response.body.supportsHitConditionalBreakpoints = true;\n        response.body.supportsConfigurationDoneRequest = true;\n        response.body.supportsConditionalBreakpoints = true;\n        response.body.supportsFunctionBreakpoints = true;\n        response.body.supportsEvaluateForHovers = true;\n        response.body.supportsSetVariable = true;\n        response.body.supportsRestartRequest = true;\n        this.sendResponse(response);\n    }\n\n    protected launchRequest(response: DebugProtocol.LaunchResponse, args: ConfigurationArguments): void {\n        this.args = this.normalizeArguments(args);\n        this.symbolTable = new SymbolTable(args.toolchainPath, args.toolchainPrefix, args.executable, args.demangle);\n        this.symbolTable.loadSymbols();\n        this.breakpointMap = new Map();\n        this.fileExistsCache = new Map();\n        this.processLaunchAttachRequest(response, false);\n    }\n\n    protected attachRequest(response: DebugProtocol.AttachResponse, args: ConfigurationArguments): void {\n        this.args = this.normalizeArguments(args);\n        this.symbolTable = new SymbolTable(args.toolchainPath, args.toolchainPrefix, args.executable, args.demangle);\n        this.symbolTable.loadSymbols();\n        this.breakpointMap = new Map();\n        this.fileExistsCache = new Map();\n        this.processLaunchAttachRequest(response, true);\n    }\n\n    private normalizeArguments(args: ConfigurationArguments): ConfigurationArguments {\n        args.graphConfig = args.graphConfig || [];\n        \n        if (args.executable && !path.isAbsolute(args.executable)) {\n            args.executable = path.normalize(path.join(args.cwd, args.executable));\n        }\n\n        if (args.svdFile && !path.isAbsolute(args.svdFile)) {\n            args.svdFile = path.normalize(path.join(args.cwd, args.svdFile));\n        }\n\n        if (args.swoConfig && args.swoConfig.decoders) {\n            args.swoConfig.decoders = args.swoConfig.decoders.map((dec) => {\n                if (dec.type === 'advanced' && dec.decoder && !path.isAbsolute(dec.decoder)) {\n                    dec.decoder = path.normalize(path.join(args.cwd, dec.decoder));\n                }\n                return dec;\n            });\n        }\n\n        return args;\n    }\n\n    private processLaunchAttachRequest(response: DebugProtocol.LaunchResponse, attach: boolean) {\n        if (!fs.existsSync(this.args.executable)) {\n            this.sendErrorResponse(\n                response,\n                103,\n                `Unable to find executable file at ${this.args.executable}.`\n            );\n            return;\n        }\n        \n        const ControllerClass = SERVER_TYPE_MAP[this.args.servertype];\n        this.serverController = new ControllerClass();\n        this.serverController.setArguments(this.args);\n        this.serverController.on('event', this.serverControllerEvent.bind(this));\n        \n        this.quit = false;\n        this.attached = false;\n        this.started = false;\n        this.crashed = false;\n        this.debugReady = false;\n        this.stopped = false;\n        this.activeThreadIds.clear();\n\n        const portFinderOpts = { min: 50000, max: 52000, retrieve: this.serverController.portsNeeded.length };\n        TcpPortScanner.findFreePorts(portFinderOpts, GDBServer.LOCALHOST).then((ports) => {\n            this.ports = {};\n            this.serverController.portsNeeded.forEach((val, idx) => {\n                this.ports[val] = ports[idx];\n            });\n\n            this.serverController.setPorts(this.ports);\n\n            const executable = this.serverController.serverExecutable();\n            const args = this.serverController.serverArguments();\n\n            let gdbExePath = os.platform() !== 'win32' ? `${this.args.toolchainPrefix}-gdb` : `${this.args.toolchainPrefix}-gdb.exe`;\n            if (this.args.toolchainPath) {\n                gdbExePath = path.normalize(path.join(this.args.toolchainPath, gdbExePath));\n            }\n            if (this.args.gdbpath) {\n                gdbExePath = this.args.gdbpath;\n            }\n\n            // Check to see if gdb exists.\n            if (path.isAbsolute(gdbExePath)) {\n                if (fs.existsSync(gdbExePath) === false) {\n                    this.sendErrorResponse(\n                        response,\n                        103,\n                        `${this.serverController.name} GDB executable \"${gdbExePath}\" was not found.\\n` +\n                            'Please configure \"cortex-debug.armToolchainPath\" correctly.'\n                    );\n                    return;\n                }\n            }\n            else {\n                if (!hasbin.sync(gdbExePath.replace('.exe', ''))) {\n                    this.sendErrorResponse(\n                        response,\n                        103,\n                        `${this.serverController.name} GDB executable \"${gdbExePath}\" was not found.\\n` +\n                            'Please configure \"cortex-debug.armToolchainPath\" correctly.'\n                    );\n                    return;\n                }\n            }\n\n            if (executable) {\n                this.handleMsg('log', `Please check OUTPUT tab (Adapter Output) for output from ${executable}` + '\\n');\n                const dbgMsg = `Launching server: \"${executable}\" ` + args.map((s) => {\n                    return '\"' + s.replace(/\"/g, '\\\\\"') + '\"';\n                }).join(' ') + '\\n';\n                this.handleMsg('log', dbgMsg);\n            }\n\n            let initMatch = this.serverController.initMatch();\n            if (this.args.overrideGDBServerStartedRegex) {\n                initMatch = new RegExp(this.args.overrideGDBServerStartedRegex, 'i');\n            }\n\n            this.server = new GDBServer(this.args.cwd, executable, args, initMatch, this.ports['gdbPort']);\n            this.server.on('output', this.handleAdapterOutput.bind(this));\n            this.server.on('quit', () => {\n                if (this.started) {\n                    this.quitEvent();\n                }\n                else {\n                    this.sendErrorResponse(\n                        response,\n                        103,\n                        `${this.serverController.name} GDB Server Quit Unexpectedly. See Adapter Output for more details.`\n                    );\n                }\n            });\n            this.server.on('launcherror', (err) => {\n                this.sendErrorResponse(response, 103, `Failed to launch ${this.serverController.name} GDB Server: ${err.toString()}`);\n            });\n\n            let timeout = setTimeout(() => {\n                this.server.exit();\n                this.sendEvent(new TelemetryEvent(\n                    'Error',\n                    'Launching Server',\n                    `Failed to launch ${this.serverController.name} GDB Server: Timeout.`\n                ));\n                this.sendErrorResponse(response, 103, `Failed to launch ${this.serverController.name} GDB Server: Timeout.`);\n            }, GDBServer.SERVER_TIMEOUT);\n\n            this.serverController.serverLaunchStarted();\n            this.server.init().then((started) => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n\n                this.serverController.serverLaunchCompleted();\n                \n                let gdbargs = ['-q', '--interpreter=mi2'];\n                gdbargs = gdbargs.concat(this.args.debuggerArgs || []);\n\n                this.miDebugger = new MI2(gdbExePath, gdbargs);\n                this.initDebugger();\n\n                this.miDebugger.printCalls = !!this.args.showDevDebugOutput;\n                this.miDebugger.debugOutput = !!this.args.showDevDebugOutput;\n\n                const commands = [`interpreter-exec console \"source ${this.args.extensionPath}/support/gdbsupport.init\"`];\n                if (this.args.demangle) {\n                    commands.push('interpreter-exec console \"set print demangle on\"');\n                    commands.push('interpreter-exec console \"set print asm-demangle on\"');\n                }\n                commands.push(...this.serverController.initCommands());\n                \n                if (attach) {\n                    commands.push(...this.args.preAttachCommands.map(COMMAND_MAP));\n                    const attachCommands = this.args.overrideAttachCommands != null ?\n                        this.args.overrideAttachCommands.map(COMMAND_MAP) : this.serverController.attachCommands();\n                    commands.push(...attachCommands);\n                    commands.push(...this.args.postAttachCommands.map(COMMAND_MAP));\n                    commands.push(...this.serverController.swoCommands());\n                }\n                else {\n                    commands.push(...this.args.preLaunchCommands.map(COMMAND_MAP));\n                    const launchCommands = this.args.overrideLaunchCommands != null ?\n                        this.args.overrideLaunchCommands.map(COMMAND_MAP) : this.serverController.launchCommands();\n                    commands.push(...launchCommands);\n                    commands.push(...this.args.postLaunchCommands.map(COMMAND_MAP));\n                    commands.push(...this.serverController.swoCommands());\n                }\n                \n                this.serverController.debuggerLaunchStarted();\n                this.miDebugger.once('debug-ready', () => {\n                    this.debugReady = true;\n                    this.attached = attach;\n                });\n\n                if (true) {\n                    const dbgMsg = `Launching GDB: \"${gdbExePath}\" ` + gdbargs.map((s) => {\n                        return '\"' + s.replace(/\"/g, '\\\\\"') + '\"';\n                    }).join(' ') + '\\n';\n                    this.handleMsg('log', dbgMsg);\n                }\n\n                this.miDebugger.connect(this.args.cwd, this.args.executable, commands).then(() => {\n                    this.started = true;\n                    this.serverController.debuggerLaunchCompleted();\n                    this.sendResponse(response);\n\n                    const launchComplete = () => {\n                        setTimeout(() => {\n                            this.stopped = true;\n                            this.stoppedReason = 'start';\n                            this.stoppedThreadId = this.currentThreadId;\n                            this.sendEvent(new StoppedEvent('start', this.currentThreadId, true));\n                            this.sendEvent(new CustomStoppedEvent('start', this.currentThreadId));\n                        }, 50);\n                    };\n\n                    if (this.args.runToMain) {\n                        this.miDebugger.sendCommand('break-insert -t --function main').then(() => {\n                            this.miDebugger.once('generic-stopped', launchComplete);\n                            // To avoid race conditions between finishing configuration, we should stay\n                            // in stopped mode. Or, we end up clobbering the stopped event that might come\n                            // during setting of any additional breakpoints.\n                            this.onConfigDone.once('done', () => {\n                                this.miDebugger.sendCommand('exec-continue');\n                            });\n                        });\n                    }\n                    else {\n                        launchComplete();\n                        this.onConfigDone.once('done', () => {\n                            this.runPostStartSessionCommands(false);\n                        });\n                    }\n                }, (err) => {\n                    this.sendErrorResponse(response, 103, `Failed to launch GDB: ${err.toString()}`);\n                    this.sendEvent(new TelemetryEvent('Error', 'Launching GDB', err.toString()));\n                });\n\n            }, (error) => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                this.sendEvent(new TelemetryEvent(\n                    'Error',\n                    'Launching Server',\n                    `Failed to launch ${this.serverController.name} GDB Server: ${error.toString()}`\n                ));\n                this.sendErrorResponse(response, 103, `Failed to launch ${this.serverController.name} GDB Server: ${error.toString()}`);\n            });\n            \n        }, (err) => {\n            this.sendEvent(new TelemetryEvent('Error', 'Launching Server', `Failed to find open ports: ${err.toString()}`));\n            this.sendErrorResponse(response, 103, `Failed to find open ports: ${err.toString()}`);\n        });\n    }\n\n    // Runs a set of commands after a quiet time and is no other gdb transactions are happening\n    protected runPostStartSessionCommands(isRestart: boolean, interval: number = 10): void {\n        let commands = isRestart ? this.args.postRestartSessionCommands : this.args.postStartSessionCommands;\n        if (commands && (commands.length > 0)) {\n            let curToken = this.miDebugger.getCurrentToken();\n            commands = commands.map(COMMAND_MAP);\n            // We want to let things quiet down before we run the next set of commands. Note that while\n            // we are running this command sequence, some results can cause other gdb commands to be generated if\n            // running state changes. Can't help it for now\n            const to = setInterval(() => {\n                const nxtToken = this.miDebugger.getCurrentToken();\n                if (curToken === nxtToken) {\n                    clearInterval(to);\n                    this.miDebugger.postStart(commands);\n                } else {\n                    curToken = nxtToken;\n                }\n            }, interval);\n        }\n    }\n\n    protected customRequest(command: string, response: DebugProtocol.Response, args: any): void {\n        if (this.serverController.customRequest(command, response, args)) {\n            this.sendResponse(response);\n            return;\n        }\n\n        switch (command) {\n            case 'set-force-disassembly':\n                response.body = { success: true };\n                this.forceDisassembly = args.force;\n                if (this.stopped) {\n                    this.activeEditorPath = null;\n                    this.sendEvent(new ContinuedEvent(this.currentThreadId, true));\n                    this.sendEvent(new StoppedEvent(this.stoppedReason, this.currentThreadId, true));\n                }\n                this.sendResponse(response);\n                break;\n            case 'load-function-symbols':\n                response.body = { functionSymbols: this.symbolTable.getFunctionSymbols() };\n                this.sendResponse(response);\n                break;\n            case 'set-active-editor':\n                if (args.path !== this.activeEditorPath) {\n                    this.activeEditorPath = args.path;\n                    // if (this.stopped) {\n                    //     this.sendEvent(new StoppedEvent(this.stoppedReason, this.currentThreadId, true));\n                    // }\n                }\n                response.body = {};\n                this.sendResponse(response);\n                break;\n            case 'get-arguments':\n                response.body = this.args;\n                this.sendResponse(response);\n                break;\n            case 'read-memory':\n                this.readMemoryRequestCustom(response, args['address'], args['length']);\n                break;\n            case 'write-memory':\n                this.writeMemoryRequest(response, args['address'], args['data']);\n                break;\n            case 'read-registers':\n                this.readRegistersRequest(response);\n                break;\n            case 'read-register-list':\n                this.readRegisterListRequest(response);\n                break;\n            case 'disassemble':\n                this.disassembleRequest(response, args);\n                break;\n            case 'execute-command':\n                let cmd = args['command'] as string;\n                if (cmd.startsWith('-')) { cmd = cmd.substring(1); }\n                else { cmd = `interpreter-exec console \"${cmd}\"`; }\n                this.miDebugger.sendCommand(cmd).then((node) => {\n                    response.body = node.resultRecords;\n                    this.sendResponse(response);\n                }, (error) => {\n                    response.body = error;\n                    this.sendErrorResponse(response, 110, 'Unable to execute command');\n                });\n                break;\n            default:\n                response.body = { error: 'Invalid command.' };\n                this.sendResponse(response);\n                break;\n        }\n    }\n\n    protected async disassembleRequest(response: DebugProtocol.Response, args: any): Promise<void> {\n        if (args.function) {\n            try {\n                const funcInfo: SymbolInformation = await this.getDisassemblyForFunction(args.function, args.file);\n                response.body = {\n                    instructions: funcInfo.instructions,\n                    name: funcInfo.name,\n                    file: funcInfo.file,\n                    address: funcInfo.address,\n                    length: funcInfo.length\n                };\n                this.sendResponse(response);\n            }\n            catch (e) {\n                this.sendErrorResponse(response, 1, `Unable to disassemble: ${e.toString()}`);\n            }\n            return;\n        }\n        else if (args.startAddress) {\n            try {\n                let funcInfo = this.symbolTable.getFunctionAtAddress(args.startAddress);\n                if (funcInfo) {\n                    funcInfo = await this.getDisassemblyForFunction(funcInfo.name, funcInfo.file);\n                    response.body = {\n                        instructions: funcInfo.instructions,\n                        name: funcInfo.name,\n                        file: funcInfo.file,\n                        address: funcInfo.address,\n                        length: funcInfo.length\n                    };\n                    this.sendResponse(response);\n                }\n                else {\n                    // tslint:disable-next-line:max-line-length\n                    const instructions: DisassemblyInstruction[] = await this.getDisassemblyForAddresses(args.startAddress, args.length || 256);\n                    response.body = { instructions: instructions };\n                    this.sendResponse(response);\n                }\n            }\n            catch (e) {\n                this.sendErrorResponse(response, 1, `Unable to disassemble: ${e.toString()}`);\n            }\n            return;\n        }\n        else {\n            this.sendErrorResponse(response, 1, 'Unable to disassemble; invalid parameters.');\n        }\n    }\n\n    private async getDisassemblyForFunction(functionName: string, file?: string): Promise<SymbolInformation> {\n        const symbol: SymbolInformation = this.symbolTable.getFunctionByName(functionName, file);\n\n        if (!symbol) { throw new Error(`Unable to find function with name ${functionName}.`); }\n\n        if (symbol.instructions) { return symbol; }\n\n        const startAddress = symbol.address;\n        const endAddress = symbol.address + symbol.length;\n\n        // tslint:disable-next-line:max-line-length\n        const result = await this.miDebugger.sendCommand(`data-disassemble -s ${hexFormat(startAddress, 8)} -e ${hexFormat(endAddress, 8)} -- 2`);\n        const rawInstructions = result.result('asm_insns');\n        const instructions: DisassemblyInstruction[] = rawInstructions.map((ri) => {\n            const address = MINode.valueOf(ri, 'address');\n            const functionName = MINode.valueOf(ri, 'func-name');\n            const offset = parseInt(MINode.valueOf(ri, 'offset'));\n            const inst = MINode.valueOf(ri, 'inst');\n            const opcodes = MINode.valueOf(ri, 'opcodes');\n\n            return {\n                address: address,\n                functionName: functionName,\n                offset: offset,\n                instruction: inst,\n                opcodes: opcodes\n            };\n        });\n        symbol.instructions = instructions;\n        return symbol;\n    }\n\n    private async getDisassemblyForAddresses(startAddress: number, length: number): Promise<DisassemblyInstruction[]> {\n        const endAddress = startAddress + length;\n\n        // tslint:disable-next-line:max-line-length\n        const result = await this.miDebugger.sendCommand(`data-disassemble -s ${hexFormat(startAddress, 8)} -e ${hexFormat(endAddress, 8)} -- 2`);\n        const rawInstructions = result.result('asm_insns');\n        const instructions: DisassemblyInstruction[] = rawInstructions.map((ri) => {\n            const address = MINode.valueOf(ri, 'address');\n            const functionName = MINode.valueOf(ri, 'func-name');\n            const offset = parseInt(MINode.valueOf(ri, 'offset'));\n            const inst = MINode.valueOf(ri, 'inst');\n            const opcodes = MINode.valueOf(ri, 'opcodes');\n\n            return {\n                address: address,\n                functionName: functionName,\n                offset: offset,\n                instruction: inst,\n                opcodes: opcodes\n            };\n        });\n\n        return instructions;\n    }\n\n    protected readMemoryRequestCustom(response: DebugProtocol.Response, startAddress: string, length: number) {\n        this.miDebugger.sendCommand(`data-read-memory-bytes \"${startAddress}\" ${length}`).then((node) => {\n            const startAddress = node.resultRecords.results[0][1][0][0][1];\n            const endAddress = node.resultRecords.results[0][1][0][2][1];\n            const data = node.resultRecords.results[0][1][0][3][1];\n            const bytes = data.match(/[0-9a-f]{2}/g).map((b) => parseInt(b, 16));\n            response.body = {\n                startAddress: startAddress,\n                endAddress: endAddress,\n                bytes: bytes\n            };\n            this.sendResponse(response);\n        }, (error) => {\n            response.body = { error: error };\n            this.sendErrorResponse(response, 114, `Unable to read memory: ${error.toString()}`);\n            this.sendEvent(new TelemetryEvent('Error', 'Reading Memory', `${startAddress}-${length.toString(16)}`));\n        });\n    }\n\n    protected writeMemoryRequest(response: DebugProtocol.Response, startAddress: number, data: string) {\n        const address = hexFormat(startAddress, 8);\n        this.miDebugger.sendCommand(`data-write-memory-bytes ${address} ${data}`).then((node) => {\n            this.sendResponse(response);\n        }, (error) => {\n            response.body = { error: error };\n            this.sendErrorResponse(response, 114, `Unable to write memory: ${error.toString()}`);\n            this.sendEvent(new TelemetryEvent('Error', 'Writing Memory', `${startAddress.toString(16)}-${data.length.toString(16)}`));\n        });\n    }\n\n    protected readRegistersRequest(response: DebugProtocol.Response) {\n        const fmt = this.args.registerUseNaturalFormat ? 'N' : 'x';\n        this.miDebugger.sendCommand(`data-list-register-values ${fmt}`).then((node) => {\n            if (node.resultRecords.resultClass === 'done') {\n                const rv = node.resultRecords.results[0][1];\n                response.body = rv.map((n) => {\n                    const val = {};\n                    n.forEach((x) => {\n                        val[x[0]] = x[1];\n                    });\n                    return val;\n                });\n            }\n            else {\n                response.body = {\n                    error: 'Unable to parse response'\n                };\n            }\n            this.sendResponse(response);\n        }, (error) => {\n            response.body = { error: error };\n            this.sendErrorResponse(response, 115, `Unable to read registers: ${error.toString()}`);\n            this.sendEvent(new TelemetryEvent('Error', 'Reading Registers', ''));\n        });\n    }\n\n    protected readRegisterListRequest(response: DebugProtocol.Response) {\n        this.miDebugger.sendCommand('data-list-register-names').then((node) => {\n            if (node.resultRecords.resultClass === 'done') {\n                let registerNames;\n                node.resultRecords.results.forEach((rr) => {\n                    if (rr[0] === 'register-names') {\n                        registerNames = rr[1];\n                    }\n                });\n                response.body = registerNames;\n            }\n            else {\n                response.body = { error: node.resultRecords.results };\n            }\n            this.sendResponse(response);\n        }, (error) => {\n            response.body = { error: error };\n            this.sendErrorResponse(response, 116, `Unable to read register list: ${error.toString()}`);\n            this.sendEvent(new TelemetryEvent('Error', 'Reading Register List', ''));\n        });\n    }\n\n    protected disconnectRequest(response: DebugProtocol.DisconnectResponse, args: DebugProtocol.DisconnectArguments): void {\n        const doDisconnectProcessing = () => {\n            if (this.attached) {\n                this.attached = false;\n                this.miDebugger.detach();\n            } else {\n                this.miDebugger.stop();\n            }\n            if (this.commandServer) {\n                this.commandServer.close();\n                this.commandServer = undefined;\n            }\n            setTimeout(() => {      // Give gdb a chance to disconnect and exit normally\n                try {\n                    this.disableSendStoppedEvents = false;\n                    this.server.exit();\n                }\n                catch (e) {}\n                finally {\n                    this.sendResponse(response);\n                }\n            }, 50);\n        };\n\n        this.disableSendStoppedEvents = true;\n        if (this.miDebugger) {\n            if (this.attached && !this.stopped) {\n                this.miDebugger.once('generic-stopped', doDisconnectProcessing);\n                this.miDebugger.sendCommand('exec-interrupt');\n            } else {\n                doDisconnectProcessing();\n            }\n        }\n    }\n\n    //\n    // I don't think we are following the protocol here. but the protocol doesn't make sense. I got a\n    // clarification that for an attach session, restart means detach and re-attach. How does this make\n    // any sense? Isn't that like a null operation?\n    //\n    // https://github.com/microsoft/debug-adapter-protocol/issues/73\n    //\n    protected restartRequest(response: DebugProtocol.RestartResponse, args: DebugProtocol.RestartArguments): void {\n        const restartProcessing = async () => {\n            this.disableSendStoppedEvents = false;\n            const commands = [];\n\n            commands.push(...this.args.preRestartCommands.map(COMMAND_MAP));\n            const restartCommands = this.args.overrideRestartCommands != null ?\n                this.args.overrideRestartCommands.map(COMMAND_MAP) : this.serverController.restartCommands();\n            commands.push(...restartCommands);\n            commands.push(...this.args.postRestartCommands.map(COMMAND_MAP));\n            commands.push(...this.serverController.swoCommands());\n\n            this.miDebugger.restart(commands).then((done) => {\n                this.sendResponse(response);\n                setTimeout(() => {\n                    this.stopped = true;        // This should aleady be true??\n                    this.stoppedReason = 'restart';\n                    this.sendEvent(new ContinuedEvent(this.currentThreadId, true));\n                    this.sendEvent(new StoppedEvent('restart', this.currentThreadId, true));\n                    this.sendEvent(new CustomStoppedEvent('restart', this.currentThreadId));\n                    this.runPostStartSessionCommands(true, 50);\n                }, 50);\n            }, (msg) => {\n                this.sendErrorResponse(response, 6, `Could not restart: ${msg}`);\n            });\n        };\n\n        this.disableSendStoppedEvents = true;\n        if (this.stopped) {\n            restartProcessing();\n        }\n        else {\n            this.miDebugger.once('generic-stopped', restartProcessing);\n            this.miDebugger.sendCommand('exec-interrupt');\n        }\n    }\n\n    protected handleAdapterOutput(output) {\n        this.sendEvent(new AdapterOutputEvent(output, 'out'));\n    }\n\n    private serverControllerEvent(event: DebugProtocol.Event) {\n        this.sendEvent(event);\n    }\n\n    protected handleMsg(type: string, msg: string) {\n        if (type === 'target') { type = 'stdout'; }\n        if (type === 'log') { type = 'stderr'; }\n        this.sendEvent(new OutputEvent(msg, type));\n    }\n\n    protected handleRunning(info: MINode) {\n        this.stopped = false;\n        this.sendEvent(new ContinuedEvent(this.currentThreadId, true));\n        this.sendEvent(new CustomContinuedEvent(this.currentThreadId, true));\n    }\n\n    protected findPausedThread(info: MINode) {\n        if (info.outOfBandRecord && info.outOfBandRecord[0] && info.outOfBandRecord[0].output) {\n            for (const item of info.outOfBandRecord[0].output) {\n                if (item[0] === 'thread-id') {\n                    this.currentThreadId = parseInt(item[1]);\n                    this.stoppedThreadId = this.currentThreadId;\n                    if (traceThreads) {\n                        this.handleMsg('stdout', `**** Paused Thread: ${this.stoppedThreadId}\\n`);\n                    }\n                    return;\n                }\n            }\n        }\n        if (traceThreads) {\n            this.handleMsg('stdout', `**** Paused Thread: not found. Using ID ${this.stoppedThreadId}. Not good\\n`);\n        }\n    }\n    \n    protected handleBreakpoint(info: MINode) {\n        this.stopped = true;\n        this.stoppedReason = 'breakpoint';\n        this.findPausedThread(info);\n        if (!this.disableSendStoppedEvents) {\n            this.sendEvent(new StoppedEvent('breakpoint', this.currentThreadId, true));\n            this.sendEvent(new CustomStoppedEvent('breakpoint', this.currentThreadId));\n        } else {\n            this.stoppedEventPending = true;\n        }\n    }\n\n    protected handleBreak(info: MINode) {\n        this.stopped = true;\n        this.stoppedReason = 'step';\n        this.findPausedThread(info);\n        if (!this.disableSendStoppedEvents) {\n            this.sendEvent(new StoppedEvent('step', this.currentThreadId, true));\n            this.sendEvent(new CustomStoppedEvent('step', this.currentThreadId));\n        } else {\n            this.stoppedEventPending = true;\n        }\n    }\n\n    public sendEvent(event: DebugProtocol.Event): void {\n        super.sendEvent(event);\n        if (traceThreads && (event instanceof StoppedEvent || event instanceof ContinuedEvent)) {\n            this.handleMsg('log', '**** Event: ' + JSON.stringify(event) + '\\n');\n        }\n    }\n\n    protected handlePause(info: MINode) {\n        this.stopped = true;\n        this.stoppedReason = 'user request';\n        this.findPausedThread(info);\n        if (!this.disableSendStoppedEvents) {\n            this.sendEvent(new StoppedEvent('user request', this.currentThreadId, true));\n            this.sendEvent(new CustomStoppedEvent('user request', this.currentThreadId));\n        } else {\n            this.stoppedEventPending = true;\n        }\n    }\n\n    protected handleThreadCreated(info: { threadId: number, threadGroupId: string }) {\n        if (!this.activeThreadIds.has(info.threadId)) {\n            if (traceThreads) {\n                this.handleMsg('log', `**** Thread created ${info.threadId}\\n`);\n            }\n            this.activeThreadIds.add(info.threadId);\n            this.sendEvent(new ThreadEvent('started', info.threadId));\n        } else {\n            this.handleMsg('log', `Thread Error: GDB trying to create thread '${info.threadId}' that already exists`);\n        }\n    }\n\n    protected handleThreadExited(info: { threadId: number, threadGroupId: string }) {\n        if (traceThreads) {\n            this.handleMsg('log', `**** Thread exited ${info.threadId}\\n`);\n        }\n        if (this.activeThreadIds.has(info.threadId)) {\n            this.activeThreadIds.delete(info.threadId);\n        } else {\n            this.handleMsg('log', `Thread Error: GDB trying to delete thread '${info.threadId}' that does not exist.\\n`);\n        }\n        if (this.currentThreadId === info.threadId) {\n            this.currentThreadId = 0;\n        }\n        if (this.stoppedThreadId === info.threadId) {\n            this.stoppedThreadId = 0;\n        }\n        this.sendEvent(new ThreadEvent('exited', info.threadId));\n    }\n\n    protected handleThreadSelected(info: { threadId: number }) {\n        if (traceThreads) {\n            this.handleMsg('log', `**** Thread selected ${info.threadId}\\n`);\n        }\n        if (!this.activeThreadIds.has(info.threadId)) {\n            // We are seeing this happen. Not sure why and and can this event be relied upon?\n            this.handleMsg('log', `Thread Error: GDB trying to select thread '${info.threadId}' that does not exist. No harm done\\n`);\n        } else {\n            this.currentThreadId = info.threadId;\n        }\n    }\n\n    protected handleThreadGroupExited(info: { threadGroupId: string }) {\n        if (traceThreads) {\n            this.handleMsg('log', `**** Thread group exited ${info.threadGroupId}\\n`);\n        }\n        // When a thread group exits for whaever reason (especially for a re-start) cleanup\n        // and notify VSCode or it will be in a bad state. This can be distinct from a quitEvent\n        // A crash, hd/tcp disconnect in the gdb-server can also cause this event.\n        this.currentThreadId = 0;\n        for (const thId of this.activeThreadIds.values()) {\n            this.sendEvent(new ThreadEvent('exited', thId));\n        }\n        this.activeThreadIds.clear();\n    }\n\n    protected stopEvent(info: MINode) {\n        if (!this.started) { this.crashed = true; }\n        if (!this.quit) {\n            this.stopped = true;\n            this.stoppedReason = 'exception';\n            this.findPausedThread(info);\n            this.sendEvent(new StoppedEvent('exception', this.currentThreadId, true));\n            this.sendEvent(new CustomStoppedEvent('exception', this.currentThreadId));\n        }\n    }\n\n    protected quitEvent() {\n        if (traceThreads) {\n            this.handleMsg('log', '**** quit event\\n');\n        }\n        this.quit = true;\n        this.sendEvent(new TerminatedEvent());\n    }\n\n    protected launchError(err: any) {\n        this.handleMsg('stderr', 'Could not start debugger process, does the program exist in filesystem?\\n');\n        this.handleMsg('stderr', err.toString() + '\\n');\n        this.quitEvent();\n    }\n\n    // returns [threadId, frameId]\n    protected static decodeReference(varRef: number): number[] {\n        return [(varRef & 0xFF00) >>> 8, varRef & 0xFF];\n    }\n\n    protected static encodeReference(threadId: number, frameId: number): number {\n        return ((threadId << 8) | (frameId & 0xFF)) & 0xFFFF;\n    }\n\n    protected async setVariableRequest(response: DebugProtocol.SetVariableResponse, args: DebugProtocol.SetVariableArguments): Promise<void> {\n        try {\n            let name = args.name;\n            let threadId = -1;\n            let frameId = -1;\n            const varRef = args.variablesReference;\n            const globOrStatic = this.getFloatingVariable(varRef, name);\n            if (globOrStatic) {\n                name = globOrStatic.name;\n            } else if (varRef >= VAR_HANDLES_START) {\n                const parent = this.variableHandles.get(args.variablesReference) as VariableObject;\n                const fullName = parent.children[name];\n                name = fullName ? fullName : `${parent.name}.${name}`;\n            } else if (varRef >= STACK_HANDLES_START && varRef < STACK_HANDLES_FINISH) {\n                const tryName = this.createStackVarName(name, varRef);\n                if (this.variableHandlesReverse.hasOwnProperty(tryName)) {\n                    name = tryName;\n                }\n                [threadId, frameId] = GDBDebugSession.decodeReference(varRef);\n            }\n\n            const res = await this.miDebugger.varAssign(name, args.value, threadId, frameId);\n            response.body = {\n                value: res.result('value')\n            };\n            this.sendResponse(response);\n        }\n        catch (err) {\n            this.sendErrorResponse(response, 11, `Could not set variable: ${err}`);\n        }\n    }\n\n    protected setFunctionBreakPointsRequest(\n        response: DebugProtocol.SetFunctionBreakpointsResponse,\n        args: DebugProtocol.SetFunctionBreakpointsArguments\n    ): void {\n        const createBreakpoints = async (shouldContinue) => {\n            const all = [];\n            args.breakpoints.forEach((brk) => {\n                all.push(this.miDebugger.addBreakPoint({ raw: brk.name, condition: brk.condition, countCondition: brk.hitCondition }));\n            });\n            \n            try {\n                const breakpoints = await Promise.all(all);\n                const finalBrks = [];\n                breakpoints.forEach((brkp) => {\n                    if (brkp[0]) { finalBrks.push({ line: brkp[1].line }); }\n                });\n                response.body = {\n                    breakpoints: finalBrks\n                };\n                this.sendResponse(response);\n            }\n            catch (msg) {\n                this.sendErrorResponse(response, 10, msg.toString());\n            }\n            if (shouldContinue) {\n                await this.miDebugger.sendCommand('exec-continue');\n            }\n        };\n\n        const process = async () => {\n            if (this.stopped) { await createBreakpoints(false); }\n            else {\n                this.miDebugger.sendCommand('exec-interrupt');\n                this.miDebugger.once('generic-stopped', () => { createBreakpoints(true); });\n            }\n        };\n\n        if (this.debugReady) { process(); }\n        else { this.miDebugger.once('debug-ready', process); }\n    }\n\n    protected setBreakPointsRequest(response: DebugProtocol.SetBreakpointsResponse, args: DebugProtocol.SetBreakpointsArguments) {\n        const createBreakpoints = async (shouldContinue) => {\n            this.debugReady = true;\n            const currentBreakpoints = (this.breakpointMap.get(args.source.path) || []).map((bp) => bp.number);\n            \n            try {\n                await this.miDebugger.removeBreakpoints(currentBreakpoints);\n                this.breakpointMap.set(args.source.path, []);\n                \n                const all: Array<Promise<Breakpoint>> = [];\n                const sourcepath = decodeURIComponent(args.source.path);\n\n                if (sourcepath.startsWith('disassembly:/')) {\n                    let sidx = 13;\n                    if (sourcepath.startsWith('disassembly:///')) { sidx = 15; }\n                    const path = sourcepath.substring(sidx, sourcepath.length - 6); // Account for protocol and extension\n                    const parts = path.split(':::');\n                    let func: string;\n                    let file: string;\n\n                    if (parts.length === 2) {\n                        func = parts[1];\n                        file = parts[0];\n                    }\n                    else {\n                        func = parts[0];\n                    }\n\n                    const symbol: SymbolInformation = await this.getDisassemblyForFunction(func, file);\n                    \n                    if (symbol) {\n                        args.breakpoints.forEach((brk) => {\n                            if (brk.line <= symbol.instructions.length) {\n                                const line = symbol.instructions[brk.line - 1];\n                                all.push(this.miDebugger.addBreakPoint({\n                                    file: args.source.path,\n                                    line: brk.line,\n                                    condition: brk.condition,\n                                    countCondition: brk.hitCondition,\n                                    raw: line.address\n                                }));\n                            }\n                        });\n                    }\n                }\n                else {\n                    args.breakpoints.forEach((brk) => {\n                        all.push(this.miDebugger.addBreakPoint({\n                            file: args.source.path,\n                            line: brk.line,\n                            condition: brk.condition,\n                            countCondition: brk.hitCondition\n                        }));\n                    });\n                }\n\n                const brkpoints = await Promise.all(all);\n\n                const finalBrks: Breakpoint[] = brkpoints.filter((bp) => bp !== null);\n\n                response.body = {\n                    breakpoints: finalBrks.map((bp) => {\n                        return {\n                            line: bp.line,\n                            id: bp.number,\n                            verified: true\n                        };\n                    })\n                };\n\n                this.breakpointMap.set(args.source.path, finalBrks);\n                this.sendResponse(response);\n            }\n            catch (msg) {\n                this.sendErrorResponse(response, 9, msg.toString());\n            }\n\n            if (shouldContinue) {\n                await this.miDebugger.sendCommand('exec-continue');\n            }\n        };\n\n        const process = async () => {\n            if (this.stopped) {\n                await createBreakpoints(false);\n            }\n            else {\n                await this.miDebugger.sendCommand('exec-interrupt');\n                this.miDebugger.once('generic-stopped', () => { createBreakpoints(true); });\n            }\n        };\n\n        if (this.debugReady) { process(); }\n        else { this.miDebugger.once('debug-ready', process); }\n    }\n\n    protected async threadsRequest(response: DebugProtocol.ThreadsResponse): Promise<void> {\n        if (!this.stopped || this.disableSendStoppedEvents) {\n            response.body = { threads: [] };\n            this.sendResponse(response);\n            return Promise.resolve();\n        }\n        try {\n            const threadIdNode = await this.miDebugger.sendCommand('thread-list-ids');\n            const threadIds: number[] = threadIdNode.result('thread-ids').map((ti) => parseInt(ti[1]));\n            const currentThread = threadIdNode.result('current-thread-id');\n\n            if (!threadIds || (threadIds.length === 0)) {\n                // Yes, this does happen at the very beginning of an RTOS session\n                response.body = { threads: [] };\n                this.sendResponse(response);\n                return Promise.resolve();\n            }\n\n            for (const thId of threadIds) {\n                // Make sure VSCode knows about all the threads. GDB may still be in the process of notifying\n                // new threads while we already have a thread-list. Technically, this should never happen\n                if (!this.activeThreadIds.has(thId)) {\n                    this.handleThreadCreated({threadId: thId, threadGroupId: 'i1'});\n                }\n            }\n\n            if (!currentThread) {\n                this.currentThreadId = threadIds.findIndex((x) => {\n                    return x === this.stoppedThreadId;\n                }) >= 0 ? this.stoppedThreadId : threadIds[0];\n                if (traceThreads) {\n                    this.handleMsg('log', `**** thread-list-ids: no current thread, setting to ${this.currentThreadId}\\n`);\n                }\n                if (threadIds.length > 1) {    // No confusion when there is only one thread\n                    // thread-select doesn't actually work on most embedded gdb-servers. But we will at least\n                    // be in sync with gdb for querying local variables, etc. Things may rectify themselves like\n                    // they do with OpenOCD bit later. In general, this only happens with buggy gdb-servers\n                    await this.miDebugger.sendCommand(`thread-select ${this.currentThreadId}`);\n                }\n            }\n            else {\n                this.currentThreadId = parseInt(currentThread);\n                if (traceThreads) {\n                    this.handleMsg('log', `**** thread-list-ids: current thread = ${this.currentThreadId}\\n`);\n                }\n            }\n\n            // We have to send this event or else VSCode may have the last/wrong/no thread selected\n            // because when we stopped, we may not have had a valid thread (gdb-server issues). Needed even\n            // where there is is just one thread to make sure call-stack window has proper focus and\n            // selection for the debug buttons to have proper state. Esp. matters on restart with runToMain = false\n            // and on an attach\n            if (this.stoppedEventPending || (this.currentThreadId !== this.stoppedThreadId)) {\n                this.stoppedEventPending = false;\n                this.stoppedThreadId = this.currentThreadId;\n                this.sendEvent(new StoppedEvent(this.stoppedReason, this.currentThreadId, true));\n                this.sendEvent(new CustomStoppedEvent(this.stoppedReason, this.currentThreadId));\n            }\n\n            const nodes = await Promise.all(threadIds.map((id) => this.miDebugger.sendCommand(`thread-info ${id}`)));\n\n            const threads = nodes.map((node: MINode) => {\n                let th = node.result('threads');\n                if (th.length === 1) {\n                    th = th[0];\n                    const id = parseInt(MINode.valueOf(th, 'id'));\n                    const tid = MINode.valueOf(th, 'target-id');\n                    const details = MINode.valueOf(th, 'details');\n\n                    return new Thread(id, details || tid);\n                }\n                else {\n                    return null;\n                }\n            }).filter((t) => t !== null);\n\n            response.body = {\n                threads: threads\n            };\n            this.sendResponse(response);\n        }\n        catch (e) {\n            this.sendErrorResponse(response, 1, `Unable to get thread information: ${e}`);\n        }\n    }\n\n    protected async stackTraceRequest(response: DebugProtocol.StackTraceResponse, args: DebugProtocol.StackTraceArguments): Promise<void> {\n        try {\n            const stack = await this.miDebugger.getStack(args.threadId, args.startFrame, args.levels);\n            const ret: StackFrame[] = [];\n            for (const element of stack) {\n                const stackId = GDBDebugSession.encodeReference(args.threadId, element.level);\n                const file = element.file;\n                let disassemble = this.forceDisassembly || !file;\n                if (!disassemble) { disassemble = !(await this.checkFileExists(file)); }\n                if (!disassemble && this.activeEditorPath && this.activeEditorPath.startsWith('disassembly:///')) {\n                    const symbolInfo = this.symbolTable.getFunctionByName(element.function, element.fileName);\n                    let url: string;\n                    if (symbolInfo) {\n                        if (symbolInfo.file && (symbolInfo.scope !== SymbolScope.Global)) {\n                            url = `disassembly:///${symbolInfo.file}:::${symbolInfo.name}.cdasm`;\n                        }\n                        else {\n                            url = `disassembly:///${symbolInfo.name}.cdasm`;\n                        }\n                        if (url === this.activeEditorPath) { disassemble = true; }\n                    }\n                }\n                \n                try {\n                    if (disassemble) {\n                        const symbolInfo = await this.getDisassemblyForFunction(element.function, element.fileName);\n                        let line = -1;\n                        symbolInfo.instructions.forEach((inst, idx) => {\n                            if (inst.address === element.address) { line = idx + 1; }\n                        });\n\n                        if (line !== -1) {\n                            let fname: string;\n                            if (symbolInfo.file && (symbolInfo.scope !== SymbolScope.Global)) {\n                                fname = `${symbolInfo.file}:::${symbolInfo.name}.cdasm`;\n                            }\n                            else {\n                                fname = `${symbolInfo.name}.cdasm`;\n                            }\n                            \n                            const url = 'disassembly:///' + fname;\n                            ret.push(new StackFrame(stackId, `${element.function}@${element.address}`, new Source(fname, url), line, 0));\n                        }\n                        else {\n                            ret.push(new StackFrame(stackId, element.function + '@' + element.address, null, element.line, 0));\n                        }\n                    }\n                    else {\n                        ret.push(new StackFrame(stackId, element.function + '@' + element.address, new Source(element.fileName, file), element.line, 0));\n                    }\n                }\n                catch (e) {\n                    ret.push(new StackFrame(stackId, element.function + '@' + element.address, null, element.line, 0));\n                }\n            }\n\n            response.body = {\n                stackFrames: ret\n            };\n            this.sendResponse(response);\n        }\n        catch (err) {\n            this.sendErrorResponse(response, 12, `Failed to get Stack Trace: ${err.toString()}`);\n        }\n    }\n\n    protected configurationDoneRequest(\n        response: DebugProtocol.ConfigurationDoneResponse,\n        args: DebugProtocol.ConfigurationDoneArguments\n    ): void {\n        this.sendResponse(response);\n        this.onConfigDone.emit('done');\n    }\n\n    protected scopesRequest(response: DebugProtocol.ScopesResponse, args: DebugProtocol.ScopesArguments): void {\n        const scopes = new Array<Scope>();\n        scopes.push(new Scope('Local', parseInt(args.frameId as any), false));\n        scopes.push(new Scope('Global', GLOBAL_HANDLE_ID, false));\n\n        const staticId = STATIC_HANDLES_START + parseInt(args.frameId as any);\n        scopes.push(new Scope('Static', staticId, false));\n        this.floatingVariableMap[staticId] = {};         // Clear any previously stored stuff for this scope\n\n        response.body = {\n            scopes: scopes\n        };\n        this.sendResponse(response);\n    }\n\n    private async globalVariablesRequest(response: DebugProtocol.VariablesResponse, args: DebugProtocol.VariablesArguments): Promise<void> {\n        const symbolInfo: SymbolInformation[] = this.symbolTable.getGlobalVariables();\n\n        const globals: DebugProtocol.Variable[] = [];\n        try {\n            for (const symbol of symbolInfo) {\n                const varObjName = `global_var_${symbol.name}`;\n                let varObj: VariableObject;\n                try {\n                    const changes = await this.miDebugger.varUpdate(varObjName, -1, -1);\n                    const changelist = changes.result('changelist');\n                    changelist.forEach((change) => {\n                        const name = MINode.valueOf(change, 'name');\n                        const vId = this.variableHandlesReverse[name];\n                        const v = this.variableHandles.get(vId) as any;\n                        v.applyChanges(change);\n                    });\n                    const varId = this.variableHandlesReverse[varObjName];\n                    varObj = this.variableHandles.get(varId) as any;\n                }\n                catch (err) {\n                    try {\n                        if (err instanceof MIError && err.message === 'Variable object not found') {\n                            varObj = await this.miDebugger.varCreate(symbol.name, varObjName);\n                            const varId = this.findOrCreateVariable(varObj);\n                            varObj.exp = symbol.name;\n                            varObj.id = varId;\n                        } else {\n                            throw err;\n                        }\n                    }\n                    catch (err) {\n                        if (this.args.showDevDebugOutput) {\n                            this.handleMsg('stderr', `Could not create global variable ${symbol.name}\\n`);\n                            this.handleMsg('stderr', `Error: ${err}\\n`);\n                        }\n                        varObj = null;\n                    }\n                }\n\n                if (varObj) {\n                    this.putFloatingVariable(args.variablesReference, symbol.name, varObj);\n                    globals.push(varObj.toProtocolVariable());\n                }\n            }\n\n            response.body = { variables: globals };\n            this.sendResponse(response);\n        }\n        catch (err) {\n            this.sendErrorResponse(response, 1, `Could not get global variable information: ${err}`);\n        }\n    }\n\n    private createStaticVarName(fHash: string, name: string): string {\n        const varObjName = `static_var_${name}_${fHash}`;\n        return varObjName;\n    }\n\n    /*\n    // floatingVariableMap is meant for things that are not relevant to the current thread/frame.\n    // It is organized by ths scope reference and then a map is held for each simple name.\n    // Technically, we can put even non global/static variable here, but cleanup can be an issue.\n    //\n    // See also scopesRequest().\n    //\n    // Note that this becomes important in implementing set-variable where not much info is available\n    */\n    private floatingVariableMap: {[scopeId: number]: {[name: string]: VariableObject}} = {};\n\n    private putFloatingVariable(scopeId: number, name: string, varObj: VariableObject): void {\n        const scopeMap = this.floatingVariableMap[scopeId] || {};\n        scopeMap[name] = varObj;\n        this.floatingVariableMap[scopeId] = scopeMap;\n    }\n\n    private getFloatingVariable(scopeId: number, name: string): VariableObject {\n        const scopeMap = this.floatingVariableMap[scopeId];\n        const ret = scopeMap ? scopeMap[name] : null;\n        return ret;\n    }\n\n    private async staticVariablesRequest(\n        threadId: number,\n        frameId: number,\n        response: DebugProtocol.VariablesResponse,\n        args: DebugProtocol.VariablesArguments\n    ): Promise<void> {\n        const statics: DebugProtocol.Variable[] = [];\n\n        try {\n            const frame = await this.miDebugger.getFrame(threadId, frameId);\n            const file = frame.fileName;\n            const staticSymbols = this.symbolTable.getStaticVariables(file);\n\n            const hasher = crypto.createHash('sha256');\n            hasher.update(file);\n            const fHash = hasher.digest('hex');\n\n            for (const symbol of staticSymbols) {\n                const varObjName = this.createStaticVarName(fHash, symbol.name);\n                let varObj: VariableObject;\n                try {\n                    const changes = await this.miDebugger.varUpdate(varObjName, -1, -1);\n                    const changelist = changes.result('changelist');\n                    changelist.forEach((change) => {\n                        const name = MINode.valueOf(change, 'name');\n                        const vId = this.variableHandlesReverse[name];\n                        const v = this.variableHandles.get(vId) as any;\n                        v.applyChanges(change);\n                    });\n                    const varId = this.variableHandlesReverse[varObjName];\n                    varObj = this.variableHandles.get(varId) as any;\n                }\n                catch (err) {\n                    try {\n                        // Not all static variables found via objdump can be found with gdb. Happens\n                        // with function/block scoped static variables (objdump uses one name and gdb uses another)\n                        // Try to report what we can. Others show up under the Locals section hopefully.\n                        if (err instanceof MIError && err.message === 'Variable object not found') {\n                            varObj = await this.miDebugger.varCreate(symbol.name, varObjName);\n                            const varId = this.findOrCreateVariable(varObj);\n                            varObj.exp = symbol.name;\n                            varObj.id = varId;\n                        } else {\n                            throw err;\n                        }\n                    }\n                    catch (err) {\n                        if (this.args.showDevDebugOutput) {\n                            this.handleMsg('stderr', `Could not create static variable ${file}:${symbol.name}\\n`);\n                            this.handleMsg('stderr', `Error: ${err}\\n`);\n                        }\n                        varObj = null;\n                    }\n                }\n\n                if (varObj) {\n                    this.putFloatingVariable(args.variablesReference, symbol.name, varObj);\n                    statics.push(varObj.toProtocolVariable());\n                }\n            }\n\n            response.body = { variables: statics };\n            this.sendResponse(response);\n        }\n        catch (err) {\n            this.sendErrorResponse(response, 1, `Could not get static variable information: ${err}`);\n        }\n    }\n\n    private createVariable(arg, options?): number {\n        if (options) {\n            return this.variableHandles.create(new ExtendedVariable(arg, options));\n        }\n        else {\n            return this.variableHandles.create(arg);\n        }\n    }\n\n    private findOrCreateVariable(varObj: VariableObject): number {\n        let id: number;\n        if (this.variableHandlesReverse.hasOwnProperty(varObj.name)) {\n            id = this.variableHandlesReverse[varObj.name];\n        }\n        else {\n            id = this.createVariable(varObj);\n            this.variableHandlesReverse[varObj.name] = id;\n        }\n        return varObj.isCompound() ? id : 0;\n    }\n\n    protected createStackVarName(name: string, varRef: number) {\n        return `var_${name}_${varRef}`;\n    }\n\n    private async stackVariablesRequest(\n        response: DebugProtocol.VariablesResponse,\n        args: DebugProtocol.VariablesArguments\n    ): Promise<void> {\n        const [threadId, frameId] = GDBDebugSession.decodeReference(args.variablesReference);\n        const variables: DebugProtocol.Variable[] = [];\n        let stack: Variable[];\n        try {\n            stack = await this.miDebugger.getStackVariables(threadId, frameId);\n            for (const variable of stack) {\n                try {\n                    const varObjName = this.createStackVarName(variable.name, args.variablesReference);\n                    let varObj: VariableObject;\n                    try {\n                        const changes = await this.miDebugger.varUpdate(varObjName, threadId, frameId);\n                        const changelist = changes.result('changelist');\n                        changelist.forEach((change) => {\n                            const name = MINode.valueOf(change, 'name');\n                            const vId = this.variableHandlesReverse[name];\n                            const v = this.variableHandles.get(vId) as any;\n                            v.applyChanges(change);\n                        });\n                        const varId = this.variableHandlesReverse[varObjName];\n                        varObj = this.variableHandles.get(varId) as any;\n                    }\n                    catch (err) {\n                        if (err instanceof MIError && err.message === 'Variable object not found') {\n                            // Create variable in current frame/thread context. Matters when we have to set the variable */\n                            varObj = await this.miDebugger.varCreate(variable.name, varObjName, '*');\n                            const varId = this.findOrCreateVariable(varObj);\n                            varObj.exp = variable.name;\n                            varObj.id = varId;\n                        }\n                        else {\n                            throw err;\n                        }\n                    }\n                    variables.push(varObj.toProtocolVariable());\n                }\n                catch (err) {\n                    variables.push({\n                        name: variable.name,\n                        value: `<${err}>`,\n                        variablesReference: 0\n                    });\n                }\n            }\n            response.body = {\n                variables: variables\n            };\n            this.sendResponse(response);\n        }\n        catch (err) {\n            this.sendErrorResponse(response, 1, `Could not expand variable: ${err}`);\n        }\n    }\n\n    private async variableMembersRequest(id: string, response: DebugProtocol.VariablesResponse, args: DebugProtocol.VariablesArguments): Promise<void> {\n        // Variable members\n        let variable;\n        try {\n            variable = await this.miDebugger.evalExpression(JSON.stringify(id), -1, -1);\n            try {\n                let expanded = expandValue(this.createVariable.bind(this), variable.result('value'), id, variable);\n                if (!expanded) {\n                    this.sendErrorResponse(response, 2, 'Could not expand variable');\n                }\n                else {\n                    if (typeof expanded[0] === 'string') {\n                        expanded = [\n                            {\n                                name: '<value>',\n                                value: prettyStringArray(expanded),\n                                variablesReference: 0\n                            }\n                        ];\n                    }\n                    response.body = {\n                        variables: expanded\n                    };\n                    this.sendResponse(response);\n                }\n            }\n            catch (e) {\n                this.sendErrorResponse(response, 2, `Could not expand variable: ${e}`);\n            }\n        }\n        catch (err) {\n            this.sendErrorResponse(response, 1, `Could not expand variable: ${err}`);\n        }\n    }\n\n    protected async variablesRequest(response: DebugProtocol.VariablesResponse, args: DebugProtocol.VariablesArguments): Promise<void> {\n        let id: number | string | VariableObject | ExtendedVariable;\n\n        /*\n        // How to deal with multiple anonymous unions/structs in the same scope. gdb uses the same display name for\n        // all of them. VSCode requires that all children have unique display names. So, we make them unique. The next\n        // issue is should we use the programming model which essentially flattens the union/struct or the natural one.\n        // We have three objectives we have to satisfy\n        //\n        // 1. Does it display correctly?\n        // 2. Can I do 'Add to Watch' or 'Copy as Expression' in the Variables Window?\n        // 3. Can I set a value on a field?\n        //\n        // We meet all three objectives, whether we flatten or not. I believe the natural model is better\n        // because it is closely aligned with the source code. Visual Studio and Eclipse use the flattened model.\n        // So, we have a config option to let the user decide. Not many people uae multiple anonymous stuff but\n        // Zephyr OS does and since it is legal C, we have to try our best to support it.\n        //\n        // Note: VSCode has a bug where if a union member is modified by the user, it does not refresh the Variables window\n        // but it will re-evaluate everything in the Watch window. Basically, it has no concept of a union and there is no\n        // way I know of to force a refresh\n        */\n\n        if (args.variablesReference === GLOBAL_HANDLE_ID) {\n            return this.globalVariablesRequest(response, args);\n        }\n        else if (args.variablesReference >= STATIC_HANDLES_START && args.variablesReference <= STATIC_HANDLES_FINISH) {\n            const [threadId, frameId] = GDBDebugSession.decodeReference(args.variablesReference);\n            return this.staticVariablesRequest(threadId, frameId, response, args);\n        }\n        else if (args.variablesReference >= STACK_HANDLES_START && args.variablesReference < STACK_HANDLES_FINISH) {\n            return this.stackVariablesRequest(response, args);\n        }\n        else {\n            id = this.variableHandles.get(args.variablesReference);\n\n            if (typeof id === 'string') {\n                return this.variableMembersRequest(id, response, args);\n            }\n            else if (typeof id === 'object') {\n                if (id instanceof VariableObject) {\n                    const pvar = id as VariableObject;\n\n                    // Variable members\n                    let children: VariableObject[];\n                    const childMap: {[name: string]: number} = {};\n                    try {\n                        children = await this.miDebugger.varListChildren(id.name, this.args.flattenAnonymous);\n                        const vars = children.map((child) => {\n                            const varId = this.findOrCreateVariable(child);\n                            child.id = varId;\n                            if (/^\\d+$/.test(child.exp)) {\n                                child.fullExp = `${pvar.fullExp || pvar.exp}[${child.exp}]`;\n                            }\n                            else {\n                                let suffix = '.' + child.exp;                   // A normal suffix\n                                if (child.exp.startsWith('<anonymous')) {       // We can have duplicates!!\n                                    const prev = childMap[child.exp];\n                                    if (prev) {\n                                        childMap[child.exp] = prev + 1;\n                                        child.exp += '#' + prev.toString(10);\n                                    }\n                                    childMap[child.exp] = 1;\n                                    suffix = '';    // Anonymous ones don't have a suffix. Have to use parent name\n                                } else {\n                                    // The full-name is not always derivable from the parent and child info. Esp. children\n                                    // of anonymous stuff. Might as well store all of them or set-value will not work.\n                                    pvar.children[child.exp] = child.name;\n                                }\n                                child.fullExp = `${pvar.fullExp || pvar.exp}${suffix}`;\n                            }\n                            return child.toProtocolVariable();\n                        });\n\n                        response.body = {\n                            variables: vars\n                        };\n                        this.sendResponse(response);\n                    }\n                    catch (err) {\n                        this.sendErrorResponse(response, 1, `Could not expand variable: ${err}`);\n                    }\n                }\n                else if (id instanceof ExtendedVariable) {\n                    const variables: DebugProtocol.Variable[] = [];\n\n                    const varReq = id;\n                    if (varReq.options.arg) {\n                        const strArr = [];\n                        let argsPart = true;\n                        let arrIndex = 0;\n                        const submit = () => {\n                            response.body = {\n                                variables: strArr\n                            };\n                            this.sendResponse(response);\n                        };\n                        const addOne = async () => {\n                            const variable = await this.miDebugger.evalExpression(JSON.stringify(`${varReq.name}+${arrIndex})`), -1, -1);\n                            try {\n                                const expanded = expandValue(this.createVariable.bind(this), variable.result('value'), varReq.name, variable);\n                                if (!expanded) {\n                                    this.sendErrorResponse(response, 15, 'Could not expand variable');\n                                }\n                                else {\n                                    if (typeof expanded === 'string') {\n                                        if (expanded === '<nullptr>') {\n                                            if (argsPart) { argsPart = false; }\n                                            else { return submit(); }\n                                        }\n                                        else if (expanded[0] !== '\"') {\n                                            strArr.push({\n                                                name: '[err]',\n                                                value: expanded,\n                                                variablesReference: 0\n                                            });\n                                            return submit();\n                                        }\n                                        strArr.push({\n                                            name: `[${(arrIndex++)}]`,\n                                            value: expanded,\n                                            variablesReference: 0\n                                        });\n                                        addOne();\n                                    }\n                                    else {\n                                        strArr.push({\n                                            name: '[err]',\n                                            value: expanded,\n                                            variablesReference: 0\n                                        });\n                                        submit();\n                                    }\n                                }\n                            }\n                            catch (e) {\n                                this.sendErrorResponse(response, 14, `Could not expand variable: ${e}`);\n                            }\n                        };\n                        addOne();\n                    }\n                    else {\n                        this.sendErrorResponse(response, 13, `Unimplemented variable request options: ${JSON.stringify(varReq.options)}`);\n                    }\n                }\n                else {\n                    response.body = {\n                        variables: id\n                    };\n                    this.sendResponse(response);\n                }\n            }\n            else {\n                response.body = {\n                    variables: []\n                };\n                this.sendResponse(response);\n            }\n        }\n    }\n\n    protected pauseRequest(response: DebugProtocol.PauseResponse, args: DebugProtocol.PauseArguments): void {\n        this.miDebugger.interrupt().then((done) => {\n            this.sendResponse(response);\n        }, (msg) => {\n            this.sendErrorResponse(response, 3, `Could not pause: ${msg}`);\n        });\n    }\n\n    protected continueRequest(response: DebugProtocol.ContinueResponse, args: DebugProtocol.ContinueArguments): void {\n        this.miDebugger.continue(args.threadId).then((done) => {\n            response.body = { allThreadsContinued: true };\n            this.sendResponse(response);\n        }, (msg) => {\n            this.sendErrorResponse(response, 2, `Could not continue: ${msg}`);\n        });\n    }\n\n    protected async stepInRequest(response: DebugProtocol.NextResponse, args: DebugProtocol.NextArguments): Promise<void> {\n        try {\n            let assemblyMode = this.forceDisassembly;\n            if (!assemblyMode) {\n                const frame = await this.miDebugger.getFrame(args.threadId, 0);\n                assemblyMode = !(await this.checkFileExists(frame.file));\n\n                if (this.activeEditorPath && this.activeEditorPath.startsWith('disassembly:///')) {\n                    const symbolInfo = this.symbolTable.getFunctionByName(frame.function, frame.fileName);\n                    let url: string;\n                    if (symbolInfo.file && (symbolInfo.scope !== SymbolScope.Global)) {\n                        url = `disassembly:///${symbolInfo.file}:::${symbolInfo.name}.cdasm`;\n                    }\n                    else {\n                        url = `disassembly:///${symbolInfo.name}.cdasm`;\n                    }\n                    if (url === this.activeEditorPath) { assemblyMode = true; }\n                }\n            }\n\n            const done = await this.miDebugger.step(args.threadId, assemblyMode);\n            this.sendResponse(response);\n        }\n        catch (msg) {\n            this.sendErrorResponse(response, 6, `Could not step over: ${msg}`);\n        }\n    }\n\n    protected stepOutRequest(response: DebugProtocol.NextResponse, args: DebugProtocol.NextArguments): void {\n        this.miDebugger.stepOut(args.threadId).then((done) => {\n            this.sendResponse(response);\n        }, (msg) => {\n            this.sendErrorResponse(response, 5, `Could not step out: ${msg}`);\n        });\n    }\n\n    protected async nextRequest(response: DebugProtocol.NextResponse, args: DebugProtocol.NextArguments): Promise<void> {\n        try {\n            let assemblyMode = this.forceDisassembly;\n            if (!assemblyMode) {\n                const frame = await this.miDebugger.getFrame(args.threadId, 0);\n                assemblyMode = !(await this.checkFileExists(frame.file));\n\n                if (this.activeEditorPath && this.activeEditorPath.startsWith('disassembly:///')) {\n                    const symbolInfo = this.symbolTable.getFunctionByName(frame.function, frame.fileName);\n                    let url: string;\n                    if (symbolInfo.file && (symbolInfo.scope !== SymbolScope.Global)) {\n                        url = `disassembly:///${symbolInfo.file}:::${symbolInfo.name}.cdasm`;\n                    }\n                    else {\n                        url = `disassembly:///${symbolInfo.name}.cdasm`;\n                    }\n                    if (url === this.activeEditorPath) { assemblyMode = true; }\n                }\n            }\n\n            const done = await this.miDebugger.next(args.threadId, assemblyMode);\n            this.sendResponse(response);\n        }\n        catch (msg) {\n            this.sendErrorResponse(response, 6, `Could not step over: ${msg}`);\n        }\n    }\n\n    protected checkFileExists(name: string): Promise<boolean> {\n        if (!name) { return Promise.resolve(false); }\n\n        if (this.fileExistsCache.has(name)) { // Check cache\n            return Promise.resolve(this.fileExistsCache.get(name));\n        }\n\n        return new Promise((resolve, reject) => {\n            fs.exists(name, (exists) => {\n                this.fileExistsCache.set(name, exists);\n                resolve(exists);\n            });\n        });\n    }\n\n    protected async evaluateRequest(response: DebugProtocol.EvaluateResponse, args: DebugProtocol.EvaluateArguments): Promise<void> {\n        const createVariable = (arg, options?) => {\n            if (options) {\n                return this.variableHandles.create(new ExtendedVariable(arg, options));\n            }\n            else {\n                return this.variableHandles.create(arg);\n            }\n        };\n\n        const findOrCreateVariable = (varObj: VariableObject): number => {\n            let id: number;\n            if (this.variableHandlesReverse.hasOwnProperty(varObj.name)) {\n                id = this.variableHandlesReverse[varObj.name];\n            }\n            else {\n                id = createVariable(varObj);\n                this.variableHandlesReverse[varObj.name] = id;\n            }\n            return varObj.isCompound() ? id : 0;\n        };\n\n        // Spec says if 'frameId' is specified, evaluate in the scope specified or in the global scope. Well,\n        // we don't have a way to specify global scope ... use current thread then.\n        let threadId = this.currentThreadId;\n        let frameId = 0;\n        if (args.frameId) {     // Should always be valid\n            [threadId, frameId] = GDBDebugSession.decodeReference(args.frameId);\n            if (traceThreads) {\n                this.handleMsg('log', `**** evaluateRequest: ${args.context} '${args.expression}' in thread#${threadId} frame#${frameId}\\n`);\n            }\n        } else {\n            // In practice, never seen this unless it comes from a custom request\n            this.handleMsg('log', `Thread Warning: ${args.context}: eval. expression '${args.expression}' with no thread context. Using default\\n`);\n        }\n\n        if (args.context === 'watch') {\n            try {\n                const exp = args.expression;\n                const hasher = crypto.createHash('sha256');\n                hasher.update(exp);\n                const watchName = hasher.digest('hex');\n                const varObjName = `watch_${watchName}`;\n                let varObj: VariableObject;\n                try {\n                    const changes = await this.miDebugger.varUpdate(varObjName, threadId, frameId);\n                    const changelist = changes.result('changelist');\n                    changelist.forEach((change) => {\n                        const name = MINode.valueOf(change, 'name');\n                        const vId = this.variableHandlesReverse[name];\n                        const v = this.variableHandles.get(vId) as any;\n                        v.applyChanges(change);\n                    });\n                    const varId = this.variableHandlesReverse[varObjName];\n                    varObj = this.variableHandles.get(varId) as any;\n                    response.body = {\n                        result: varObj.value,\n                        variablesReference: varObj.id\n                    };\n                }\n                catch (err) {\n                    if (err instanceof MIError && err.message === 'Variable object not found') {\n                        varObj = await this.miDebugger.varCreate(exp, varObjName, '@');  // Create floating variable\n                        const varId = findOrCreateVariable(varObj);\n                        varObj.exp = exp;\n                        varObj.id = varId;\n                        response.body = {\n                            result: varObj.value,\n                            variablesReference: varObj.id\n                        };\n                    }\n                    else {\n                        throw err;\n                    }\n                }\n                \n                this.sendResponse(response);\n            }\n            catch (err) {\n                response.body = {\n                    result: `<${err.toString()}>`,\n                    variablesReference: 0\n                };\n                this.sendErrorResponse(response, 7, err.toString());\n            }\n        }\n        else if (args.context === 'hover') {\n            try {\n                const res = await this.miDebugger.evalExpression(args.expression, threadId, frameId);\n                response.body = {\n                    variablesReference: 0,\n                    result: res.result('value')\n                };\n                this.sendResponse(response);\n            }\n            catch (e) {\n                this.sendErrorResponse(response, 7, e.toString());\n            }\n        }\n        else {\n            // REPL: Set the proper thread/frame context before sending command to gdb. We don't know\n            // what the command is but it needs to be run in the proper context.\n            this.miDebugger.sendCommand(`thread-select ${threadId}`);\n            this.miDebugger.sendCommand(`stack-select-frame ${frameId}`);\n            this.miDebugger.sendUserInput(args.expression).then((output) => {\n                if (typeof output === 'undefined') {\n                    response.body = {\n                        result: '',\n                        variablesReference: 0\n                    };\n                }\n                else {\n                    response.body = {\n                        result: JSON.stringify(output),\n                        variablesReference: 0\n                    };\n                }\n                this.sendResponse(response);\n            }, (msg) => {\n                this.sendErrorResponse(response, 8, msg.toString());\n            });\n        }\n    }\n}\n\nfunction prettyStringArray(strings) {\n    if (typeof strings === 'object') {\n        if (strings.length !== undefined) {\n            return strings.join(', ');\n        }\n        else {\n            return JSON.stringify(strings);\n        }\n    }\n    else { return strings; }\n}\n\nDebugSession.run(GDBDebugSession);\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ee = require(\"events\");\nconst messages_1 = require(\"./messages\");\nclass ProtocolServer extends ee.EventEmitter {\n    constructor() {\n        super();\n        this._pendingRequests = new Map();\n    }\n    start(inStream, outStream) {\n        this._sequence = 1;\n        this._writableStream = outStream;\n        this._rawData = new Buffer(0);\n        inStream.on('data', (data) => this._handleData(data));\n        inStream.on('close', () => {\n            this._emitEvent(new messages_1.Event('close'));\n        });\n        inStream.on('error', (error) => {\n            this._emitEvent(new messages_1.Event('error', 'inStream error: ' + (error && error.message)));\n        });\n        outStream.on('error', (error) => {\n            this._emitEvent(new messages_1.Event('error', 'outStream error: ' + (error && error.message)));\n        });\n        inStream.resume();\n    }\n    stop() {\n        if (this._writableStream) {\n            this._writableStream.end();\n        }\n    }\n    sendEvent(event) {\n        this._send('event', event);\n    }\n    sendResponse(response) {\n        if (response.seq > 0) {\n            console.error(`attempt to send more than one response for command ${response.command}`);\n        }\n        else {\n            this._send('response', response);\n        }\n    }\n    sendRequest(command, args, timeout, cb) {\n        const request = {\n            command: command\n        };\n        if (args && Object.keys(args).length > 0) {\n            request.arguments = args;\n        }\n        if (!this._writableStream) {\n            this._emitEvent(new messages_1.Event('error', 'sendRequest: No writableStream'));\n            return;\n        }\n        this._send('request', request);\n        if (cb) {\n            this._pendingRequests.set(request.seq, cb);\n            const timer = setTimeout(() => {\n                clearTimeout(timer);\n                const clb = this._pendingRequests.get(request.seq);\n                if (clb) {\n                    this._pendingRequests.delete(request.seq);\n                    clb(new messages_1.Response(request, 'timeout'));\n                }\n            }, timeout);\n        }\n    }\n    // ---- protected ----------------------------------------------------------\n    dispatchRequest(request) {\n    }\n    // ---- private ------------------------------------------------------------\n    _emitEvent(event) {\n        this.emit(event.event, event);\n    }\n    _send(typ, message) {\n        message.type = typ;\n        message.seq = this._sequence++;\n        if (this._writableStream) {\n            const json = JSON.stringify(message);\n            this._writableStream.write(`Content-Length: ${Buffer.byteLength(json, 'utf8')}\\r\\n\\r\\n${json}`, 'utf8');\n        }\n    }\n    _handleData(data) {\n        this._rawData = Buffer.concat([this._rawData, data]);\n        while (true) {\n            if (this._contentLength >= 0) {\n                if (this._rawData.length >= this._contentLength) {\n                    const message = this._rawData.toString('utf8', 0, this._contentLength);\n                    this._rawData = this._rawData.slice(this._contentLength);\n                    this._contentLength = -1;\n                    if (message.length > 0) {\n                        try {\n                            let msg = JSON.parse(message);\n                            if (msg.type === 'request') {\n                                this.dispatchRequest(msg);\n                            }\n                            else if (msg.type === 'response') {\n                                const response = msg;\n                                const clb = this._pendingRequests.get(response.request_seq);\n                                if (clb) {\n                                    this._pendingRequests.delete(response.request_seq);\n                                    clb(response);\n                                }\n                            }\n                        }\n                        catch (e) {\n                            this._emitEvent(new messages_1.Event('error', 'Error handling data: ' + (e && e.message)));\n                        }\n                    }\n                    continue; // there may be more complete messages to process\n                }\n            }\n            else {\n                const idx = this._rawData.indexOf(ProtocolServer.TWO_CRLF);\n                if (idx !== -1) {\n                    const header = this._rawData.toString('utf8', 0, idx);\n                    const lines = header.split('\\r\\n');\n                    for (let i = 0; i < lines.length; i++) {\n                        const pair = lines[i].split(/: +/);\n                        if (pair[0] == 'Content-Length') {\n                            this._contentLength = +pair[1];\n                        }\n                    }\n                    this._rawData = this._rawData.slice(idx + ProtocolServer.TWO_CRLF.length);\n                    continue;\n                }\n            }\n            break;\n        }\n    }\n}\nProtocolServer.TWO_CRLF = '\\r\\n\\r\\n';\nexports.ProtocolServer = ProtocolServer;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2wuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcHJvdG9jb2wudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Z0dBR2dHOztBQUVoRyw2QkFBNkI7QUFFN0IseUNBQTZDO0FBRzdDLE1BQWEsY0FBZSxTQUFRLEVBQUUsQ0FBQyxZQUFZO0lBVWxEO1FBQ0MsS0FBSyxFQUFFLENBQUM7UUFIRCxxQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBc0QsQ0FBQztJQUl6RixDQUFDO0lBRU0sS0FBSyxDQUFDLFFBQStCLEVBQUUsU0FBZ0M7UUFDN0UsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU5QixRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRTlELFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtZQUN6QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksZ0JBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksZ0JBQUssQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLEdBQUcsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRixDQUFDLENBQUMsQ0FBQztRQUVILFNBQVMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDL0Is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QUFDLEdBQUcsR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUMxRSxTQUFTO2lCQUNUO2FBQ0Q7WUFDRCxNQUFNO1NBQ047SUFDRixDQUFDOztBQXRKYyx1QkFBUSxHQUFHLFVBQVUsQ0FBQztBQUZ0Qyx3Q0F5SkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0ICogYXMgZWUgZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IERlYnVnUHJvdG9jb2wgfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgRXZlbnQgfSBmcm9tICcuL21lc3NhZ2VzJztcblxuXG5leHBvcnQgY2xhc3MgUHJvdG9jb2xTZXJ2ZXIgZXh0ZW5kcyBlZS5FdmVudEVtaXR0ZXIge1xuXG5cdHByaXZhdGUgc3RhdGljIFRXT19DUkxGID0gJ1xcclxcblxcclxcbic7XG5cblx0cHJpdmF0ZSBfcmF3RGF0YTogQnVmZmVyO1xuXHRwcml2YXRlIF9jb250ZW50TGVuZ3RoOiBudW1iZXI7XG5cdHByaXZhdGUgX3NlcXVlbmNlOiBudW1iZXI7XG5cdHByaXZhdGUgX3dyaXRhYmxlU3RyZWFtOiBOb2RlSlMuV3JpdGFibGVTdHJlYW07XG5cdHByaXZhdGUgX3BlbmRpbmdSZXF1ZXN0cyA9IG5ldyBNYXA8bnVtYmVyLCAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UpID0+IHZvaWQ+KCk7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGFydChpblN0cmVhbTogTm9kZUpTLlJlYWRhYmxlU3RyZWFtLCBvdXRTdHJlYW06IE5vZGVKUy5Xcml0YWJsZVN0cmVhbSk6IHZvaWQge1xuXHRcdHRoaXMuX3NlcXVlbmNlID0gMTtcblx0XHR0aGlzLl93cml0YWJsZVN0cmVhbSA9IG91dFN0cmVhbTtcblx0XHR0aGlzLl9yYXdEYXRhID0gbmV3IEJ1ZmZlcigwKTtcblxuXHRcdGluU3RyZWFtLm9uKCdkYXRhJywgKGRhdGE6IEJ1ZmZlcikgPT4gdGhpcy5faGFuZGxlRGF0YShkYXRhKSk7XG5cblx0XHRpblN0cmVhbS5vbignY2xvc2UnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLl9lbWl0RXZlbnQobmV3IEV2ZW50KCdjbG9zZScpKTtcblx0XHR9KTtcblx0XHRpblN0cmVhbS5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcblx0XHRcdHRoaXMuX2VtaXRFdmVudChuZXcgRXZlbnQoJ2Vycm9yJywgJ2luU3RyZWFtIGVycm9yOiAnICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpKSk7XG5cdFx0fSk7XG5cblx0XHRvdXRTdHJlYW0ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG5cdFx0XHR0aGlzLl9lbWl0RXZlbnQobmV3IEV2ZW50KCdlcnJvcicsICdvdXRTdHJlYW0gZXJyb3I6ICcgKyAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSkpKTtcblx0XHR9KTtcblxuXHRcdGluU3RyZWFtLnJlc3VtZSgpO1xuXHR9XG5cblx0cHVibGljIHN0b3AoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX3dyaXRhYmxlU3RyZWFtKSB7XG5cdFx0XHR0aGlzLl93cml0YWJsZVN0cmVhbS5lbmQoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc2VuZEV2ZW50KGV2ZW50OiBEZWJ1Z1Byb3RvY29sLkV2ZW50KTogdm9pZCB7XG5cdFx0dGhpcy5fc2VuZCgnZXZlbnQnLCBldmVudCk7XG5cdH1cblxuXHRwdWJsaWMgc2VuZFJlc3BvbnNlKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlKTogdm9pZCB7XG5cdFx0aWYgKHJlc3BvbnNlLnNlcSA+IDApIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYGF0dGVtcHQgdG8gc2VuZCBtb3JlIHRoYW4gb25lIHJlc3BvbnNlIGZvciBjb21tYW5kICR7cmVzcG9uc2UuY29tbWFuZH1gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fc2VuZCgncmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHNlbmRSZXF1ZXN0KGNvbW1hbmQ6IHN0cmluZywgYXJnczogYW55LCB0aW1lb3V0OiBudW1iZXIsIGNiOiAocmVzcG9uc2U6IERlYnVnUHJvdG9jb2wuUmVzcG9uc2UpID0+IHZvaWQpIDogdm9pZCB7XG5cblx0XHRjb25zdCByZXF1ZXN0OiBhbnkgPSB7XG5cdFx0XHRjb21tYW5kOiBjb21tYW5kXG5cdFx0fTtcblx0XHRpZiAoYXJncyAmJiBPYmplY3Qua2V5cyhhcmdzKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZXF1ZXN0LmFyZ3VtZW50cyA9IGFyZ3M7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLl93cml0YWJsZVN0cmVhbSkge1xuXHRcdFx0dGhpcy5fZW1pdEV2ZW50KG5ldyBFdmVudCgnZXJyb3InLCAnc2VuZFJlcXVlc3Q6IE5vIHdyaXRhYmxlU3RyZWFtJykpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NlbmQoJ3JlcXVlc3QnLCByZXF1ZXN0KTtcblxuXHRcdGlmIChjYikge1xuXHRcdFx0dGhpcy5fcGVuZGluZ1JlcXVlc3RzLnNldChyZXF1ZXN0LnNlcSwgY2IpO1xuXG5cdFx0XHRjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdFx0XHRjb25zdCBjbGIgPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHMuZ2V0KHJlcXVlc3Quc2VxKTtcblx0XHRcdFx0aWYgKGNsYikge1xuXHRcdFx0XHRcdHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdC5zZXEpO1xuXHRcdFx0XHRcdGNsYihuZXcgUmVzcG9uc2UocmVxdWVzdCwgJ3RpbWVvdXQnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRpbWVvdXQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIC0tLS0gcHJvdGVjdGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hSZXF1ZXN0KHJlcXVlc3Q6IERlYnVnUHJvdG9jb2wuUmVxdWVzdCk6IHZvaWQge1xuXHR9XG5cblx0Ly8gLS0tLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHByaXZhdGUgX2VtaXRFdmVudChldmVudDogRGVidWdQcm90b2NvbC5FdmVudCkge1xuXHRcdHRoaXMuZW1pdChldmVudC5ldmVudCwgZXZlbnQpO1xuXHR9XG5cblx0cHJpdmF0ZSBfc2VuZCh0eXA6ICdyZXF1ZXN0JyB8ICdyZXNwb25zZScgfCAnZXZlbnQnLCBtZXNzYWdlOiBEZWJ1Z1Byb3RvY29sLlByb3RvY29sTWVzc2FnZSk6IHZvaWQge1xuXG5cdFx0bWVzc2FnZS50eXBlID0gdHlwO1xuXHRcdG1lc3NhZ2Uuc2VxID0gdGhpcy5fc2VxdWVuY2UrKztcblxuXHRcdGlmICh0aGlzLl93cml0YWJsZVN0cmVhbSkge1xuXHRcdFx0Y29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fd3JpdGFibGVTdHJlYW0ud3JpdGUoYENvbnRlbnQtTGVuZ3RoOiAke0J1ZmZlci5ieXRlTGVuZ3RoKGpzb24sICd1dGY4Jyl9XFxyXFxuXFxyXFxuJHtqc29ufWAsICd1dGY4Jyk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfaGFuZGxlRGF0YShkYXRhOiBCdWZmZXIpOiB2b2lkIHtcblxuXHRcdHRoaXMuX3Jhd0RhdGEgPSBCdWZmZXIuY29uY2F0KFt0aGlzLl9yYXdEYXRhLCBkYXRhXSk7XG5cblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggPj0gMCkge1xuXHRcdFx0XHRpZiAodGhpcy5fcmF3RGF0YS5sZW5ndGggPj0gdGhpcy5fY29udGVudExlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2UgPSB0aGlzLl9yYXdEYXRhLnRvU3RyaW5nKCd1dGY4JywgMCwgdGhpcy5fY29udGVudExlbmd0aCk7XG5cdFx0XHRcdFx0dGhpcy5fcmF3RGF0YSA9IHRoaXMuX3Jhd0RhdGEuc2xpY2UodGhpcy5fY29udGVudExlbmd0aCk7XG5cdFx0XHRcdFx0dGhpcy5fY29udGVudExlbmd0aCA9IC0xO1xuXHRcdFx0XHRcdGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGxldCBtc2c6IERlYnVnUHJvdG9jb2wuUHJvdG9jb2xNZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0aWYgKG1zZy50eXBlID09PSAncmVxdWVzdCcpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoUmVxdWVzdCg8RGVidWdQcm90b2NvbC5SZXF1ZXN0PiBtc2cpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKG1zZy50eXBlID09PSAncmVzcG9uc2UnKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSA8RGVidWdQcm90b2NvbC5SZXNwb25zZT4gbXNnO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNsYiA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5nZXQocmVzcG9uc2UucmVxdWVzdF9zZXEpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjbGIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX3BlbmRpbmdSZXF1ZXN0cy5kZWxldGUocmVzcG9uc2UucmVxdWVzdF9zZXEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2xiKHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2VtaXRFdmVudChuZXcgRXZlbnQoJ2Vycm9yJywgJ0Vycm9yIGhhbmRsaW5nIGRhdGE6ICcgKyAoZSAmJiBlLm1lc3NhZ2UpKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRpbnVlO1x0Ly8gdGhlcmUgbWF5IGJlIG1vcmUgY29tcGxldGUgbWVzc2FnZXMgdG8gcHJvY2Vzc1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBpZHggPSB0aGlzLl9yYXdEYXRhLmluZGV4T2YoUHJvdG9jb2xTZXJ2ZXIuVFdPX0NSTEYpO1xuXHRcdFx0XHRpZiAoaWR4ICE9PSAtMSkge1xuXHRcdFx0XHRcdGNvbnN0IGhlYWRlciA9IHRoaXMuX3Jhd0RhdGEudG9TdHJpbmcoJ3V0ZjgnLCAwLCBpZHgpO1xuXHRcdFx0XHRcdGNvbnN0IGxpbmVzID0gaGVhZGVyLnNwbGl0KCdcXHJcXG4nKTtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYWlyID0gbGluZXNbaV0uc3BsaXQoLzogKy8pO1xuXHRcdFx0XHRcdFx0aWYgKHBhaXJbMF0gPT0gJ0NvbnRlbnQtTGVuZ3RoJykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9jb250ZW50TGVuZ3RoID0gK3BhaXJbMV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuX3Jhd0RhdGEgPSB0aGlzLl9yYXdEYXRhLnNsaWNlKGlkeCArIFByb3RvY29sU2VydmVyLlRXT19DUkxGLmxlbmd0aCk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxufVxuIl19","module.exports = require(\"url\");","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Logger = require(\"./logger\");\nconst logger = Logger.logger;\nconst debugSession_1 = require(\"./debugSession\");\nclass LoggingDebugSession extends debugSession_1.DebugSession {\n    constructor(obsolete_logFilePath, obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer) {\n        super(obsolete_debuggerLinesAndColumnsStartAt1, obsolete_isServer);\n        this.obsolete_logFilePath = obsolete_logFilePath;\n        this.on('error', (event) => {\n            logger.error(event.body);\n        });\n    }\n    start(inStream, outStream) {\n        super.start(inStream, outStream);\n        logger.init(e => this.sendEvent(e), this.obsolete_logFilePath, this._isServer);\n    }\n    /**\n     * Overload sendEvent to log\n     */\n    sendEvent(event) {\n        if (!(event instanceof Logger.LogOutputEvent)) {\n            // Don't create an infinite loop...\n            logger.verbose(`To client: ${JSON.stringify(event)}`);\n        }\n        super.sendEvent(event);\n    }\n    /**\n     * Overload sendRequest to log\n     */\n    sendRequest(command, args, timeout, cb) {\n        logger.verbose(`To client: ${JSON.stringify(command)}(${JSON.stringify(args)}), timeout: ${timeout}`);\n        super.sendRequest(command, args, timeout, cb);\n    }\n    /**\n     * Overload sendResponse to log\n     */\n    sendResponse(response) {\n        logger.verbose(`To client: ${JSON.stringify(response)}`);\n        super.sendResponse(response);\n    }\n    dispatchRequest(request) {\n        logger.verbose(`From client: ${request.command}(${JSON.stringify(request.arguments)})`);\n        super.dispatchRequest(request);\n    }\n}\nexports.LoggingDebugSession = LoggingDebugSession;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2luZ0RlYnVnU2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dnaW5nRGVidWdTZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O2dHQUdnRzs7QUFJaEcsbUNBQW1DO0FBQ25DLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDN0IsaURBQTRDO0FBRTVDLE1BQWEsbUJBQW9CLFNBQVEsMkJBQVk7SUFDcEQsWUFBMkIsb0JBQTZCLEVBQUUsd0NBQWtELEVBQUUsaUJBQTJCO1FBQ3hJLEtBQUssQ0FBQyx3Q0FBd0MsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBRHpDLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBUztRQUd2RCxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQTBCLEVBQUUsRUFBRTtZQUMvQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixDQUFDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFFTSxLQUFLLENBQUMsUUFBK0IsRUFBRSxTQUFnQztRQUM3RSxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFRDs7T0FFRztJQUNJLFNBQVMsQ0FBQyxLQUEwQjtRQUMxQyxJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQzlDLG1DQUFtQztZQUNuQyxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDdEQ7UUFFRCxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7T0FFRztJQUNJLFdBQVcsQ0FBQyxPQUFlLEVBQUUsSUFBUyxFQUFFLE9BQWUsRUFBRSxFQUE4QztRQUM3RyxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxlQUFlLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDdEcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSxZQUFZLENBQUMsUUFBZ0M7UUFDbkQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELEtBQUssQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVTLGVBQWUsQ0FBQyxPQUE4QjtRQUN2RCxNQUFNLENBQUMsT0FBTyxDQUFDLGdCQUFnQixPQUFPLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBRSxHQUFHLENBQUMsQ0FBQztRQUN6RixLQUFLLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7Q0FDRDtBQTlDRCxrREE4Q0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHtEZWJ1Z1Byb3RvY29sfSBmcm9tICd2c2NvZGUtZGVidWdwcm90b2NvbCc7XG5cbmltcG9ydCAqIGFzIExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5jb25zdCBsb2dnZXIgPSBMb2dnZXIubG9nZ2VyO1xuaW1wb3J0IHtEZWJ1Z1Nlc3Npb259IGZyb20gJy4vZGVidWdTZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIExvZ2dpbmdEZWJ1Z1Nlc3Npb24gZXh0ZW5kcyBEZWJ1Z1Nlc3Npb24ge1xuXHRwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBvYnNvbGV0ZV9sb2dGaWxlUGF0aD86IHN0cmluZywgb2Jzb2xldGVfZGVidWdnZXJMaW5lc0FuZENvbHVtbnNTdGFydEF0MT86IGJvb2xlYW4sIG9ic29sZXRlX2lzU2VydmVyPzogYm9vbGVhbikge1xuXHRcdHN1cGVyKG9ic29sZXRlX2RlYnVnZ2VyTGluZXNBbmRDb2x1bW5zU3RhcnRBdDEsIG9ic29sZXRlX2lzU2VydmVyKTtcblxuXHRcdHRoaXMub24oJ2Vycm9yJywgKGV2ZW50OiBEZWJ1Z1Byb3RvY29sLkV2ZW50KSA9PiB7XG5cdFx0XHRsb2dnZXIuZXJyb3IoZXZlbnQuYm9keSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhcnQoaW5TdHJlYW06IE5vZGVKUy5SZWFkYWJsZVN0cmVhbSwgb3V0U3RyZWFtOiBOb2RlSlMuV3JpdGFibGVTdHJlYW0pOiB2b2lkIHtcblx0XHRzdXBlci5zdGFydChpblN0cmVhbSwgb3V0U3RyZWFtKTtcblx0XHRsb2dnZXIuaW5pdChlID0+IHRoaXMuc2VuZEV2ZW50KGUpLCB0aGlzLm9ic29sZXRlX2xvZ0ZpbGVQYXRoLCB0aGlzLl9pc1NlcnZlcik7XG5cdH1cblxuXHQvKipcblx0ICogT3ZlcmxvYWQgc2VuZEV2ZW50IHRvIGxvZ1xuXHQgKi9cblx0cHVibGljIHNlbmRFdmVudChldmVudDogRGVidWdQcm90b2NvbC5FdmVudCk6IHZvaWQge1xuXHRcdGlmICghKGV2ZW50IGluc3RhbmNlb2YgTG9nZ2VyLkxvZ091dHB1dEV2ZW50KSkge1xuXHRcdFx0Ly8gRG9uJ3QgY3JlYXRlIGFuIGluZmluaXRlIGxvb3AuLi5cblx0XHRcdGxvZ2dlci52ZXJib3NlKGBUbyBjbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZXZlbnQpfWApO1xuXHRcdH1cblxuXHRcdHN1cGVyLnNlbmRFdmVudChldmVudCk7XG5cdH1cblxuXHQvKipcblx0ICogT3ZlcmxvYWQgc2VuZFJlcXVlc3QgdG8gbG9nXG5cdCAqL1xuXHRwdWJsaWMgc2VuZFJlcXVlc3QoY29tbWFuZDogc3RyaW5nLCBhcmdzOiBhbnksIHRpbWVvdXQ6IG51bWJlciwgY2I6IChyZXNwb25zZTogRGVidWdQcm90b2NvbC5SZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQge1xuXHRcdGxvZ2dlci52ZXJib3NlKGBUbyBjbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkoY29tbWFuZCl9KCR7SlNPTi5zdHJpbmdpZnkoYXJncyl9KSwgdGltZW91dDogJHt0aW1lb3V0fWApO1xuXHRcdHN1cGVyLnNlbmRSZXF1ZXN0KGNvbW1hbmQsIGFyZ3MsIHRpbWVvdXQsIGNiKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBPdmVybG9hZCBzZW5kUmVzcG9uc2UgdG8gbG9nXG5cdCAqL1xuXHRwdWJsaWMgc2VuZFJlc3BvbnNlKHJlc3BvbnNlOiBEZWJ1Z1Byb3RvY29sLlJlc3BvbnNlKTogdm9pZCB7XG5cdFx0bG9nZ2VyLnZlcmJvc2UoYFRvIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9YCk7XG5cdFx0c3VwZXIuc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcblx0fVxuXG5cdHByb3RlY3RlZCBkaXNwYXRjaFJlcXVlc3QocmVxdWVzdDogRGVidWdQcm90b2NvbC5SZXF1ZXN0KTogdm9pZCB7XG5cdFx0bG9nZ2VyLnZlcmJvc2UoYEZyb20gY2xpZW50OiAke3JlcXVlc3QuY29tbWFuZH0oJHtKU09OLnN0cmluZ2lmeShyZXF1ZXN0LmFyZ3VtZW50cykgfSlgKTtcblx0XHRzdXBlci5kaXNwYXRjaFJlcXVlc3QocmVxdWVzdCk7XG5cdH1cbn1cbiJdfQ==","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n    \n    var cb = f || function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                if (path.dirname(p) === p) return cb(er);\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) {\n                    throw err0;\n                }\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Handles {\n    constructor(startHandle) {\n        this.START_HANDLE = 1000;\n        this._handleMap = new Map();\n        this._nextHandle = typeof startHandle === 'number' ? startHandle : this.START_HANDLE;\n    }\n    reset() {\n        this._nextHandle = this.START_HANDLE;\n        this._handleMap = new Map();\n    }\n    create(value) {\n        var handle = this._nextHandle++;\n        this._handleMap.set(handle, value);\n        return handle;\n    }\n    get(handle, dflt) {\n        return this._handleMap.get(handle) || dflt;\n    }\n}\nexports.Handles = Handles;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9oYW5kbGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O2dHQUdnRzs7QUFFaEcsTUFBYSxPQUFPO0lBT25CLFlBQW1CLFdBQW9CO1FBTC9CLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBR3BCLGVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFDO1FBR3pDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxXQUFXLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDdEYsQ0FBQztJQUVNLEtBQUs7UUFDWCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDckMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBYSxDQUFDO0lBQ3hDLENBQUM7SUFFTSxNQUFNLENBQUMsS0FBUTtRQUNyQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ25DLE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUVNLEdBQUcsQ0FBQyxNQUFjLEVBQUUsSUFBUTtRQUNsQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQztJQUM1QyxDQUFDO0NBQ0Q7QUF6QkQsMEJBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmV4cG9ydCBjbGFzcyBIYW5kbGVzPFQ+IHtcblxuXHRwcml2YXRlIFNUQVJUX0hBTkRMRSA9IDEwMDA7XG5cblx0cHJpdmF0ZSBfbmV4dEhhbmRsZSA6IG51bWJlcjtcblx0cHJpdmF0ZSBfaGFuZGxlTWFwID0gbmV3IE1hcDxudW1iZXIsIFQ+KCk7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKHN0YXJ0SGFuZGxlPzogbnVtYmVyKSB7XG5cdFx0dGhpcy5fbmV4dEhhbmRsZSA9IHR5cGVvZiBzdGFydEhhbmRsZSA9PT0gJ251bWJlcicgPyBzdGFydEhhbmRsZSA6IHRoaXMuU1RBUlRfSEFORExFO1xuXHR9XG5cblx0cHVibGljIHJlc2V0KCk6IHZvaWQge1xuXHRcdHRoaXMuX25leHRIYW5kbGUgPSB0aGlzLlNUQVJUX0hBTkRMRTtcblx0XHR0aGlzLl9oYW5kbGVNYXAgPSBuZXcgTWFwPG51bWJlciwgVD4oKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUodmFsdWU6IFQpOiBudW1iZXIge1xuXHRcdHZhciBoYW5kbGUgPSB0aGlzLl9uZXh0SGFuZGxlKys7XG5cdFx0dGhpcy5faGFuZGxlTWFwLnNldChoYW5kbGUsIHZhbHVlKTtcblx0XHRyZXR1cm4gaGFuZGxlO1xuXHR9XG5cblx0cHVibGljIGdldChoYW5kbGU6IG51bWJlciwgZGZsdD86IFQpOiBUIHtcblx0XHRyZXR1cm4gdGhpcy5faGFuZGxlTWFwLmdldChoYW5kbGUpIHx8IGRmbHQ7XG5cdH1cbn1cbiJdfQ==","import { Breakpoint, IBackend, Stack, Variable, VariableObject, MIError } from '../backend';\nimport * as ChildProcess from 'child_process';\nimport { EventEmitter } from 'events';\nimport { parseMI, MINode } from '../mi_parse';\nimport * as linuxTerm from '../linux/console';\nimport * as net from 'net';\nimport * as fs from 'fs';\nimport { posix } from 'path';\nimport * as nativePath from 'path';\nconst path = posix;\n\nexport function escape(str: string) {\n    return str.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"');\n}\n\nconst nonOutput = /^(?:\\d*|undefined)[\\*\\+\\=]|[\\~\\@\\&\\^]/;\nconst gdbMatch = /(?:\\d*|undefined)\\(gdb\\)/;\nconst numRegex = /\\d+/;\n\nfunction couldBeOutput(line: string) {\n    if (nonOutput.exec(line)) {\n        return false;\n    }\n    return true;\n}\n\nconst trace = false;\n\nexport class MI2 extends EventEmitter implements IBackend {\n    public printCalls: boolean;\n    public debugOutput: boolean;\n    public procEnv: any;\n    protected currentToken: number = 1;\n    protected handlers: { [index: number]: (info: MINode) => any } = {};\n    protected buffer: string;\n    protected errbuf: string;\n    protected process: ChildProcess.ChildProcess;\n    protected stream;\n    \n    constructor(public application: string, public args: string[]) {\n        super();\n    }\n\n    public connect(cwd: string, executable: string, commands: string[]): Thenable<any> {\n        if (!nativePath.isAbsolute(executable)) {\n            executable = nativePath.join(cwd, executable);\n        }\n            \n        return new Promise((resolve, reject) => {\n            const args = [...this.args, executable];\n            this.process = ChildProcess.spawn(this.application, args, { cwd: cwd, env: this.procEnv });\n            this.process.stdout.on('data', this.stdout.bind(this));\n            this.process.stderr.on('data', this.stderr.bind(this));\n            this.process.on('exit', (() => { this.emit('quit'); }).bind(this));\n            this.process.on('error', ((err) => { this.emit('launcherror', err); }).bind(this));\n\n            const asyncPromise = this.sendCommand('gdb-set target-async on', true);\n            const promises = commands.map((c) => this.sendCommand(c));\n            promises.push(asyncPromise);\n            \n            Promise.all(promises).then(() => {\n                this.emit('debug-ready');\n                resolve();\n            }, reject);\n        });\n    }\n\n    private stdout(data) {\n        if (trace) {\n            this.log('stderr', 'stdout: ' + data);\n        }\n        if (typeof data === 'string') {\n            this.buffer += data;\n        }\n        else {\n            this.buffer += data.toString('utf8');\n        }\n        const end = this.buffer.lastIndexOf('\\n');\n        if (end !== -1) {\n            this.onOutput(this.buffer.substr(0, end));\n            this.buffer = this.buffer.substr(end + 1);\n        }\n        if (this.buffer.length) {\n            if (this.onOutputPartial(this.buffer)) {\n                this.buffer = '';\n            }\n        }\n    }\n\n    private stderr(data) {\n        if (typeof data === 'string') {\n            this.errbuf += data;\n        }\n        else {\n            this.errbuf += data.toString('utf8');\n        }\n        const end = this.errbuf.lastIndexOf('\\n');\n        if (end !== -1) {\n            this.onOutputStderr(this.errbuf.substr(0, end));\n            this.errbuf = this.errbuf.substr(end + 1);\n        }\n        if (this.errbuf.length) {\n            this.logNoNewLine('stderr', this.errbuf);\n            this.errbuf = '';\n        }\n    }\n\n    private onOutputStderr(lines) {\n        lines = lines.split('\\n') as string[];\n        lines.forEach((line) => {\n            this.log('stderr', line);\n        });\n    }\n\n    private onOutputPartial(line) {\n        if (couldBeOutput(line)) {\n            this.logNoNewLine('stdout', line);\n            return true;\n        }\n        return false;\n    }\n\n    private onOutput(lines) {\n        lines = lines.split('\\n') as string[];\n        lines.forEach((line) => {\n            if (couldBeOutput(line)) {\n                if (!gdbMatch.exec(line)) {\n                    this.log('stdout', line);\n                }\n            }\n            else {\n                const parsed = parseMI(line);\n                if (this.debugOutput) {\n                    this.log('log', 'GDB -> App: ' + JSON.stringify(parsed));\n                }\n                let handled = false;\n                if (parsed.token !== undefined) {\n                    if (this.handlers[parsed.token]) {\n                        this.handlers[parsed.token](parsed);\n                        delete this.handlers[parsed.token];\n                        handled = true;\n                    }\n                }\n                if (!handled && parsed.resultRecords && parsed.resultRecords.resultClass === 'error') {\n                    this.log('stderr', parsed.result('msg') || line);\n                }\n                if (parsed.outOfBandRecord) {\n                    parsed.outOfBandRecord.forEach((record) => {\n                        if (record.isStream) {\n                            this.log(record.type, record.content);\n                        }\n                        else {\n                            if (record.type === 'exec') {\n                                this.emit('exec-async-output', parsed);\n                                if (record.asyncClass === 'running') {\n                                    this.emit('running', parsed);\n                                }\n                                else if (record.asyncClass === 'stopped') {\n                                    const reason = parsed.record('reason');\n                                    if (trace) {\n                                        this.log('stderr', 'stop: ' + reason);\n                                    }\n                                    if (reason === 'breakpoint-hit') {\n                                        this.emit('breakpoint', parsed);\n                                    }\n                                    else if (reason === 'end-stepping-range') {\n                                        this.emit('step-end', parsed);\n                                    }\n                                    else if (reason === 'function-finished') {\n                                        this.emit('step-out-end', parsed);\n                                    }\n                                    else if (reason === 'signal-received') {\n                                        this.emit('signal-stop', parsed);\n                                    }\n                                    else if (reason === 'exited-normally') {\n                                        this.emit('exited-normally', parsed);\n                                    }\n                                    else if (reason === 'exited') { // exit with error code != 0\n                                        this.log('stderr', 'Program exited with code ' + parsed.record('exit-code'));\n                                        this.emit('exited-normally', parsed);\n                                    }\n                                    else {\n                                        this.log('console', 'Not implemented stop reason (assuming exception): ' + reason);\n                                        this.emit('stopped', parsed);\n                                    }\n                                    this.emit('generic-stopped', parsed);\n                                }\n                                else {\n                                    this.log('log', JSON.stringify(parsed));\n                                }\n                            }\n                            else if (record.type === 'notify') {\n                                let tid: undefined | string;\n                                let gid: undefined | string;\n                                for (const item of record.output) {\n                                    if (item[0] === 'id') {\n                                        tid = item[1];\n                                    } else if (item[0] === 'group-id') {\n                                        gid = item[1];\n                                    }\n                                }\n                                if (record.asyncClass === 'thread-created') {\n                                    this.emit('thread-created', { threadId: parseInt(tid), threadGroupId: gid });\n                                }\n                                else if (record.asyncClass === 'thread-exited') {\n                                    this.emit('thread-exited', { threadId: parseInt(tid), threadGroupId: gid });\n                                }\n                                else if (record.asyncClass === 'thread-selected') {\n                                    this.emit('thread-selected', { threadId: parseInt(tid) });\n                                }\n                                else if (record.asyncClass === 'thread-group-exited') {\n                                    this.emit('thread-group-exited', { threadGroupId: tid });\n                                }\n                            }\n                        }\n                    });\n                    handled = true;\n                }\n                if (parsed.token === undefined && parsed.resultRecords === undefined && parsed.outOfBandRecord.length === 0) {\n                    handled = true;\n                }\n                if (!handled) {\n                    this.log('log', 'Unhandled: ' + JSON.stringify(parsed));\n                }\n            }\n        });\n    }\n\n    private tryKill() {\n        const proc = this.process;\n        try {\n            process.kill(-proc.pid);\n        }\n        catch (e) {\n            this.log('log', `kill failed for ${-proc.pid}` + e);\n        }\n    }\n    \n    public async stop() {\n        if (trace) {\n            this.log('stderr', 'stop');\n        }\n        const proc = this.process;\n        const to = setTimeout(() => { this.tryKill(); }, 1000);\n        this.process.on('exit', (code) => { clearTimeout(to); });\n        // Disconnect first. Not doing so and exiting will cause an unwanted detach if the\n        // program is in paused state\n        await this.sendCommand('target-disconnect');\n        this.sendRaw('-gdb-exit');\n    }\n\n    public async detach() {\n        if (trace) {\n            this.log('stderr', 'detach');\n        }\n        await this.sendCommand('target-detach');\n        this.stop();\n    }\n\n    public interrupt(arg: string = ''): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'interrupt ' + arg);\n        }\n        return new Promise((resolve, reject) => {\n            this.sendCommand(`exec-interrupt ${arg}`).then((info) => {\n                resolve(info.resultRecords.resultClass === 'done');\n            }, reject);\n        });\n    }\n\n    public continue(threadId: number): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'continue');\n        }\n        return new Promise((resolve, reject) => {\n            this.sendCommand(`exec-continue --thread ${threadId}`).then((info) => {\n                resolve(info.resultRecords.resultClass === 'running');\n            }, reject);\n        });\n    }\n\n    public next(threadId: number, instruction?: boolean): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'next');\n        }\n        return new Promise((resolve, reject) => {\n            const baseCmd = instruction ? 'exec-next-instruction' : 'exec-next';\n            this.sendCommand(`${baseCmd} --thread ${threadId}`).then((info) => {\n                resolve(info.resultRecords.resultClass === 'running');\n            }, reject);\n        });\n    }\n\n    public step(threadId: number, instruction?: boolean): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'step');\n        }\n        return new Promise((resolve, reject) => {\n            const baseCmd = instruction ? 'exec-step-instruction' : 'exec-step';\n            this.sendCommand(`${baseCmd} --thread ${threadId}`).then((info) => {\n                resolve(info.resultRecords.resultClass === 'running');\n            }, reject);\n        });\n    }\n\n    public stepOut(threadId: number): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'stepOut');\n        }\n        return new Promise((resolve, reject) => {\n            this.sendCommand(`exec-finish --thread ${threadId}`).then((info) => {\n                resolve(info.resultRecords.resultClass === 'running');\n            }, reject);\n        });\n    }\n\n    public restart(commands: string[]): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'restart');\n        }\n        return this._sendCommandSequence(commands);\n    }\n\n    public postStart(commands: string[]): Thenable<boolean> {\n        if (trace) {\n            this.log('stderr', 'post-start');\n        }\n        return this._sendCommandSequence(commands);\n    }\n\n    private _sendCommandSequence(commands: string[]): Thenable<boolean> {\n        return new Promise((resolve, reject) => {\n            const nextCommand = ((commands: string[]) => {\n                if (commands.length === 0) {\n                    resolve(true);\n                } else {\n                    const command = commands[0];\n                    this.sendCommand(command).then((r) => { nextCommand(commands.slice(1)); }, reject);\n                }\n            }).bind(this);\n\n            nextCommand(commands);\n        });\n    }\n\n    public changeVariable(name: string, rawValue: string): Thenable<any> {\n        if (trace) {\n            this.log('stderr', 'changeVariable');\n        }\n        return this.sendCommand('gdb-set var ' + name + '=' + rawValue);\n    }\n\n    public setBreakPointCondition(bkptNum, condition): Thenable<any> {\n        if (trace) {\n            this.log('stderr', 'setBreakPointCondition');\n        }\n        return this.sendCommand('break-condition ' + bkptNum + ' ' + condition);\n    }\n\n    public addBreakPoint(breakpoint: Breakpoint): Promise<Breakpoint> {\n        if (trace) {\n            this.log('stderr', 'addBreakPoint');\n        }\n        return new Promise((resolve, reject) => {\n            let location = '';\n            if (breakpoint.countCondition) {\n                if (breakpoint.countCondition[0] === '>') {\n                    location += '-i ' + numRegex.exec(breakpoint.countCondition.substr(1))[0] + ' ';\n                }\n                else {\n                    const match = numRegex.exec(breakpoint.countCondition)[0];\n                    if (match.length !== breakpoint.countCondition.length) {\n                        // tslint:disable-next-line:max-line-length\n                        this.log('stderr', 'Unsupported break count expression: \\'' + breakpoint.countCondition + '\\'. Only supports \\'X\\' for breaking once after X times or \\'>X\\' for ignoring the first X breaks');\n                        location += '-t ';\n                    }\n                    else if (parseInt(match) !== 0) {\n                        location += '-t -i ' + parseInt(match) + ' ';\n                         }\n                }\n            }\n\n            if (breakpoint.raw) {\n                location += '*' + escape(breakpoint.raw);\n            }\n            else {\n                location += '\"' + escape(breakpoint.file) + ':' + breakpoint.line + '\"';\n            }\n            \n            this.sendCommand(`break-insert ${location}`).then((result) => {\n                if (result.resultRecords.resultClass === 'done') {\n                    const bkptNum = parseInt(result.result('bkpt.number'));\n                    breakpoint.number = bkptNum;\n\n                    if (breakpoint.condition) {\n                        this.setBreakPointCondition(bkptNum, breakpoint.condition).then((result) => {\n                            if (result.resultRecords.resultClass === 'done') {\n                                resolve(breakpoint);\n                            } else {\n                                resolve(null);\n                            }\n                        }, reject);\n                    }\n                    else {\n                        resolve(breakpoint);\n                    }\n                }\n                else {\n                    resolve(null);\n                }\n            }, reject);\n        });\n    }\n\n    public removeBreakpoints(breakpoints: number[]): Promise<boolean> {\n        if (trace) {\n            this.log('stderr', 'removeBreakPoint');\n        }\n        return new Promise((resolve, reject) => {\n            if (breakpoints.length === 0) {\n                resolve(true);\n            }\n            else {\n                const cmd = 'break-delete ' + breakpoints.join(' ');\n                this.sendCommand(cmd).then((result) => {\n                    resolve(result.resultRecords.resultClass === 'done');\n                }, reject);\n            }\n        });\n    }\n\n    public getFrame(thread: number, frame: number): Thenable<Stack> {\n        return new Promise((resolve, reject) => {\n            const command = `stack-info-frame --thread ${thread} --frame ${frame}`;\n\n            this.sendCommand(command).then((result) => {\n                const frame = result.result('frame');\n                const level = MINode.valueOf(frame, 'level');\n                const addr = MINode.valueOf(frame, 'addr');\n                const func = MINode.valueOf(frame, 'func');\n                const file = MINode.valueOf(frame, 'file');\n                const fullname = MINode.valueOf(frame, 'fullname');\n                let line = 0;\n                const linestr = MINode.valueOf(frame, 'line');\n                if (linestr) { line = parseInt(linestr); }\n\n                resolve({\n                    address: addr,\n                    fileName: file,\n                    file: fullname,\n                    function: func,\n                    level: level,\n                    line: line\n                });\n            }, reject);\n        });\n    }\n\n    public getStack(threadId: number, startLevel: number, maxLevels: number): Thenable<Stack[]> {\n        if (trace) {\n            this.log('stderr', 'getStack');\n        }\n        return new Promise((resolve, reject) => {\n            this.sendCommand(`stack-list-frames --thread ${threadId} ${startLevel} ${maxLevels}`).then((result) => {\n                const stack = result.result('stack');\n                const ret: Stack[] = [];\n                stack.forEach((element) => {\n                    const level = MINode.valueOf(element, '@frame.level');\n                    const addr = MINode.valueOf(element, '@frame.addr');\n                    const func = MINode.valueOf(element, '@frame.func');\n                    const filename = MINode.valueOf(element, '@frame.file');\n                    const file = MINode.valueOf(element, '@frame.fullname');\n                    let line = 0;\n                    const lnstr = MINode.valueOf(element, '@frame.line');\n                    if (lnstr) { line = parseInt(lnstr); }\n                    const from = parseInt(MINode.valueOf(element, '@frame.from'));\n                    ret.push({\n                        address: addr,\n                        fileName: filename,\n                        file: file,\n                        function: func || from,\n                        level: level,\n                        line: line\n                    });\n                });\n                resolve(ret);\n            }, reject);\n        });\n    }\n\n    public async getStackVariables(thread: number, frame: number): Promise<Variable[]> {\n        if (trace) {\n            this.log('stderr', 'getStackVariables');\n        }\n\n        const result = await this.sendCommand(`stack-list-variables --thread ${thread} --frame ${frame} --simple-values`);\n        const variables = result.result('variables');\n        const ret: Variable[] = [];\n        for (const element of variables) {\n            const key = MINode.valueOf(element, 'name');\n            const value = MINode.valueOf(element, 'value');\n            const type = MINode.valueOf(element, 'type');\n            ret.push({\n                name: key,\n                valueStr: value,\n                type: type,\n                raw: element\n            });\n        }\n        return ret;\n    }\n\n    public examineMemory(from: number, length: number): Thenable<any> {\n        if (trace) {\n            this.log('stderr', 'examineMemory');\n        }\n        return new Promise((resolve, reject) => {\n            this.sendCommand('data-read-memory-bytes 0x' + from.toString(16) + ' ' + length).then((result) => {\n                resolve(result.result('memory[0].contents'));\n            }, reject);\n        });\n    }\n\n    // Pass negative threadId/frameId to specify no context or current context\n    public evalExpression(name: string, threadId: number, frameId: number): Thenable<any> {\n        if (trace) {\n            this.log('stderr', 'evalExpression');\n        }\n        return new Promise((resolve, reject) => {\n            const thFr = MI2.getThreadFrameStr(threadId, frameId);\n            this.sendCommand(`data-evaluate-expression ${thFr} ` + name).then((result) => {\n                resolve(result);\n            }, reject);\n        });\n    }\n\n    public static FORMAT_SPEC_MAP = {\n        b: 'binary',\n        d: 'decimal',\n        h: 'hexadecimal',\n        o: 'octal',\n        n: 'natural',\n        x: 'hexadecimal'\n    };\n\n    public async varCreate(expression: string, name: string = '-', scope: string = '@'): Promise<VariableObject> {\n        if (trace) {\n            this.log('stderr', 'varCreate');\n        }\n        let fmt = null;\n        expression = expression.trim();\n        if (/,[bdhonx]$/i.test(expression)) {\n            fmt = expression.substring(expression.length - 1).toLocaleLowerCase();\n            expression = expression.substring(0, expression.length - 2);\n        }\n        expression = expression.replace(/\"/g, '\\\\\"');\n\n        const createResp = await this.sendCommand(`var-create ${name} ${scope} \"${expression}\"`);\n        let overrideVal = null;\n        if (fmt && name !== '-') {\n            const formatResp = await this.sendCommand(`var-set-format ${name} ${MI2.FORMAT_SPEC_MAP[fmt]}`);\n            overrideVal = formatResp.result('value');\n        }\n\n        let result = createResp.result('');\n        if (overrideVal) {\n            result = result.map((r: string[]) => r[0] === 'value' ?  ['value', overrideVal] : r);\n        }\n        return new VariableObject(result);\n    }\n\n    public async varEvalExpression(name: string): Promise<MINode> {\n        if (trace) {\n            this.log('stderr', 'varEvalExpression');\n        }\n        return this.sendCommand(`var-evaluate-expression ${name}`);\n    }\n\n    public async varListChildren(name: string, flattenAnonymous: boolean): Promise<VariableObject[]> {\n        if (trace) {\n            this.log('stderr', 'varListChildren');\n        }\n        // TODO: add `from` and `to` arguments\n        const res = await this.sendCommand(`var-list-children --all-values ${name}`);\n        const children = res.result('children') || [];\n        const omg: VariableObject[] = [];\n        for (const item of children) {\n            const child = new VariableObject(item[1]);\n            if (flattenAnonymous && child.exp.startsWith('<anonymous ')) {\n                omg.push(... await this.varListChildren(child.name, flattenAnonymous));\n            } else {\n                omg.push(child);\n            }\n        }\n        return omg;\n    }\n\n    public static getThreadFrameStr(threadId: number, frameId: number): string {\n        const th = threadId > 0 ? `--thread ${threadId} ` : '';\n        const fr = frameId >= 0 ? `--frame ${frameId}` : '';\n        return th + fr;\n    }\n\n    // Pass negative threadId/frameId to specify no context or current context\n    public async varUpdate(name: string = '*', threadId: number, frameId: number): Promise<MINode> {\n        if (trace) {\n            this.log('stderr', 'varUpdate');\n        }\n        return this.sendCommand(`var-update ${MI2.getThreadFrameStr(threadId, frameId)} --all-values ${name}`);\n    }\n\n    // Pass negative threadId/frameId to specify no context or current context\n    public async varAssign(name: string, rawValue: string, threadId: number, frameId: number): Promise<MINode> {\n        if (trace) {\n            this.log('stderr', 'varAssign');\n        }\n        return this.sendCommand(`var-assign ${MI2.getThreadFrameStr(threadId, frameId)} ${name} ${rawValue}`);\n    }\n\n    public logNoNewLine(type: string, msg: string) {\n        this.emit('msg', type, msg);\n    }\n\n    public log(type: string, msg: string) {\n        this.emit('msg', type, msg[msg.length - 1] === '\\n' ? msg : (msg + '\\n'));\n    }\n\n    public sendUserInput(command: string): Thenable<any> {\n        if (command.startsWith('-')) {\n            return this.sendCommand(command.substr(1));\n        }\n        else {\n            return this.sendCommand(`interpreter-exec console \"${command}\"`);\n        }\n    }\n\n    public sendRaw(raw: string) {\n        if (this.printCalls || trace) {\n            this.log('log', raw);\n        }\n        if (raw.includes('undefined')) {\n            console.log(raw);\n        }\n        this.process.stdin.write(raw + '\\n');\n    }\n\n    public getCurrentToken(): number {\n        return this.currentToken;\n    }\n\n    public sendCommand(command: string, suppressFailure: boolean = false): Thenable<MINode> {\n        const sel = this.currentToken++;\n        return new Promise((resolve, reject) => {\n            this.handlers[sel] = (node: MINode) => {\n                if (node && node.resultRecords && node.resultRecords.resultClass === 'error') {\n                    if (suppressFailure) {\n                        this.log('stderr', `WARNING: Error executing command '${command}'`);\n                        resolve(node);\n                    }\n                    else {\n                        reject(new MIError(node.result('msg') || 'Internal error', command));\n                    }\n                }\n                else {\n                    resolve(node);\n                }\n            };\n            this.sendRaw(sel + '-' + command);\n        });\n    }\n\n    public isReady(): boolean {\n        return !!this.process;\n    }\n}\n","export function hexFormat(value: number, padding: number = 8, includePrefix: boolean = true): string {\n    let base = value.toString(16);\n    while (base.length < padding) { base = '0' + base; }\n    return includePrefix ? '0x' + base : base;\n}\n\nexport function binaryFormat(value: number, padding: number = 0, includePrefix: boolean = true, group: boolean = false): string {\n    let base = (value >>> 0).toString(2);\n    while (base.length < padding) { base = '0' + base; }\n\n    if (group) {\n        const nibRem = 4 - (base.length % 4);\n        for (let i = 0; i < nibRem; i++) { base = '0' + base; }\n        const groups = base.match(/[01]{4}/g);\n        base = groups.join(' ');\n\n        base = base.substring(nibRem);\n    }\n\n    return includePrefix ? '0b' + base : base;\n}\n\nexport function createMask(offset: number, width: number) {\n    let r = 0;\n    const a = offset;\n    const b = offset + width - 1;\n    for (let i = a; i <= b; i++) { r = (r | (1 << i)) >>> 0; }\n    return r;\n}\n\nexport function extractBits(value: number, offset: number, width: number) {\n    const mask = createMask(offset, width);\n    const bvalue = ((value & mask) >>> offset) >>> 0;\n    return bvalue;\n}\n\nexport function parseInteger(value: string): number {\n    if ((/^0b([01]+)$/i).test(value)) {\n        return parseInt(value.substring(2), 2);\n    }\n    else if ((/^0x([0-9a-f]+)$/i).test(value)) {\n        return parseInt(value.substring(2), 16);\n    }\n    else if ((/^[0-9]+/i).test(value)) {\n        return parseInt(value, 10);\n    }\n    else if ((/^#[0-1]+/i).test(value)) {\n        return parseInt(value.substring(1), 2);\n    }\n    return undefined;\n}\n\nexport function parseDimIndex(spec: string, count: number): string[] {\n    if (spec.indexOf(',') !== -1) {\n        const components = spec.split(',').map((c) => c.trim());\n        if (components.length !== count) {\n            throw new Error('dimIndex Element has invalid specification.');\n        }\n        return components;\n    }\n\n    if (/^([0-9]+)\\-([0-9]+)$/i.test(spec)) {\n        const parts = spec.split('-').map((p) => parseInteger(p));\n        const start = parts[0];\n        const end = parts[1];\n\n        const numElements = end - start + 1;\n        if (numElements < count) {\n            throw new Error('dimIndex Element has invalid specification.');\n        }\n\n        const components = [];\n        for (let i = 0; i < count; i++) {\n            components.push(`${start + i}`);\n        }\n\n        return components;\n    }\n\n    if (/^[a-zA-Z]\\-[a-zA-Z]$/.test(spec)) {\n        const start = spec.charCodeAt(0);\n        const end = spec.charCodeAt(2);\n\n        const numElements = end - start + 1;\n        if (numElements < count) {\n            throw new Error('dimIndex Element has invalid specification.');\n        }\n\n        const components = [];\n        for (let i = 0; i < count; i++) {\n            components.push(String.fromCharCode(start + i));\n        }\n\n        return components;\n    }\n\n    return [];\n}\n","import * as ChildProcess from 'child_process';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\nimport { setTimeout } from 'timers';\nimport { TcpPortScanner } from '../tcpportscanner';\n\nexport class GDBServer extends EventEmitter {\n    private process: any;\n    private outBuffer: string = '';\n    private errBuffer: string = '';\n    private initResolve: (result: boolean) => void;\n    private initReject: (error: any) => void;\n    public static readonly SERVER_TIMEOUT = 10000;\n    public static readonly LOCALHOST = '0.0.0.0';\n\n    constructor(\n        private cwd: string, private application: string, private args: string[],\n        private initMatch: RegExp, private port: number|undefined) {\n        super();\n    }\n\n    public init(): Thenable<any> {\n        return new Promise((resolve, reject) => {\n            if (this.application !== null) {\n                this.initResolve = resolve;\n                this.initReject = reject;\n\n                this.process = ChildProcess.spawn(this.application, this.args, { cwd: this.cwd });\n                this.process.stdout.on('data', this.onStdout.bind(this));\n                this.process.stderr.on('data', this.onStderr.bind(this));\n                this.process.on('exit', this.onExit.bind(this));\n                this.process.on('error', this.onError.bind(this));\n\n                if ((typeof this.port === 'number') && (this.port > 0)) {\n                    // We monitor for port getting into Listening mode. This is a backup for initMatch\n                    // TcpPortScanner.waitForPortOpenOSUtil(this.port, 250, GDBServer.SERVER_TIMEOUT - 1000, true, false)\n                    TcpPortScanner.waitForPortOpen(this.port, GDBServer.LOCALHOST, true, 50, GDBServer.SERVER_TIMEOUT - 1000)\n                    .then(() => {\n                        if (this.initResolve) {\n                            this.initResolve(true);\n                            this.initReject = null;\n                            this.initResolve = null;\n                        }\n                    }).catch((e) => {\n                        // We could reject here if it is truly a timeout and not something else, caller already has a timeout\n                        // ALso, waitForPortOpenOSUtil is not bullet proof if it fails, we don't know why because of differences\n                        // in OSes, upgrades, etc. But, when it works, we know for sure it worked.\n                    });\n                }\n\n                if (this.application.indexOf('st-util') !== -1 && os.platform() === 'win32') {\n                    // For some reason we are not able to capture the st-util output on Windows\n                    // For now assume that it will launch properly within 1/2 second and resolve the init\n                    setTimeout(() => {\n                        if (this.initResolve) {\n                            this.initResolve(true);\n                            this.initReject = null;\n                            this.initResolve = null;\n                        }\n                    }, 500);\n                }\n                if (this.initMatch == null) {\n                    // If there is no init match string (e.g. QEMU) assume launch in 1/2 second and resolve\n                    setTimeout(() => {\n                        if (this.initResolve) {\n                            this.initResolve(true);\n                            this.initReject = null;\n                            this.initResolve = null;\n                        }\n                    }, 1000);\n                }\n            }\n            else { // For servers like BMP that are always running directly on the probe\n                resolve();\n            }\n        });\n    }\n\n    public exit(): void {\n        if (this.process) {\n            this.process.kill();\n            this.process = null;\n        }\n    }\n\n    private onExit(code, signal) {\n        this.emit('exit', code, signal);\n    }\n\n    private onError(err) {\n        if (this.initReject) {\n            this.initReject(err);\n            this.initReject = null;\n            this.initResolve = null;\n        }\n\n        this.emit('launcherror', err);\n    }\n\n    private onStdout(data) {\n        if (typeof data === 'string') { this.outBuffer += data; }\n        else { this.outBuffer += data.toString('utf8'); }\n\n        if (this.initResolve && this.initMatch.test(this.outBuffer)) {\n            // console.log(`********* Got initmatch on stdout ${Date.now() - this.startTime}ms`);\n            this.initResolve(true);\n            this.initResolve = null;\n            this.initReject = null;\n        }\n\n        const end = this.outBuffer.lastIndexOf('\\n');\n        if (end !== -1) {\n            this.emit('output', this.outBuffer.substring(0, end));\n            this.outBuffer = this.outBuffer.substring(end + 1);\n        }\n    }\n\n    private onStderr(data) {\n        if (typeof data === 'string') { this.errBuffer += data; }\n        else { this.errBuffer += data.toString('utf8'); }\n\n        if (this.initResolve && this.initMatch.test(this.errBuffer)) {\n            // console.log(`********* Got initmatch on stderr ${Date.now() - this.startTime}ms`);\n            this.initResolve(true);\n            this.initResolve = null;\n            this.initReject = null;\n        }\n\n        const end = this.errBuffer.lastIndexOf('\\n');\n        if (end !== -1) {\n            this.emit('output', this.errBuffer.substring(0, end));\n            this.errBuffer = this.errBuffer.substring(end + 1);\n        }\n    }\n}\n","/**\n * @fileOverview\n * A simple promises-based check to see if a TCP port is already in use.\n */\n'use strict';\n\n// define the exports first to avoid cyclic dependencies.\nexports.check = check;\nexports.waitUntilFreeOnHost = waitUntilFreeOnHost;\nexports.waitUntilFree = waitUntilFree;\nexports.waitUntilUsedOnHost = waitUntilUsedOnHost;\nexports.waitUntilUsed = waitUntilUsed;\nexports.waitForStatus = waitForStatus;\n\nvar is = require('is2');\nvar net = require('net');\nvar util = require('util');\nvar debug = require('debug')('tcp-port-used');\n\n// Global Values\nvar TIMEOUT = 2000;\nvar RETRYTIME = 250;\n\nfunction getDeferred() {\n    var resolve, reject, promise = new Promise(function(res, rej) {\n        resolve = res;\n        reject = rej;\n    });\n\n    return {\n        resolve: resolve,\n        reject: reject,\n        promise: promise\n    };\n}\n\n/**\n * Creates an options object from all the possible arguments\n * @private\n * @param {Number} port a valid TCP port number\n * @param {String} host The DNS name or IP address.\n * @param {Boolean} status The desired in use status to wait for: false === not in use, true === in use\n * @param {Number} retryTimeMs the retry interval in milliseconds - defaultis is 200ms\n * @param {Number} timeOutMs the amount of time to wait until port is free default is 1000ms\n * @return {Object} An options object with all the above parameters as properties.\n */\nfunction makeOptionsObj(port, host, inUse, retryTimeMs, timeOutMs) {\n    var opts = {};\n    opts.port = port;\n    opts.host = host;\n    opts.inUse = inUse;\n    opts.retryTimeMs = retryTimeMs;\n    opts.timeOutMs = timeOutMs;\n    return opts;\n}\n\n/**\n * Checks if a TCP port is in use by creating the socket and binding it to the\n * target port. Once bound, successfully, it's assume the port is availble.\n * After the socket is closed or in error, the promise is resolved.\n * Note: you have to be super user to correctly test system ports (0-1023).\n * @param {Number|Object} port The port you are curious to see if available. If an object, must have the parameters as properties.\n * @param {String} [host] May be a DNS name or IP address. Default '127.0.0.1'\n * @return {Object} A deferred Q promise.\n *\n * Example usage:\n *\n * var tcpPortUsed = require('tcp-port-used');\n * tcpPortUsed.check(22, '127.0.0.1')\n * .then(function(inUse) {\n *    debug('Port 22 usage: '+inUse);\n * }, function(err) {\n *    console.error('Error on check: '+util.inspect(err));\n * });\n */\nfunction check(port, host) {\n\n    var deferred = getDeferred();\n    var inUse = true;\n    var client;\n\n    var opts;\n    if (!is.obj(port)) {\n        opts = makeOptionsObj(port, host);\n    } else {\n        opts = port;\n    }\n\n    if (!is.port(opts.port)) {\n        debug('Error invalid port: '+util.inspect(opts.port));\n        deferred.reject(new Error('invalid port: '+util.inspect(opts.port)));\n        return deferred.promise;\n    }\n\n    if (is.nullOrUndefined(opts.host)) {\n        debug('set host address to default 127.0.0.1');\n        opts.host = '127.0.0.1';\n    }\n\n    function cleanUp() {\n        if (client) {\n            client.removeAllListeners('connect');\n            client.removeAllListeners('error');\n            client.end();\n            client.destroy();\n            client.unref();\n        }\n        //debug('listeners removed from client socket');\n    }\n\n    function onConnectCb() {\n        //debug('check - promise resolved - in use');\n        deferred.resolve(inUse);\n        cleanUp();\n    }\n\n    function onErrorCb(err) {\n        if (err.code !== 'ECONNREFUSED') {\n            //debug('check - promise rejected, error: '+err.message);\n            deferred.reject(err);\n        } else {\n            //debug('ECONNREFUSED');\n            inUse = false;\n            //debug('check - promise resolved - not in use');\n            deferred.resolve(inUse);\n        }\n        cleanUp();\n    }\n\n    client = new net.Socket();\n    client.once('connect', onConnectCb);\n    client.once('error', onErrorCb);\n    client.connect({port: opts.port, host: opts.host}, function() {});\n\n    return deferred.promise;\n}\n\n/**\n * Creates a deferred promise and fulfills it only when the socket's usage\n * equals status in terms of 'in use' (false === not in use, true === in use).\n * Will retry on an interval specified in retryTimeMs.  Note: you have to be\n * super user to correctly test system ports (0-1023).\n * @param {Number|Object} port a valid TCP port number, if an object, has all the parameters described as properties.\n * @param {String} host The DNS name or IP address.\n * @param {Boolean} status The desired in use status to wait for false === not in use, true === in use\n * @param {Number} [retryTimeMs] the retry interval in milliseconds - defaultis is 200ms\n * @param {Number} [timeOutMs] the amount of time to wait until port is free default is 1000ms\n * @return {Object} A deferred promise from the Q library.\n *\n * Example usage:\n *\n * var tcpPortUsed = require('tcp-port-used');\n * tcpPortUsed.waitForStatus(44204, 'some.host.com', true, 500, 4000)\n * .then(function() {\n *     console.log('Port 44204 is now in use.');\n * }, function(err) {\n *     console.log('Error: ', error.message);\n * });\n */\nfunction waitForStatus(port, host, inUse, retryTimeMs, timeOutMs) {\n\n    var deferred = getDeferred();\n    var timeoutId;\n    var timedout = false;\n    var retryId;\n\n    // the first arument may be an object, if it is not, make an object\n    var opts;\n    if (is.obj(port)) {\n        opts = port;\n    } else {\n        opts = makeOptionsObj(port, host, inUse, retryTimeMs, timeOutMs);\n    }\n\n    //debug('opts:'+util.inspect(opts);\n\n    if (!is.bool(opts.inUse)) {\n        deferred.reject(new Error('inUse must be a boolean'));\n        return deferred.promise;\n    }\n\n    if (!is.positiveInt(opts.retryTimeMs)) {\n        opts.retryTimeMs = RETRYTIME;\n        debug('set retryTime to default '+RETRYTIME+'ms');\n    }\n\n    if (!is.positiveInt(opts.timeOutMs)) {\n        opts.timeOutMs = TIMEOUT;\n        debug('set timeOutMs to default '+TIMEOUT+'ms');\n    }\n\n    function cleanUp() {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        if (retryId) {\n            clearTimeout(retryId);\n        }\n    }\n\n    function timeoutFunc() {\n        timedout = true;\n        cleanUp();\n        deferred.reject(new Error('timeout'));\n    }\n    timeoutId = setTimeout(timeoutFunc, opts.timeOutMs);\n\n    function doCheck() {\n        check(opts.port, opts.host)\n        .then(function(inUse) {\n            if (timedout) {\n                return;\n            }\n            //debug('doCheck inUse: '+inUse);\n            //debug('doCheck opts.inUse: '+opts.inUse);\n            if (inUse === opts.inUse) {\n                deferred.resolve();\n                cleanUp();\n                return;\n            } else {\n                retryId = setTimeout(function() { doCheck(); }, opts.retryTimeMs);\n                return;\n            }\n        }, function(err) {\n            if (timedout) {\n                return;\n            }\n            deferred.reject(err);\n            cleanUp();\n        });\n    }\n\n    doCheck();\n    return deferred.promise;\n}\n\n/**\n * Creates a deferred promise and fulfills it only when the socket is free.\n * Will retry on an interval specified in retryTimeMs.\n * Note: you have to be super user to correctly test system ports (0-1023).\n * @param {Number} port a valid TCP port number\n * @param {String} [host] The hostname or IP address of where the socket is.\n * @param {Number} [retryTimeMs] the retry interval in milliseconds - defaultis is 100ms.\n * @param {Number} [timeOutMs] the amount of time to wait until port is free. Default 300ms.\n * @return {Object} A deferred promise from the q library.\n *\n * Example usage:\n *\n * var tcpPortUsed = require('tcp-port-used');\n * tcpPortUsed.waitUntilFreeOnHost(44203, 'some.host.com', 500, 4000)\n * .then(function() {\n *     console.log('Port 44203 is now free.');\n *  }, function(err) {\n *     console.loh('Error: ', error.message);\n *  });\n */\nfunction waitUntilFreeOnHost(port, host, retryTimeMs, timeOutMs) {\n\n    // the first arument may be an object, if it is not, make an object\n    var opts;\n    if (is.obj(port)) {\n        opts = port;\n        opts.inUse = false;\n    } else {\n        opts = makeOptionsObj(port, host, false, retryTimeMs, timeOutMs);\n    }\n\n    return waitForStatus(opts);\n}\n\n/**\n * For compatibility with previous version of the module, that did not provide\n * arguements for hostnames. The host is set to the localhost '127.0.0.1'.\n * @param {Number|Object} port a valid TCP port number. If an object, must contain all the parameters as properties.\n * @param {Number} [retryTimeMs] the retry interval in milliseconds - defaultis is 100ms.\n * @param {Number} [timeOutMs] the amount of time to wait until port is free. Default 300ms.\n * @return {Object} A deferred promise from the q library.\n *\n * Example usage:\n *\n * var tcpPortUsed = require('tcp-port-used');\n * tcpPortUsed.waitUntilFree(44203, 500, 4000)\n * .then(function() {\n *     console.log('Port 44203 is now free.');\n *  }, function(err) {\n *     console.loh('Error: ', error.message);\n *  });\n */\nfunction waitUntilFree(port, retryTimeMs, timeOutMs) {\n\n    // the first arument may be an object, if it is not, make an object\n    var opts;\n    if (is.obj(port)) {\n        opts = port;\n        opts.host = '127.0.0.1';\n        opts.inUse = false;\n    } else {\n        opts = makeOptionsObj(port, '127.0.0.1', false, retryTimeMs, timeOutMs);\n    }\n\n    return waitForStatus(opts);\n}\n\n/**\n * Creates a deferred promise and fulfills it only when the socket is used.\n * Will retry on an interval specified in retryTimeMs.\n * Note: you have to be super user to correctly test system ports (0-1023).\n * @param {Number|Object} port a valid TCP port number. If an object, must contain all the parameters as properties.\n * @param {Number} [retryTimeMs] the retry interval in milliseconds - defaultis is 500ms\n * @param {Number} [timeOutMs] the amount of time to wait until port is free\n * @return {Object} A deferred promise from the q library.\n *\n * Example usage:\n *\n * var tcpPortUsed = require('tcp-port-used');\n * tcpPortUsed.waitUntilUsedOnHost(44204, 'some.host.com', 500, 4000)\n * .then(function() {\n *     console.log('Port 44204 is now in use.');\n * }, function(err) {\n *     console.log('Error: ', error.message);\n * });\n */\nfunction waitUntilUsedOnHost(port, host, retryTimeMs, timeOutMs) {\n\n    // the first arument may be an object, if it is not, make an object\n    var opts;\n    if (is.obj(port)) {\n        opts = port;\n        opts.inUse = true;\n    } else {\n        opts = makeOptionsObj(port, host, true, retryTimeMs, timeOutMs);\n    }\n\n    return waitForStatus(opts);\n}\n\n/**\n * For compatibility to previous version of module which did not have support\n * for host addresses. This function works only for localhost.\n * @param {Number} port a valid TCP port number. If an Object, must contain all the parameters as properties.\n * @param {Number} [retryTimeMs] the retry interval in milliseconds - defaultis is 500ms\n * @param {Number} [timeOutMs] the amount of time to wait until port is free\n * @return {Object} A deferred promise from the q library.\n *\n * Example usage:\n *\n * var tcpPortUsed = require('tcp-port-used');\n * tcpPortUsed.waitUntilUsed(44204, 500, 4000)\n * .then(function() {\n *     console.log('Port 44204 is now in use.');\n * }, function(err) {\n *     console.log('Error: ', error.message);\n * });\n */\nfunction waitUntilUsed(port, retryTimeMs, timeOutMs) {\n\n    // the first arument may be an object, if it is not, make an object\n    var opts;\n    if (is.obj(port)) {\n        opts = port;\n        opts.host = '127.0.0.1';\n        opts.inUse = true;\n    } else {\n        opts = makeOptionsObj(port, '127.0.0.1', true, retryTimeMs, timeOutMs);\n    }\n\n    return waitUntilUsedOnHost(opts);\n}\n\n","/**\n * @fileOverview\n * is2 derived from is by Enrico Marino, adapted for Node.js.\n * Slightly modified by Edmond Meinfelder\n *\n * is\n * the definitive JavaScript type testing library\n * Copyright(c) 2013,2014 Edmond Meinfelder <edmond@stdarg.com>\n * Copyright(c) 2011 Enrico Marino <enrico.marino@email.com>\n * MIT license\n */\n'use strict';\nconst owns = {}.hasOwnProperty;\nconst toString = {}.toString;\nconst is = exports;\nconst deepIs = require('deep-is');\nconst ipRegEx =  require('ip-regex');\nis.version = require('./package.json').version;\n\n////////////////////////////////////////////////////////////////////////////////\n// Environment\n\n/**\n * Tests if is is running under a browser.\n * @return {Boolean} true if the environment has process, process.version and process.versions.\n */\nis.browser = function() {\n    return (!is.node() && typeof window !== 'undefined' && toString.call(window) === '[object global]');\n};\n\n/**\n * Test if 'value' is defined.\n * Alias: def\n * @param {Any} value The value to test.\n * @return {Boolean} true if 'value' is defined, false otherwise.\n */\nis.defined = function(value) {\n    return typeof value !== 'undefined';\n};\nis.def = is.defined;\n\n/**\n * Tests if is is running under node.js\n * @return {Boolean} true if the environment has process, process.version and process.versions.\n */\nis.nodejs = function() {\n    return (process && process.hasOwnProperty('version') &&\n            process.hasOwnProperty('versions'));\n};\nis.node = is.nodejs;\n\n/**\n * Test if 'value' is undefined.\n * Aliases: undef, udef\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is undefined, false otherwise.\n */\nis.undefined = function(value) {\n    return value === undefined;\n};\nis.udef = is.undef = is.undefined;\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Types\n\n/**\n * Test if 'value' is an array.\n * Alias: ary, arry\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is an array, false otherwise.\n */\nis.array = function(value) {\n    return '[object Array]' === toString.call(value);\n};\nis.arr = is.ary = is.arry = is.array;\n\n/**\n * Test if 'value' is an arraylike object (i.e. it has a length property with a valid value)\n * Aliases: arraylike, arryLike, aryLike\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is an arguments object, false otherwise.\n */\nis.arrayLike = function(value) {\n    if (is.nullOrUndef(value))\n        return false;\n    return value !== undefined &&\n        owns.call(value, 'length') &&\n        isFinite(value.length);\n};\nis.arrLike = is.arryLike = is.aryLike = is.arraylike = is.arrayLike;\n\n/**\n * Test if 'value' is an arguments object.\n * Alias: args\n * @param {Any} value value to test\n * @return {Boolean} true if 'value' is an arguments object, false otherwise\n */\nis.arguments = function(value) {\n    return '[object Arguments]' === toString.call(value);\n};\nis.args = is.arguments;\n\n/**\n * Test if 'value' is a boolean.\n * Alias: bool\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is a boolean, false otherwise.\n */\nis.boolean = function(value) {\n    return '[object Boolean]' === toString.call(value);\n};\nis.bool = is.boolean;\n\n/**\n * Test if 'value' is an instance of Buffer.\n * Aliases: instOf, instanceof\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is an instance of 'constructor'.\n */\nis.buffer = function(value) {\n    return is.nodejs() && Buffer && Buffer.hasOwnProperty('isBuffer') && Buffer.isBuffer(value);\n};\nis.buff = is.buf = is.buffer;\n\n/**\n * Test if 'value' is a date.\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is a date, false otherwise.\n */\nis.date = function(value) {\n    return '[object Date]' === toString.call(value);\n};\n\n/**\n * Test if 'value' is an error object.\n * Alias: err\n * @param value value to test.\n * @return {Boolean} true if 'value' is an error object, false otherwise.\n */\nis.error = function(value) {\n    return '[object Error]' === toString.call(value);\n};\nis.err = is.error;\n\n/**\n * Test if 'value' is false.\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is false, false otherwise\n */\nis.false = function(value) {\n    return value === false;\n};\n\n/**\n * Test if 'value' is a function or async function.\n * Alias: func\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is a function, false otherwise.\n */\nis.function = function(value) {\n    return is.syncFunction(value) || is.asyncFunction(value)\n};\nis.fun = is.func = is.function;\n\n/**\n * Test if 'value' is an async function using `async () => {}` or `async function () {}`.\n * Alias: func\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is a function, false otherwise.\n */\nis.asyncFunction = function(value) {\n  return '[object AsyncFunction]' === toString.call(value);\n}\nis.asyncFun = is.asyncFunc = is.asyncFunction;\n\n/**\n * Test if 'value' is a synchronous function.\n * Alias: syncFunc\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is a function, false otherwise.\n */\nis.syncFunction = function (value) {\n  return '[object Function]' === toString.call(value);\n}\nis.syncFun = is.syncFunc = is.syncFunction\n/**\n * Test if 'value' is null.\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is null, false otherwise.\n */\nis.null = function(value) {\n    return value === null;\n};\n\n/**\n * Test is 'value' is either null or undefined.\n * Alias: nullOrUndef\n * @param {Any} value value to test.\n * @return {Boolean} True if value is null or undefined, false otherwise.\n */\nis.nullOrUndefined = function(value) {\n    return value === null || typeof value === 'undefined';\n};\nis.nullOrUndef = is.nullOrUndefined;\n\n/**\n * Test if 'value' is a number.\n * Alias: num\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a number, false otherwise.\n */\nis.number = function(value) {\n    return '[object Number]' === toString.call(value);\n};\nis.num = is.number;\n\n/**\n * Test if 'value' is an object. Note: Arrays, RegExps, Date, Error, etc all return false.\n * Alias: obj\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is an object, false otherwise.\n */\nis.object = function(value) {\n    return '[object Object]' === toString.call(value);\n};\nis.obj = is.object;\n\n/**\n * Test if 'value' is a regular expression.\n * Alias: regexp\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a regexp, false otherwise.\n */\nis.regExp = function(value) {\n    return '[object RegExp]' === toString.call(value);\n};\nis.re = is.regexp = is.regExp;\n\n/**\n * Test if 'value' is a string.\n * Alias: str\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a string, false otherwise.\n */\nis.string = function(value) {\n    return '[object String]' === toString.call(value);\n};\nis.str = is.string;\n\n/**\n * Test if 'value' is true.\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is true, false otherwise.\n */\nis.true = function(value) {\n    return value === true;\n};\n\n/**\n * Test if 'value' is a uuid (v1-v5)\n * @param {Any} value to test.\n * @return {Boolean} true if 'value is a valid RFC4122 UUID. Case non-specific.\n */\nvar uuidRegExp = new RegExp('[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab]'+\n                            '[0-9a-f]{3}-[0-9a-f]{12}', 'i');\nis.uuid = function(value) {\n    return uuidRegExp.test(value);\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// Object Relationships\n\n/**\n * Test if 'value' is equal to 'other'. Works for objects and arrays and will do deep comparisions,\n * using recursion.\n * Alias: eq\n * @param {Any} value value.\n * @param {Any} other value to compare with.\n * @return {Boolean} true if 'value' is equal to 'other', false otherwise\n */\nis.equal = function(value, other) {\n    var type = toString.call(value);\n\n    if (typeof value !== typeof other) {\n        return false;\n    }\n\n    if (type !== toString.call(other)) {\n        return false;\n    }\n\n    if ('[object Object]' === type || '[object Array]' === type) {\n        return deepIs(value, other);\n    } else if ('[object Function]' === type) {\n        return value.prototype === other.prototype;\n    } else if ('[object Date]' === type) {\n        return value.getTime() === other.getTime();\n    }\n\n    return value === other;\n};\nis.objEquals = is.eq = is.equal;\n\n/**\n * JS Type definitions which cannot host values.\n * @api private\n */\nvar NON_HOST_TYPES = {\n    'boolean': 1,\n    'number': 1,\n    'string': 1,\n    'undefined': 1\n};\n\n/**\n * Test if 'key' in host is an object. To be hosted means host[value] is an object.\n * @param {Any} value The value to test.\n * @param {Any} host Host that may contain value.\n * @return {Boolean} true if 'value' is hosted by 'host', false otherwise.\n */\nis.hosted = function(value, host) {\n    if (is.nullOrUndef(value))\n        return false;\n    var type = typeof host[value];\n    return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n};\n\n/**\n * Test if 'value' is an instance of 'constructor'.\n * Aliases: instOf, instanceof\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is an instance of 'constructor'.\n */\nis.instanceOf = function(value, constructor) {\n    if (is.nullOrUndef(value) || is.nullOrUndef(constructor))\n        return false;\n    return (value instanceof constructor);\n};\nis.instOf = is.instanceof = is.instanceOf;\n\n/**\n * Test if 'value' is an instance type objType.\n * Aliases: objInstOf, objectinstanceof, instOf, instanceOf\n * @param {object} objInst an object to testfor type.\n * @param {object} objType an object type to compare.\n * @return {Boolean} true if 'value' is an object, false otherwise.\n */\nis.objectInstanceOf = function(objInst, objType) {\n    try {\n        return '[object Object]' === toString.call(objInst) && (objInst instanceof objType);\n    } catch(err) {\n        return false;\n    }\n};\nis.instOf = is.instanceOf = is.objInstOf = is.objectInstanceOf;\n\n/**\n * Test if 'value' is a type of 'type'.\n * Alias: a\n * @param value value to test.\n * @param {String} type The name of the type.\n * @return {Boolean} true if 'value' is an arguments object, false otherwise.\n */\nis.type = function(value, type) {\n    return typeof value === type;\n};\nis.a = is.type;\n\n////////////////////////////////////////////////////////////////////////////////\n// Object State\n\n/**\n * Test if 'value' is empty. To be empty means to be an array, object or string with nothing contained.\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is empty, false otherwise.\n */\nis.empty = function(value) {\n    var type = toString.call(value);\n\n    if ('[object Array]' === type || '[object Arguments]' === type) {\n        return value.length === 0;\n    }\n\n    if ('[object Object]' === type) {\n        for (var key in value) if (owns.call(value, key)) return false;\n        return true;\n    }\n\n    if ('[object String]' === type) {\n        return value === '';\n    }\n\n    return false;\n};\n\n/**\n * Test if 'value' is an arguments object that is empty.\n * Alias: args\n * @param {Any} value value to test\n * @return {Boolean} true if 'value' is an arguments object with no args, false otherwise\n */\nis.emptyArguments = function(value) {\n    return '[object Arguments]' === toString.call(value) && value.length === 0;\n};\nis.noArgs = is.emptyArgs = is.emptyArguments;\n\n/**\n * Test if 'value' is an array containing no entries.\n * Aliases: emptyArry, emptyAry\n * @param {Any} value The value to test.\n * @return {Boolean} true if 'value' is an array with no elemnets.\n */\nis.emptyArray = function(value) {\n    return '[object Array]' === toString.call(value) && value.length === 0;\n};\nis.emptyArry = is.emptyAry = is.emptyArray;\n\n/**\n * Test if 'value' is an empty array(like) object.\n * Aliases: arguents.empty, args.empty, ary.empty, arry.empty\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is an empty array(like), false otherwise.\n */\nis.emptyArrayLike = function(value) {\n    return value.length === 0;\n};\nis.emptyArrLike = is.emptyArrayLike;\n\n/**\n * Test if 'value' is an empty string.\n * Alias: emptyStr\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is am empty string, false otherwise.\n */\nis.emptyString = function(value) {\n    return is.string(value) && value.length === 0;\n};\nis.emptyStr = is.emptyString;\n\n/**\n * Test if 'value' is an array containing at least 1 entry.\n * Aliases: nonEmptyArry, nonEmptyAry\n * @param {Any} value The value to test.\n * @return {Boolean} true if 'value' is an array with at least 1 value, false otherwise.\n */\nis.nonEmptyArray = function(value) {\n    return '[object Array]' === toString.call(value) && value.length > 0;\n};\nis.nonEmptyArr = is.nonEmptyArry = is.nonEmptyAry = is.nonEmptyArray;\n\n/**\n * Test if 'value' is an object with properties. Note: Arrays are objects.\n * Alias: nonEmptyObj\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is an object, false otherwise.\n */\nis.nonEmptyObject = function(value) {\n    return '[object Object]' === toString.call(value) && Object.keys(value).length > 0;\n};\nis.nonEmptyObj = is.nonEmptyObject;\n\n/**\n * Test if 'value' is an object with no properties. Note: Arrays are objects.\n * Alias: nonEmptyObj\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is an object, false otherwise.\n */\nis.emptyObject = function(value) {\n    return '[object Object]' === toString.call(value) && Object.keys(value).length === 0;\n};\nis.emptyObj = is.emptyObject;\n\n/**\n * Test if 'value' is a non-empty string.\n * Alias: nonEmptyStr\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a non-empty string, false otherwise.\n */\nis.nonEmptyString = function(value) {\n    return is.string(value) && value.length > 0;\n};\nis.nonEmptyStr = is.nonEmptyString;\n\n////////////////////////////////////////////////////////////////////////////////\n// Numeric Types within Number\n\n/**\n * Test if 'value' is an even number.\n * @param {Number} value to test.\n * @return {Boolean} true if 'value' is an even number, false otherwise.\n */\nis.even = function(value) {\n    return '[object Number]' === toString.call(value) && value % 2 === 0;\n};\n\n/**\n * Test if 'value' is a decimal number.\n * Aliases: decimalNumber, decNum\n * @param {Any} value value to test.\n * @return {Boolean} true if 'value' is a decimal number, false otherwise.\n */\nis.decimal = function(value) {\n    return '[object Number]' === toString.call(value) && value % 1 !== 0;\n};\nis.dec = is.decNum = is.decimal;\n\n/**\n * Test if 'value' is an integer.\n * Alias: integer\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is an integer, false otherwise.\n */\nis.integer = function(value) {\n    return '[object Number]' === toString.call(value) && value % 1 === 0;\n};\nis.int = is.integer;\n\n/**\n * is.nan\n * Test if `value` is not a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is not a number, false otherwise\n * @api public\n */\nis.notANumber = function(value) {\n    return !is.num(value) || value !== value;\n};\nis.nan = is.notANum = is.notANumber;\n\n/**\n * Test if 'value' is an odd number.\n * @param {Number} value to test.\n * @return {Boolean} true if 'value' is an odd number, false otherwise.\n */\nis.odd = function(value) {\n    return !is.decimal(value) && '[object Number]' === toString.call(value) && value % 2 !== 0;\n};\nis.oddNumber = is.oddNum = is.odd;\n\n////////////////////////////////////////////////////////////////////////////////\n// Numeric Type & State\n\n/**\n * Test if 'value' is a positive number.\n * Alias: positiveNum, posNum\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a number, false otherwise.\n */\nis.positiveNumber = function(value) {\n    return '[object Number]' === toString.call(value) && value > 0;\n};\nis.pos = is.positive = is.posNum = is.positiveNum = is.positiveNumber;\n\n/**\n * Test if 'value' is a negative number.\n * Aliases: negNum, negativeNum\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a number, false otherwise.\n */\nis.negativeNumber = function(value) {\n    return '[object Number]' === toString.call(value) && value < 0;\n};\nis.neg = is.negNum = is.negativeNum = is.negativeNumber;\n\n/**\n * Test if 'value' is a negative integer.\n * Aliases: negInt, negativeInteger\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a negative integer, false otherwise.\n */\nis.negativeInteger = function(value) {\n    return '[object Number]' === toString.call(value) && value % 1 === 0 && value < 0;\n};\nis.negativeInt = is.negInt = is.negativeInteger;\n\n/**\n * Test if 'value' is a positive integer.\n * Alias: posInt\n * @param {Any} value to test.\n * @return {Boolean} true if 'value' is a positive integer, false otherwise.\n */\nis.positiveInteger = function(value) {\n    return '[object Number]' === toString.call(value) && value % 1 === 0 && value > 0;\n};\nis.posInt = is.positiveInt = is.positiveInteger;\n\n////////////////////////////////////////////////////////////////////////////////\n// Numeric Relationships\n\n/**\n * Test if 'value' is divisible by 'n'.\n * Alias: divisBy\n * @param {Number} value value to test.\n * @param {Number} n dividend.\n * @return {Boolean} true if 'value' is divisible by 'n', false otherwise.\n */\nis.divisibleBy = function(value, n) {\n    if (value === 0)\n        return false;\n    return '[object Number]' === toString.call(value) &&\n        n !== 0 &&\n        value % n === 0;\n};\nis.divBy = is.divisBy = is.divisibleBy;\n\n/**\n * Test if 'value' is greater than or equal to 'other'.\n * Aliases: greaterOrEq, greaterOrEqual\n * @param {Number} value value to test.\n * @param {Number} other value to compare with.\n * @return {Boolean} true, if value is greater than or equal to other, false otherwise.\n */\nis.greaterOrEqualTo = function(value, other) {\n    return value >= other;\n};\nis.greaterOrEqual = is.ge = is.greaterOrEqualTo;\n\n/**\n * Test if 'value' is greater than 'other'.\n * Aliases: greaterThan\n * @param {Number} value value to test.\n * @param {Number} other value to compare with.\n * @return {Boolean} true, if value is greater than other, false otherwise.\n */\nis.greaterThan = function(value, other) {\n    return value > other;\n};\nis.gt = is.greaterThan;\n\n/**\n * Test if 'value' is less than or equal to 'other'.\n * Alias: lessThanOrEq, lessThanOrEqual\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} true, if 'value' is less than or equal to 'other', false otherwise.\n */\nis.lessThanOrEqualTo = function(value, other) {\n    return value <= other;\n};\nis.lessThanOrEq = is.lessThanOrEqual = is.le = is.lessThanOrEqualTo;\n\n/**\n * Test if 'value' is less than 'other'.\n * Alias: lessThan\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} true, if 'value' is less than 'other', false otherwise.\n */\nis.lessThan = function(value, other) {\n    return value < other;\n};\nis.lt = is.lessThan;\n\n/**\n * Test if 'value' is greater than 'others' values.\n * Alias: max\n * @param {Number} value value to test.\n * @param {Array} others values to compare with.\n * @return {Boolean} true if 'value' is greater than 'others' values.\n */\nis.maximum = function(value, others) {\n    if (!is.arrayLike(others) || !is.number(value))\n        return false;\n\n    var len = others.length;\n    while (--len > -1) {\n        if (value < others[len]) {\n            return false;\n        }\n    }\n\n    return true;\n};\nis.max = is.maximum;\n\n/**\n * Test if 'value' is less than 'others' values.\n * Alias: min\n * @param {Number} value value to test.\n * @param {Array} others values to compare with.\n * @return {Boolean} true if 'value' is less than 'others' values.\n */\nis.minimum = function(value, others) {\n    if (!is.arrayLike(others) || !is.number(value))\n        return false;\n\n    var len = others.length;\n    while (--len > -1) {\n        if (value > others[len]) {\n            return false;\n        }\n    }\n\n    return true;\n};\nis.min = is.minimum;\n\n/**\n * Test if 'value' is within 'start' and 'finish'.\n * Alias: withIn\n * @param {Number} value value to test.\n * @param {Number} start lower bound.\n * @param {Number} finish upper bound.\n * @return {Boolean} true if 'value' is is within 'start' and 'finish', false otherwise.\n */\nis.within = function(value, start, finish) {\n    return value >= start && value <= finish;\n};\nis.withIn = is.within;\n\n/**\n * Test if 'value' is within 'precision' decimal places from 'comparitor'.\n * Alias: closish, near.\n * @param {Number} value value to test\n * @param {Number} comparitor value to test 'value' against\n * @param {Number} precision number of decimals to compare floating points, defaults to 2\n * @return {Boolean} true if 'value' is within 'precision' decimal places from 'comparitor', false otherwise.\n */\nis.prettyClose = function(value, comparitor, precision) {\n  if (!is.number(value) || !is.number(comparitor)) return false;\n  if (is.defined(precision) && !is.posInt(precision)) return false;\n  if (is.undefined(precision)) precision = 2;\n\n  return value.toFixed(precision) === comparitor.toFixed(precision);\n};\nis.closish = is.near = is.prettyClose;\n////////////////////////////////////////////////////////////////////////////////\n// Networking\n\n/**\n * Test if a value is a valid DNS address. eg www.stdarg.com is true while\n * 127.0.0.1 is false.\n * @param {Any} value to test if a DNS address.\n * @return {Boolean} true if a DNS address, false otherwise.\n * DNS Address is made up of labels separated by '.'\n * Each label must be between 1 and 63 characters long\n * The entire hostname (including the delimiting dots) has a maximum of 255 characters.\n * Hostname may not contain other characters, such as the underscore character (_)\n * other DNS names may contain the underscore.\n */\nis.dnsAddress = function(value) {\n    if (!is.nonEmptyStr(value))  return false;\n    if (value.length > 255)  return false;\n    if (numbersLabel.test(value))  return false;\n    if (!dnsLabel.test(value))  return false;\n    return true;\n    //var names = value.split('.');\n    //if (!is.array(names) || !names.length)  return false;\n    //if (names[0].indexOf('_') > -1)  return false;\n    //for (var i=0; i<names.length; i++) {\n        //if (!dnsLabel.test(names[i]))  return false;\n    //}\n    //return true;\n};\nis.dnsAddr = is.dns = is.dnsAddress;\nvar dnsLabel = /^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])(\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9]))*$/;\nvar numbersLabel = /^([0-9]|[0-9][0-9\\-]{0,61}[0-9])(\\.([0-9]|[0-9][0-9\\-]{0,61}[0-9]))*$/;\n\n/**\n * Test if value is a valid email address.\n * @param {Any} value to test if an email address.\n * @return {Boolean} true if an email address, false otherwise.\n */\nis.emailAddress = function(value) {\n    if (!is.nonEmptyStr(value))\n        return false;\n    return emailRegexp.test(value);\n};\nis.email = is.emailAddr = is.emailAddress;\nvar emailRegexp = /^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*$/;\n\n/**\n * Test if a value is either an IPv4 numeric IP address.\n * The rules are:\n * must be a string\n * length must be 15 characters or less\n * There must be four octets separated by a '.'\n * No octet can be less than 0 or greater than 255.\n * @param {Any} value to test if an ip address.\n * @return {Boolean} true if an ip address, false otherwise.\n */\nis.ipv4Address = function(value) {\n    if (!is.nonEmptyStr(value))  return false;\n    if (value.length > 15)  return false;\n    var octets = value.split('.');\n    if (!is.array(octets) || octets.length !== 4)  return false;\n    for (var i=0; i<octets.length; i++) {\n        var val = parseInt(octets[i], 10);\n        if (isNaN(val))  return false;\n        if (val < 0 || val > 255)  return false;\n    }\n    return true;\n};\nis.ipv4 = is.ipv4Addr = is.ipv4Address;\n\n/**\n * Test if a value is either an IPv6 numeric IP address.\n * @param {Any} value to test if an ip address.\n * @return {Boolean} true if an ip address, false otherwise.\n */\nis.ipv6Address = function(value) {\n    if (!is.nonEmptyStr(value))  return false;\n    return ipRegEx.v6({extract: true}).test(value);\n};\nis.ipv6 = is.ipv6Addr = is.ipv6Address;\n\n/**\n * Test if a value is either an IPv4 or IPv6 numeric IP address.\n * @param {Any} value to test if an ip address.\n * @return {Boolean} true if an ip address, false otherwise.\n */\nis.ipAddress = function(value) {\n    if (!is.nonEmptyStr(value)) return false;\n    return is.ipv4Address(value) || is.ipv6Address(value)\n};\nis.ip = is.ipAddr = is.ipAddress;\n\n/**\n * Test is a value is a valid ipv4, ipv6 or DNS name.\n * Aliases: host, hostAddr, hostAddress.\n * @param {Any} value to test if a host address.\n * @return {Boolean} true if a host address, false otherwise.\n */\nis.hostAddress = function(value) {\n    if (!is.nonEmptyStr(value)) return false;\n    return is.dns(value) || is.ipv4(value) || is.ipv6(value);\n};\nis.host = is.hostIp = is.hostAddr = is.hostAddress;\n\n/**\n * Test if a number is a valid TCP port\n * @param {Any} value to test if its a valid TCP port\n */\nis.port = function(value) {\n    if (!is.num(value) || is.negativeInt(value) || value > 65535)\n        return false;\n    return true;\n};\n\n/**\n * Test if a number is a valid TCP port in the range 0-1023.\n * Alias: is.sysPort.\n * @param {Any} value to test if its a valid TCP port\n */\nis.systemPort = function(value) {\n    if (is.port(value) && value < 1024)\n        return true;\n    return false;\n};\nis.sysPort = is.systemPort;\n\n/**\n * Test if a number is a valid TCP port in the range 1024-65535.\n * @param {Any} value to test if its a valid TCP port\n */\nis.userPort = function(value) {\n    if (is.port(value) && value > 1023)\n        return true;\n    return false;\n};\n\n/*\nfunction sumDigits(num) {\n    var str = num.toString();\n    var sum = 0;\n    for (var i = 0; i < str.length; i++)\n        sum += (str[i]-0);\n    return sum;\n}\n*/\n\n/**\n * Test if a string is a credit card.\n * From http://en.wikipedia.org/wiki/Luhn_algorithm\n * @param {String} value to test if a credit card.\n * @return true if the string is the correct format, false otherwise\n */\nis.creditCardNumber = function(str) {\n    if (!is.str(str))\n        return false;\n\n    var ary = str.split('');\n    var i, cnt;\n    // From the rightmost digit, which is the check digit, moving left, double\n    // the value of every second digit;\n    for (i=ary.length-1, cnt=1; i>-1; i--, cnt++) {\n        if (cnt%2 === 0)\n            ary[i] *= 2;\n    }\n\n    str = ary.join('');\n    var sum = 0;\n    // if the product of the previous doubling operation is greater than 9\n    // (e.g., 7 * 2 = 14), then sum the digits of the products (e.g., 10: 1 + 0\n    // = 1, 14: 1 + 4 = 5).  We do the this by joining the array of numbers and\n    // add adding the int value of all the characters in the string.\n    for (i=0; i<str.length; i++)\n        sum += Math.floor(str[i]);\n\n    // If the total (sum) modulo 10 is equal to 0 (if the total ends in zero)\n    // then the number is valid according to the Luhn formula; else it is not\n    // valid.\n    return sum % 10 === 0;\n};\nis.creditCard = is.creditCardNum = is.creditCardNumber;\n\n\n////////////////////////////////////////////////////////////////////////////////\n// The following credit card info is from:\n// http://en.wikipedia.org/wiki/Bank_card_number#Issuer_identification_number_.28IIN.29\n\n/**\n * Test if card number is an American Express card.\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.americanExpressCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 15)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,2));\n    if (prefix !== 34 && prefix !== 37)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.amexCard = is.amexCardNum = is.americanExpressCardNumber;\n\n/**\n * Test if card number is a China UnionPay card.\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.chinaUnionPayCardNumber = function(str) {\n    if (!is.str(str) || (str.length < 16 && str.length > 19))\n        return false;\n\n    var prefix = Math.floor(str.slice(0,2));\n    if (prefix !== 62 && prefix !== 88)\n        return false;\n\n    // no validation for this card\n    return true;\n};\nis.chinaUnion = is.chinaUnionPayCard = is.chinaUnionPayCardNumber;\n\n/**\n * Test if card number is a Diner's Club Carte Blance card.\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.dinersClubCarteBlancheCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 14)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,3));\n    if (prefix < 300 || prefix > 305)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.dinersClubCB = is.dinersClubCarteBlancheCard =\n    is.dinersClubCarteBlancheCardNumber;\n\n/**\n * Test if card number is a Diner's Club International card.\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.dinersClubInternationalCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 14)\n        return false;\n    var prefix = Math.floor(str.slice(0,3));\n    var prefix2 = Math.floor(str.slice(0,2));\n\n    // 300-305, 309, 36, 38-39\n    if ((prefix < 300 || prefix > 305) && prefix !== 309 && prefix2 !== 36 &&\n        (prefix2 < 38 || prefix2 > 39)) {\n        return false;\n    }\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.dinersClubInt = is.dinersClubInternationalCard =\n    is.dinersClubInternationalCardNumber;\n\n/**\n * Test if card number is a Diner's Club USA & CA card.\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.dinersClubUSACanadaCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n    var prefix = Math.floor(str.slice(0,2));\n\n    if (prefix !== 54 && prefix !== 55)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.dinersClub = is.dinersClubUSACanCard = is.dinersClubUSACanadaCardNumber;\n\n/**\n * Test if card number is a Diner's Club USA/CA card.\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.discoverCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,6));\n    var prefix2 = Math.floor(str.slice(0,3));\n\n    if (str.slice(0,4) !== '6011' && (prefix < 622126 || prefix > 622925) &&\n        (prefix2 < 644 || prefix2 > 649) && str.slice(0,2) !== '65') {\n        return false;\n    }\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.discover = is.discoverCard = is.discoverCardNumber;\n\n/**\n * Test if card number is an InstaPayment card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.instaPaymentCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,3));\n    if (prefix < 637 || prefix > 639)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.instaPayment = is.instaPaymentCardNumber;\n\n/**\n * Test if card number is a JCB card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.jcbCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,4));\n    if (prefix < 3528 || prefix > 3589)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.jcb = is.jcbCard = is.jcbCardNumber;\n\n/**\n * Test if card number is a Laser card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.laserCardNumber = function(str) {\n    if (!is.str(str) || (str.length < 16 && str.length > 19))\n        return false;\n\n    var prefix = Math.floor(str.slice(0,4));\n    var valid = [ 6304, 6706, 6771, 6709 ];\n    if (valid.indexOf(prefix) === -1)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.laser = is.laserCard = is.laserCardNumber;\n\n/**\n * Test if card number is a Maestro card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.maestroCardNumber = function(str) {\n    if (!is.str(str) || str.length < 12 || str.length > 19)\n        return false;\n\n    var prefix = str.slice(0,4);\n    var valid = [ '5018', '5020', '5038', '5612', '5893', '6304', '6759',\n        '6761', '6762', '6763', '0604', '6390' ];\n\n    if (valid.indexOf(prefix) === -1)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.maestro = is.maestroCard = is.maestroCardNumber;\n\n/**\n * Test if card number is a Dankort card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.dankortCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n\n    if (str.slice(0,4) !== '5019')\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.dankort = is.dankortCard = is.dankortCardNumber;\n\n/**\n * Test if card number is a MasterCard card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.masterCardCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,2));\n    if (prefix < 50 || prefix > 55)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\nis.masterCard = is.masterCardCard = is.masterCardCardNumber;\n\n/**\n * Test if card number is a Visa card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.visaCardNumber = function(str) {\n    if (!is.str(str) || (str.length !== 13 && str.length !== 16))\n        return false;\n\n    if ('4' !== str.slice(0,1))\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return true;\n};\n\nis.visa = is.visaCard = is.visaCardNumber;\n\n/**\n * Test if card number is a Visa card number\n * @param {String} the credit card number string to test.\n * @return true if the string is the correct format, false otherwise\n */\nis.visaElectronCardNumber = function(str) {\n    if (!is.str(str) || str.length !== 16)\n        return false;\n\n    var prefix = Math.floor(str.slice(0,4));\n    var valid = [ 4026, 4405, 4508, 4844, 4913, 4917 ];\n    if ('417500' !== str.slice(0,6) && valid.indexOf(prefix) === -1)\n        return false;\n\n    if (!is.creditCardNumber(str))\n        return false;\n\n    return false;\n};\n\nis.visaElectron = is.visaElectronCard = is.visaElectronCardNumber;\n\n/**\n * Test if the input is a valid MongoDB id.\n * @param {String|Object} Either a mongodb object id or a string representation.\n * @return true if the string is the correct format, false otherwise\n * Thanks to Jason Denizac (https://github.com/jden) for pointing this out.\n * https://github.com/jden/objectid/blob/master/index.js#L7-L10\n */\nvar objIdPattern = /^[0-9a-fA-F]{24}$/;\nis.mongoId = is.objectId = is.objId = function(id) {\n  return (Boolean(id) && !Array.isArray(id) && objIdPattern.test(String(id)));\n};\n\n/**\n * Test is the first argument is structly equal to any of the subsequent args.\n * @param Value to test against subsequent arguments.\n * @return true if the first value matches any of subsequent values.\n */\nis.matching = is.match = is.inArgs = function(val) {\n    if (arguments.length < 2)\n        return false;\n    var result = false;\n    for (var i=1; i<arguments.length; i++) {\n        var eq = is.equal(val, arguments[i]);\n        result = result || eq;\n    }\n    return result;\n};\n\n\n\n// US Address components\n/**********************************\n***Definitely a work in progress***\n**********************************/\n/**\n * Test if a string contains a US street address\n * @param {String} the string to search\n * @return true if an address is present, false otherwise\n */\nis.streetAddress = function(str) {\n  if (!is.str(str))\n      return false;\n\n  var regex = /\\b\\d+[\\s](?:[A-Za-z0-9.-]+[\\s]+)+\\b(ALLEY|ALY|AVENUE|AVE|BEND|BND|BLUFFS?|BLFS?|BOULEVARD|BLVD|BRANCH|BR|CENTERS?|CTRS?|CIRCLES?|CIRS?|CLIFFS?|CLFS?|COURTS?|CTS?|COVES?|CVS?|CREEK|CRK|CRESCENT|CRES|CREST|CRST|CROSSING|XING|DRIVES?|DRS?|EXPRESSWAY|EXPY|FREEWAY|FWY|HEIGHTS|HTS|HIGHWAY|HWY|HILLS?|HLS?|LANE|LN|LOOP|MANORS?|MNRS?|MOTORWAY|MTWY|MOUNT|MT|PARKS?|PARKWAYS?|PKWY|PASS|PLACE|PL|PLAZA|PLZ|POINTS?|PTS?|RIDGES?|RDGS?|ROADS?|RDS?|ROUTE|RTE?|SHOALS?|SHLS?|SHORES?|SHRS?|SPRINGS?|SPGS?|SPURS?|STREETS?|STS?|SUMMIT|SMT|TERRACE|TER|THROUGHWAY|TRWY|TRAFFICWAY|TRFY|TRAIL|TRL|TURNPIKE|TPKE|VALLEYS?|VLYS?|WAYS?)+(?:[\\.\\-\\s\\,]?)*((APARTMENT|APT|APPT|#|NUMBER|NUM|FLOOR|FL|\\s)?(\\d)*)\\b/ig;\n\n  return regex.test(str);\n};\nis.street = is.address = is.streetAddress;\n\n/**\n * Test if a string resembles a US Zip code,\n * no regular expression will be perfect for this,\n * as there are many numbers that aren't valid zip codes\n * @param {String || Number} the string or number literal to test\n * @return true if zipcode like, false otherwise\n */\nis.zipCode = function(str) {\n  if (is.undefined(str) || !(is.string(str) || is.number(str)))\n    return false;\n\n  var zip = /^\\d{5}(?:-\\d{4})?$/;\n  return zip.test(str);\n};\nis.zip = is.zipCode;\n\n/**\n * Test if a string contains a US phone number\n * @param {String} the string to search\n * @return true if str contains a phone number, false otherwise.\n */\n is.phoneNumber = function(str){\n   if (!is.string(str))\n    return false;\n   var nums = /(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:(\\(?)(?:(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]‌​)\\s*)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\)?)\\s*(?:[.-]\\s*)?)?([2-9]1[02-‌​9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})/g;\n   return nums.test(str);\n };\n is.phone = is.phoneNumber;\n\n/**\n * Test is a string is a valid URL\n * @param {string} val - the possible url to check\n * @return true if str contains a phone number, false otherwise.\n */\nvar isUrl = require('is-url');\nis.url = function(val) {\n    return isUrl(val);\n};\nis.uri = is.url;\n\nis.enumerator = function(val, ary){\n  var value = false;\n\n  if (!is.defined(val) || !is.defined(ary) || !is.arrayLike(ary))\n    return value;\n\n  for (var i = 0, len = ary.length; i < len; i++) {\n    if (is.equal(val, ary[i])) {\n      value = true;\n      break;\n    }\n  }\n  return value;\n};\nis.enum = is.inArray = is.enumerator;\n","var pSlice = Array.prototype.slice;\nvar Object_keys = typeof Object.keys === 'function'\n    ? Object.keys\n    : function (obj) {\n        var keys = [];\n        for (var key in obj) keys.push(key);\n        return keys;\n    }\n;\n\nvar deepEqual = module.exports = function (actual, expected) {\n  // enforce Object.is +0 !== -0\n  if (actual === 0 && expected === 0) {\n    return areZerosEqual(actual, expected);\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  } else if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  } else if (isNumberNaN(actual)) {\n    return isNumberNaN(expected);\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (typeof actual != 'object' && typeof expected != 'object') {\n    return actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected);\n  }\n};\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction isNumberNaN(value) {\n  // NaN === NaN -> false\n  return typeof value == 'number' && value !== value;\n}\n\nfunction areZerosEqual(zeroA, zeroB) {\n  // (1 / +0|0) -> Infinity, but (1 / -0) -> -Infinity and (Infinity !== -Infinity)\n  return (1 / zeroA) === (1 / zeroB);\n}\n\nfunction objEquiv(a, b) {\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b);\n  }\n  try {\n    var ka = Object_keys(a),\n        kb = Object_keys(b),\n        key, i;\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key])) return false;\n  }\n  return true;\n}\n","'use strict';\n\nconst v4 = '(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}';\n\nconst v6seg = '[0-9a-fA-F]{1,4}';\nconst v6 = `\n(\n(?:${v6seg}:){7}(?:${v6seg}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6seg}:){5}(?::${v4}|(:${v6seg}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6seg}:){4}(?:(:${v6seg}){0,1}:${v4}|(:${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6seg}:){3}(?:(:${v6seg}){0,2}:${v4}|(:${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6seg}:){2}(?:(:${v6seg}){0,3}:${v4}|(:${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6seg}:){1}(?:(:${v6seg}){0,4}:${v4}|(:${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\\s*\\/\\/.*$/gm, '').replace(/\\n/g, '').trim();\n\nconst ip = module.exports = opts => opts && opts.exact ?\n\tnew RegExp(`(?:^${v4}$)|(?:^${v6}$)`) :\n\tnew RegExp(`(?:${v4})|(?:${v6})`, 'g');\n\nip.v4 = opts => opts && opts.exact ? new RegExp(`^${v4}$`) : new RegExp(v4, 'g');\nip.v6 = opts => opts && opts.exact ? new RegExp(`^${v6}$`) : new RegExp(v6, 'g');\n","\n/**\n * Expose `isUrl`.\n */\n\nmodule.exports = isUrl;\n\n/**\n * RegExps.\n * A URL must match #1 and then at least one of #2/#3.\n * Use two levels of REs to avoid REDOS.\n */\n\nvar protocolAndDomainRE = /^(?:\\w+:)?\\/\\/(\\S+)$/;\n\nvar localhostDomainRE = /^localhost[\\:?\\d]*(?:[^\\:?\\d]\\S*)?$/\nvar nonLocalhostDomainRE = /^[^\\s\\.]+\\.\\S{2,}$/;\n\n/**\n * Loosely validate a URL `string`.\n *\n * @param {String} string\n * @return {Boolean}\n */\n\nfunction isUrl(string){\n  if (typeof string !== 'string') {\n    return false;\n  }\n\n  var match = string.match(protocolAndDomainRE);\n  if (!match) {\n    return false;\n  }\n\n  var everythingAfterProtocol = match[1];\n  if (!everythingAfterProtocol) {\n    return false;\n  }\n\n  if (localhostDomainRE.test(everythingAfterProtocol) ||\n      nonLocalhostDomainRE.test(everythingAfterProtocol)) {\n    return true;\n  }\n\n  return false;\n}\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","module.exports = require(\"tty\");","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","'use strict';\n\nvar exec = require('child_process').exec;\nvar execSync = require('child_process').execSync;\nvar fs = require('fs');\nvar path = require('path');\nvar access = fs.access;\nvar accessSync = fs.accessSync;\nvar constants = fs.constants || fs;\n\nvar isUsingWindows = process.platform == 'win32'\n\nvar fileNotExists = function(commandName, callback){\n    access(commandName, constants.F_OK,\n    function(err){\n        callback(!err);\n    });\n};\n\nvar fileNotExistsSync = function(commandName){\n    try{\n        accessSync(commandName, constants.F_OK);\n        return false;\n    }catch(e){\n        return true;\n    }\n};\n\nvar localExecutable = function(commandName, callback){\n    access(commandName, constants.F_OK | constants.X_OK,\n        function(err){\n        callback(null, !err);\n    });\n};\n\nvar localExecutableSync = function(commandName){\n    try{\n        accessSync(commandName, constants.F_OK | constants.X_OK);\n        return true;\n    }catch(e){\n        return false;\n    }\n}\n\nvar commandExistsUnix = function(commandName, cleanedCommandName, callback) {\n\n    fileNotExists(commandName, function(isFile){\n\n        if(!isFile){\n            var child = exec('command -v ' + cleanedCommandName +\n                  ' 2>/dev/null' +\n                  ' && { echo >&1 ' + cleanedCommandName + '; exit 0; }',\n                  function (error, stdout, stderr) {\n                      callback(null, !!stdout);\n                  });\n            return;\n        }\n\n        localExecutable(commandName, callback);\n    });\n\n}\n\nvar commandExistsWindows = function(commandName, cleanedCommandName, callback) {\n  if (/[\\x00-\\x1f<>:\"\\|\\?\\*]/.test(commandName)) {\n    callback(null, false);\n    return;\n  }\n  var child = exec('where ' + cleanedCommandName,\n    function (error) {\n      if (error !== null){\n        callback(null, false);\n      } else {\n        callback(null, true);\n      }\n    }\n  )\n}\n\nvar commandExistsUnixSync = function(commandName, cleanedCommandName) {\n  if(fileNotExistsSync(commandName)){\n      try {\n        var stdout = execSync('command -v ' + cleanedCommandName +\n              ' 2>/dev/null' +\n              ' && { echo >&1 ' + cleanedCommandName + '; exit 0; }'\n              );\n        return !!stdout;\n      } catch (error) {\n        return false;\n      }\n  }\n  return localExecutableSync(commandName);\n}\n\nvar commandExistsWindowsSync = function(commandName, cleanedCommandName, callback) {\n  if (/[\\x00-\\x1f<>:\"\\|\\?\\*]/.test(commandName)) {\n    return false;\n  }\n  try {\n      var stdout = execSync('where ' + cleanedCommandName, {stdio: []});\n      return !!stdout;\n  } catch (error) {\n      return false;\n  }\n}\n\nvar cleanInput = function(s) {\n  if (/[^A-Za-z0-9_\\/:=-]/.test(s)) {\n    s = \"'\"+s.replace(/'/g,\"'\\\\''\")+\"'\";\n    s = s.replace(/^(?:'')+/g, '') // unduplicate single-quote at the beginning\n      .replace(/\\\\'''/g, \"\\\\'\" ); // remove non-escaped single-quote if there are enclosed between 2 escaped\n  }\n  return s;\n}\n\nif (isUsingWindows) {\n  cleanInput = function(s) {\n    var isPathName = /[\\\\]/.test(s);\n    if (isPathName) {\n      var dirname = '\"' + path.dirname(s) + '\"';\n      var basename = '\"' + path.basename(s) + '\"';\n      return dirname + ':' + basename;\n    }\n    return '\"' + s + '\"';\n  }\n}\n\nmodule.exports = function commandExists(commandName, callback) {\n  var cleanedCommandName = cleanInput(commandName);\n  if (!callback && typeof Promise !== 'undefined') {\n    return new Promise(function(resolve, reject){\n      commandExists(commandName, function(error, output) {\n        if (output) {\n          resolve(commandName);\n        } else {\n          reject(error);\n        }\n      });\n    });\n  }\n  if (isUsingWindows) {\n    commandExistsWindows(commandName, cleanedCommandName, callback);\n  } else {\n    commandExistsUnix(commandName, cleanedCommandName, callback);\n  }\n};\n\nmodule.exports.sync = function(commandName) {\n  var cleanedCommandName = cleanInput(commandName);\n  if (isUsingWindows) {\n    return commandExistsWindowsSync(commandName, cleanedCommandName);\n  } else {\n    return commandExistsUnixSync(commandName, cleanedCommandName);\n  }\n};\n","import { MINode } from './mi_parse';\n\nconst resultRegex = /^([a-zA-Z_\\-][a-zA-Z0-9_\\-]*|\\[\\d+\\])\\s*=\\s*/;\nconst variableRegex = /^[a-zA-Z_\\-][a-zA-Z0-9_\\-]*/;\nconst errorRegex = /^\\<.+?\\>/;\nconst referenceStringRegex = /^(0x[0-9a-fA-F]+\\s*)\"/;\nconst referenceRegex = /^0x[0-9a-fA-F]+/;\nconst nullpointerRegex = /^0x0+\\b/;\nconst charRegex = /^(\\d+) ['\"]/;\nconst numberRegex = /^\\d+(\\.\\d+)?/;\nconst pointerCombineChar = '.';\n\nexport function isExpandable(value: string): number {\n    let match;\n    value = value.trim();\n    if (value.length === 0) { return 0; }\n    else if (value.startsWith('{...}')) { return 2; } // lldb string/array\n    else if (value[0] === '{') { return 1; } // object\n    else if (value.startsWith('true')) { return 0; }\n    else if (value.startsWith('false')) { return 0; }\n    else if (match = nullpointerRegex.exec(value)) { return 0; }\n    else if (match = referenceStringRegex.exec(value)) { return 0; }\n    else if (match = referenceRegex.exec(value)) { return 2; } // reference\n    else if (match = charRegex.exec(value)) { return 0; }\n    else if (match = numberRegex.exec(value)) { return 0; }\n    else if (match = variableRegex.exec(value)) { return 0; }\n    else if (match = errorRegex.exec(value)) { return 0; }\n    else { return 0; }\n}\n\n// tslint:disable-next-line:ban-types\nexport function expandValue(variableCreate: Function, value: string, root: string = '', extra?: any): any {\n    const parseCString = () => {\n        value = value.trim();\n        if (value[0] !== '\"' && value[0] !== '\\'') {\n            return '';\n        }\n        let stringEnd = 1;\n        let inString = true;\n        const charStr = value[0];\n        let remaining = value.substr(1);\n        let escaped = false;\n        while (inString) {\n            if (escaped) {\n                escaped = false;\n            }\n            else if (remaining[0] === '\\\\') {\n                escaped = true;\n            }\n            else if (remaining[0] === charStr) {\n                inString = false;\n            }\n\n            remaining = remaining.substr(1);\n            stringEnd++;\n        }\n        const str = value.substr(0, stringEnd).trim();\n        value = value.substr(stringEnd).trim();\n        return str;\n    };\n\n    const stack = [root];\n    let parseValue;\n    let parseCommaResult;\n    let parseCommaValue;\n    let parseResult;\n    let createValue;\n    let variable = '';\n\n    const getNamespace = (variable) => {\n        let namespace = '';\n        let prefix = '';\n        stack.push(variable);\n        stack.forEach((name) => {\n            prefix = '';\n            if (name !== '') {\n                if (name.startsWith('[')) {\n                    namespace = namespace + name;\n                }\n                else {\n                    if (namespace) {\n                        while (name.startsWith('*')) {\n                            prefix += '*';\n                            name = name.substr(1);\n                        }\n                        namespace = namespace + pointerCombineChar + name;\n                    }\n                    else {\n                        namespace = name;\n                    }\n                }\n            }\n        });\n        stack.pop();\n        return prefix + namespace;\n    };\n\n    const parseTupleOrList = () => {\n        value = value.trim();\n        if (value[0] !== '{') {\n            return undefined;\n        }\n        const oldContent = value;\n        value = value.substr(1).trim();\n        if (value[0] === '}') {\n            value = value.substr(1).trim();\n            return [];\n        }\n        if (value.startsWith('...')) {\n            value = value.substr(3).trim();\n            if (value[0] === '}') {\n                value = value.substr(1).trim();\n                return '<...>' as any;\n            }\n        }\n        const eqPos = value.indexOf('=');\n        const newValPos1 = value.indexOf('{');\n        const newValPos2 = value.indexOf(',');\n        let newValPos = newValPos1;\n        if (newValPos2 !== -1 && newValPos2 < newValPos1) {\n            newValPos = newValPos2;\n        }\n        if (newValPos !== -1 && eqPos > newValPos || eqPos === -1) { // is value list\n            const values = [];\n            stack.push('[0]');\n            let val = parseValue();\n            stack.pop();\n            values.push(createValue('[0]', val));\n            const remaining = value;\n            let i = 0;\n            while (true) {\n                stack.push('[' + (++i) + ']');\n                if (!(val = parseCommaValue())) {\n                    stack.pop();\n                    break;\n                }\n                stack.pop();\n                values.push(createValue('[' + i + ']', val));\n            }\n            value = value.substr(1).trim(); // }\n            return values;\n        }\n\n        let result = parseResult(true);\n        if (result) {\n            const results = [];\n            results.push(result);\n            while (result = parseCommaResult(true)) {\n                results.push(result);\n            }\n            value = value.substr(1).trim(); // }\n            return results;\n        }\n\n        return undefined;\n    };\n\n    const parsePrimitive = () => {\n        let primitive: any;\n        let match;\n        value = value.trim();\n        if (value.length === 0) {\n            primitive = undefined;\n        }\n        else if (value.startsWith('true')) {\n            primitive = 'true';\n            value = value.substr(4).trim();\n        }\n        else if (value.startsWith('false')) {\n            primitive = 'false';\n            value = value.substr(5).trim();\n        }\n        else if (match = nullpointerRegex.exec(value)) {\n            primitive = '<nullptr>';\n            value = value.substr(match[0].length).trim();\n        }\n        else if (match = referenceStringRegex.exec(value)) {\n            value = value.substr(match[1].length).trim();\n            primitive = parseCString();\n        }\n        else if (match = referenceRegex.exec(value)) {\n            primitive = '*' + match[0];\n            value = value.substr(match[0].length).trim();\n        }\n        else if (match = charRegex.exec(value)) {\n            primitive = match[1];\n            value = value.substr(match[0].length - 1);\n            primitive += ' ' + parseCString();\n        }\n        else if (match = numberRegex.exec(value)) {\n            primitive = match[0];\n            value = value.substr(match[0].length).trim();\n        }\n        else if (match = variableRegex.exec(value)) {\n            primitive = match[0];\n            value = value.substr(match[0].length).trim();\n        }\n        else if (match = errorRegex.exec(value)) {\n            primitive = match[0];\n            value = value.substr(match[0].length).trim();\n        }\n        else {\n            primitive = value;\n        }\n        return primitive;\n    };\n\n    parseValue = () => {\n        value = value.trim();\n        if (value[0] === '\"') {\n            return parseCString();\n        }\n        else if (value[0] === '{') {\n            return parseTupleOrList();\n        }\n        else {\n            return parsePrimitive();\n        }\n    };\n\n    parseResult = (pushToStack: boolean = false) => {\n        value = value.trim();\n        const variableMatch = resultRegex.exec(value);\n        if (!variableMatch) {\n            return undefined;\n        }\n        value = value.substr(variableMatch[0].length).trim();\n        const name = variable = variableMatch[1];\n        if (pushToStack) {\n            stack.push(variable);\n        }\n        const val = parseValue();\n        if (pushToStack) {\n            stack.pop();\n        }\n        return createValue(name, val);\n    };\n\n    createValue = (name, val) => {\n        let ref = 0;\n        if (typeof val === 'object') {\n            ref = variableCreate(val);\n            val = 'Object';\n        }\n        if (typeof val === 'string' && val.startsWith('*0x')) {\n            if (extra && MINode.valueOf(extra, 'arg') === '1')\n            {\n                ref = variableCreate(getNamespace('*(' + name), { arg: true });\n                val = '<args>';\n            }\n            else\n            {\n                ref = variableCreate(getNamespace('*' + name));\n                val = 'Object@' + val;\n            }\n        }\n        if (typeof val === 'string' && val.startsWith('<...>')) {\n            ref = variableCreate(getNamespace(name));\n            val = '...';\n        }\n        return {\n            name: name,\n            value: val,\n            variablesReference: ref\n        };\n    };\n\n    parseCommaValue = () => {\n        value = value.trim();\n        if (value[0] !== ',') {\n            return undefined;\n        }\n        value = value.substr(1).trim();\n        return parseValue();\n    };\n\n    parseCommaResult = (pushToStack: boolean = false) => {\n        value = value.trim();\n        if (value[0] !== ',') {\n            return undefined;\n        }\n        value = value.substr(1).trim();\n        return parseResult(pushToStack);\n    };\n\n    value = value.trim();\n    return parseValue();\n}\n","'use strict';\n\nvar async = require('async');\nvar fs = require('fs');\nvar path = require('path');\n\nmodule.exports = hasbin;\nhasbin.async = hasbin;\nhasbin.sync = hasbinSync;\nhasbin.all = hasbinAll;\nhasbin.all.sync = hasbinAllSync;\nhasbin.some = hasbinSome;\nhasbin.some.sync = hasbinSomeSync;\nhasbin.first = hasbinFirst;\nhasbin.first.sync = hasbinFirstSync;\n\nhasbin.every = hasbin.all;\nhasbin.any = hasbin.some;\n\nfunction hasbin (bin, done) {\n\tasync.some(getPaths(bin), fileExists, done);\n}\n\nfunction hasbinSync (bin) {\n\treturn getPaths(bin).some(fileExistsSync);\n}\n\nfunction hasbinAll (bins, done) {\n\tasync.every(bins, hasbin.async, done);\n}\n\nfunction hasbinAllSync (bins) {\n\treturn bins.every(hasbin.sync);\n}\n\nfunction hasbinSome (bins, done) {\n\tasync.some(bins, hasbin.async, done);\n}\n\nfunction hasbinSomeSync (bins) {\n\treturn bins.some(hasbin.sync);\n}\n\nfunction hasbinFirst (bins, done) {\n\tasync.detect(bins, hasbin.async, function (result) {\n\t\tdone(result || false);\n\t});\n}\n\nfunction hasbinFirstSync (bins) {\n\tvar matched = bins.filter(hasbin.sync);\n\treturn matched.length ? matched[0] : false;\n}\n\nfunction getPaths (bin) {\n\tvar envPath = (process.env.PATH || '');\n\tvar envExt = (process.env.PATHEXT || '');\n\treturn envPath.replace(/[\"]+/g, '').split(path.delimiter).map(function (chunk) {\n\t\treturn envExt.split(path.delimiter).map(function (ext) {\n\t\t\treturn path.join(chunk, bin + ext);\n\t\t});\n\t}).reduce(function (a, b) {\n\t\treturn a.concat(b);\n\t});\n}\n\nfunction fileExists (filePath, done) {\n\tfs.stat(filePath, function (error, stat) {\n\t\tif (error) {\n\t\t\treturn done(false);\n\t\t}\n\t\tdone(stat.isFile());\n\t});\n}\n\nfunction fileExistsSync (filePath) {\n\ttry {\n\t\treturn fs.statSync(filePath).isFile();\n\t} catch (error) {\n\t\treturn false;\n\t}\n}\n","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { GDBServerController, ConfigurationArguments, calculatePortMask, SWOConfigureEvent } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nconst commandExistsSync = require('command-exists').sync;\nconst EXECUTABLE_NAMES = ['JLinkGDBServerCLExe', 'JLinkGDBServerCL', 'JLinkGDBServer'];\n\nexport class JLinkServerController extends EventEmitter implements GDBServerController {\n    public portsNeeded: string[] = ['gdbPort', 'swoPort', 'consolePort'];\n    public name: 'J-Link';\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n    \n    public initCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        return [\n            `target-select extended-remote localhost:${gdbport}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'interpreter-exec console \"monitor reset\"',\n            'target-download',\n            'interpreter-exec console \"monitor reset\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor halt\"',\n            'interpreter-exec console \"monitor reset\"'\n        ];\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        const commands = [];\n        if (this.args.swoConfig.enabled) {\n            const swocommands = this.SWOConfigurationCommands();\n            commands.push(...swocommands);\n        }\n        return commands;\n    }\n\n    private SWOConfigurationCommands(): string[] {\n        const portMask = '0x' + calculatePortMask(this.args.swoConfig.decoders).toString(16);\n        const swoFrequency = this.args.swoConfig.swoFrequency | 0;\n        const cpuFrequency = this.args.swoConfig.cpuFrequency | 0;\n        \n        const commands: string[] = [\n            `monitor SWO EnableTarget ${cpuFrequency} ${swoFrequency} ${portMask} 0`,\n            'DisableITMPorts 0xFFFFFFFF',\n            `EnableITMPorts ${portMask}`,\n            'EnableDWTSync',\n            'ITMSyncEnable'\n        ];\n\n        commands.push(this.args.swoConfig.profile ? 'EnablePCSample' : 'DisablePCSample');\n        \n        return commands.map((c) => `interpreter-exec console \"${c}\"`);\n    }\n\n    public serverExecutable() {\n        if (this.args.serverpath) { return this.args.serverpath; }\n        else {\n            if (os.platform() === 'win32') {\n                return 'JLinkGDBServerCL.exe';\n            }\n            else {\n                for (const name in EXECUTABLE_NAMES) {\n                    if (commandExistsSync(name)) { return name; }\n                }\n                return 'JLinkGDBServer';\n            }\n        }\n    }\n    \n    public serverArguments(): string[] {\n        const gdbport = this.ports['gdbPort'];\n        const swoport = this.ports['swoPort'];\n        const consoleport = this.ports['consolePort'];\n\n        let cmdargs = [\n            '-if', this.args.interface,\n            '-port', gdbport.toString(),\n            '-swoport', swoport.toString(),\n            '-telnetport', consoleport.toString(),\n            '-device', this.args.device\n        ];\n\n        if (this.args.serialNumber) {\n            cmdargs.push('-select', `usb=${this.args.serialNumber}`);\n        }\n        else if (this.args.ipAddress) {\n            cmdargs.push('-select', `ip=${this.args.ipAddress}`);\n        }\n\n        if (this.args.rtos) {\n            cmdargs.push('-rtos', this.args.rtos);\n        }\n\n        if (this.args.jlinkscript) {\n            cmdargs.push('-jlinkscriptfile', this.args.jlinkscript);\n        }\n\n        if (this.args.serverArgs) {\n            cmdargs = cmdargs.concat(this.args.serverArgs);\n        }\n\n        return cmdargs;\n    }\n\n    public initMatch(): RegExp {\n        return /Waiting for GDB connection\\.\\.\\./g;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {\n        if (this.args.swoConfig.enabled) {\n            if (this.args.swoConfig.source === 'probe') {\n                this.emit('event', new SWOConfigureEvent({ type: 'socket', port: this.ports['swoPort'] }));\n            }\n            else {\n                this.emit('event', new SWOConfigureEvent({\n                    type: 'serial',\n                    device: this.args.swoConfig.source,\n                    baudRate: this.args.swoConfig.swoFrequency\n                }));\n            }\n        }\n    }\n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { GDBServerController, ConfigurationArguments, SWOConfigureEvent, calculatePortMask } from './common';\nimport * as os from 'os';\nimport * as tmp from 'tmp';\nimport * as fs from 'fs';\nimport * as ChildProcess from 'child_process';\nimport { EventEmitter } from 'events';\n\nexport class OpenOCDServerController extends EventEmitter implements GDBServerController {\n    public portsNeeded = ['gdbPort'];\n    public name = 'OpenOCD';\n    private swoPath: string;\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n        this.swoPath = tmp.tmpNameSync();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n\n    public initCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        return [\n            `target-select extended-remote localhost:${gdbport}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor reset halt\"',\n            'target-download',\n            'interpreter-exec console \"monitor reset halt\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor reset halt\"'\n        ];\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        const commands = [];\n        if (this.args.swoConfig.enabled) {\n            const swocommands = this.SWOConfigurationCommands();\n            commands.push(...swocommands);\n        }\n        return commands;\n    }\n\n    private SWOConfigurationCommands(): string[] {\n        const portMask = '0x' + calculatePortMask(this.args.swoConfig.decoders).toString(16);\n        const swoFrequency = this.args.swoConfig.swoFrequency;\n        const cpuFrequency = this.args.swoConfig.cpuFrequency;\n\n        const ratio = Math.floor(cpuFrequency / swoFrequency) - 1;\n        \n        const commands: string[] = [\n            'EnableITMAccess',\n            `BaseSWOSetup ${ratio}`,\n            'SetITMId 1',\n            'ITMDWTTransferEnable',\n            'DisableITMPorts 0xFFFFFFFF',\n            `EnableITMPorts ${portMask}`,\n            'EnableDWTSync',\n            'ITMSyncEnable',\n            'ITMGlobalEnable'\n        ];\n\n        commands.push(this.args.swoConfig.profile ? 'EnablePCSample' : 'DisablePCSample');\n        \n        return commands.map((c) => `interpreter-exec console \"${c}\"`);\n    }\n\n    public serverExecutable(): string {\n        if (this.args.serverpath) { return this.args.serverpath; }\n        else {\n            return os.platform() === 'win32' ? 'openocd.exe' : 'openocd';\n        }\n    }\n\n    public serverArguments(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        let serverargs = [];\n\n        serverargs.push('-c', `gdb_port ${gdbport}`);\n\n        this.args.searchDir.forEach((cs, idx) => {\n            serverargs.push('-s', cs);\n        });\n\n        if (this.args.searchDir.length === 0) {\n            serverargs.push('-s', this.args.cwd);\n        }\n\n        for (const cmd of this.args.openOCDPreConfigLaunchCommands || []) {\n            serverargs.push('-c', cmd);\n        }\n\n        this.args.configFiles.forEach((cf, idx) => {\n            serverargs.push('-f', cf);\n        });\n\n        if (this.args.rtos) {\n            const tmpCfgPath = tmp.tmpNameSync();\n            fs.writeFileSync(tmpCfgPath, `$_TARGETNAME configure -rtos ${this.args.rtos}\\n`, 'utf8');\n            serverargs.push('-f', tmpCfgPath);\n        }\n\n        if (this.args.serverArgs) {\n            serverargs = serverargs.concat(this.args.serverArgs);\n        }\n\n        const commands = [];\n\n        if (this.args.swoConfig.enabled) {\n            let tpiuIntExt;\n            if (os.platform() === 'win32') {\n                this.swoPath = this.swoPath.replace(/\\\\/g, '/');\n            }\n            if (this.args.swoConfig.source === 'probe') {\n                tpiuIntExt = `internal ${this.swoPath}`;\n            }\n            else {\n                tpiuIntExt = 'external';\n            }\n            // tslint:disable-next-line:max-line-length\n            commands.push(`tpiu config ${tpiuIntExt} uart off ${this.args.swoConfig.cpuFrequency} ${this.args.swoConfig.swoFrequency}`);\n        }\n\n        if (commands.length > 0) {\n            serverargs.push('-c', commands.join('; '));\n        }\n\n        for (const cmd of this.args.openOCDLaunchCommands || []) {\n            serverargs.push('-c', cmd);\n        }\n\n        return serverargs;\n    }\n\n    public initMatch(): RegExp {\n        /*\n        // Following will work with or without the -d flag to openocd or using the tcl\n        // command `debug_level 3`; and we are looking specifically for gdb port(s) opening up\n        // When debug is enabled, you get too many matches looking for the cpu. This message\n        // has been there atleast since 2016-12-19\n        */\n        return /Info\\s:[^\\n]*Listening on port \\d+ for gdb connection/i;\n    }\n\n    public serverLaunchStarted(): void {\n        if (this.args.swoConfig.enabled && this.args.swoConfig.source === 'probe' && os.platform() !== 'win32') {\n            const mkfifoReturn = ChildProcess.spawnSync('mkfifo', [this.swoPath]);\n            this.emit('event', new SWOConfigureEvent({ type: 'fifo', path: this.swoPath }));\n        }\n    }\n\n    public serverLaunchCompleted(): void {\n        if (this.args.swoConfig.enabled) {\n            if (this.args.swoConfig.source === 'probe' && os.platform() === 'win32') {\n                this.emit('event', new SWOConfigureEvent({ type: 'file', path: this.swoPath }));\n            }\n            else if (this.args.swoConfig.source !== 'probe') {\n                this.emit('event', new SWOConfigureEvent({\n                    type: 'serial',\n                    device: this.args.swoConfig.source,\n                    baudRate: this.args.swoConfig.swoFrequency\n                }));\n            }\n        }\n    }\n\n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","/*!\n * Tmp\n *\n * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>\n *\n * MIT Licensed\n */\n\n/*\n * Module dependencies.\n */\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\nconst osTmpDir = require('os-tmpdir');\nconst _c = process.binding('constants');\n\n/*\n * The working inner variables.\n */\nconst\n  /**\n   * The temporary directory.\n   * @type {string}\n   */\n  tmpDir = osTmpDir(),\n\n  // the random characters to choose from\n  RANDOM_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\n  TEMPLATE_PATTERN = /XXXXXX/,\n\n  DEFAULT_TRIES = 3,\n\n  CREATE_FLAGS = (_c.O_CREAT || _c.fs.O_CREAT) | (_c.O_EXCL || _c.fs.O_EXCL) | (_c.O_RDWR || _c.fs.O_RDWR),\n\n  EBADF = _c.EBADF || _c.os.errno.EBADF,\n  ENOENT = _c.ENOENT || _c.os.errno.ENOENT,\n\n  DIR_MODE = 448 /* 0o700 */,\n  FILE_MODE = 384 /* 0o600 */,\n\n  // this will hold the objects need to be removed on exit\n  _removeObjects = [];\n\nvar\n  _gracefulCleanup = false,\n  _uncaughtException = false;\n\n/**\n * Random name generator based on crypto.\n * Adapted from http://blog.tompawlak.org/how-to-generate-random-values-nodejs-javascript\n *\n * @param {number} howMany\n * @returns {string} the generated random name\n * @private\n */\nfunction _randomChars(howMany) {\n  var\n    value = [],\n    rnd = null;\n\n  // make sure that we do not fail because we ran out of entropy\n  try {\n    rnd = crypto.randomBytes(howMany);\n  } catch (e) {\n    rnd = crypto.pseudoRandomBytes(howMany);\n  }\n\n  for (var i = 0; i < howMany; i++) {\n    value.push(RANDOM_CHARS[rnd[i] % RANDOM_CHARS.length]);\n  }\n\n  return value.join('');\n}\n\n/**\n * Checks whether the `obj` parameter is defined or not.\n *\n * @param {Object} obj\n * @returns {boolean} true if the object is undefined\n * @private\n */\nfunction _isUndefined(obj) {\n  return typeof obj === 'undefined';\n}\n\n/**\n * Parses the function arguments.\n *\n * This function helps to have optional arguments.\n *\n * @param {(Options|Function)} options\n * @param {Function} callback\n * @returns {Array} parsed arguments\n * @private\n */\nfunction _parseArguments(options, callback) {\n  if (typeof options == 'function') {\n    return [callback || {}, options];\n  }\n\n  if (_isUndefined(options)) {\n    return [{}, callback];\n  }\n\n  return [options, callback];\n}\n\n/**\n * Generates a new temporary name.\n *\n * @param {Object} opts\n * @returns {string} the new random name according to opts\n * @private\n */\nfunction _generateTmpName(opts) {\n  if (opts.name) {\n    return path.join(opts.dir || tmpDir, opts.name);\n  }\n\n  // mkstemps like template\n  if (opts.template) {\n    return opts.template.replace(TEMPLATE_PATTERN, _randomChars(6));\n  }\n\n  // prefix and postfix\n  const name = [\n    opts.prefix || 'tmp-',\n    process.pid,\n    _randomChars(12),\n    opts.postfix || ''\n  ].join('');\n\n  return path.join(opts.dir || tmpDir, name);\n}\n\n/**\n * Gets a temporary file name.\n *\n * @param {(Options|tmpNameCallback)} options options or callback\n * @param {?tmpNameCallback} callback the callback function\n */\nfunction tmpName(options, callback) {\n  var\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1],\n    tries = opts.name ? 1 : opts.tries || DEFAULT_TRIES;\n\n  if (isNaN(tries) || tries < 0)\n    return cb(new Error('Invalid tries'));\n\n  if (opts.template && !opts.template.match(TEMPLATE_PATTERN))\n    return cb(new Error('Invalid template provided'));\n\n  (function _getUniqueName() {\n    const name = _generateTmpName(opts);\n\n    // check whether the path exists then retry if needed\n    fs.stat(name, function (err) {\n      if (!err) {\n        if (tries-- > 0) return _getUniqueName();\n\n        return cb(new Error('Could not get a unique tmp filename, max tries reached ' + name));\n      }\n\n      cb(null, name);\n    });\n  }());\n}\n\n/**\n * Synchronous version of tmpName.\n *\n * @param {Object} options\n * @returns {string} the generated random name\n * @throws {Error} if the options are invalid or could not generate a filename\n */\nfunction tmpNameSync(options) {\n  var\n    args = _parseArguments(options),\n    opts = args[0],\n    tries = opts.name ? 1 : opts.tries || DEFAULT_TRIES;\n\n  if (isNaN(tries) || tries < 0)\n    throw new Error('Invalid tries');\n\n  if (opts.template && !opts.template.match(TEMPLATE_PATTERN))\n    throw new Error('Invalid template provided');\n\n  do {\n    const name = _generateTmpName(opts);\n    try {\n      fs.statSync(name);\n    } catch (e) {\n      return name;\n    }\n  } while (tries-- > 0);\n\n  throw new Error('Could not get a unique tmp filename, max tries reached');\n}\n\n/**\n * Creates and opens a temporary file.\n *\n * @param {(Options|fileCallback)} options the config options or the callback function\n * @param {?fileCallback} callback\n */\nfunction file(options, callback) {\n  var\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  opts.postfix = (_isUndefined(opts.postfix)) ? '.tmp' : opts.postfix;\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    if (err) return cb(err);\n\n    // create and open the file\n    fs.open(name, CREATE_FLAGS, opts.mode || FILE_MODE, function _fileCreated(err, fd) {\n      if (err) return cb(err);\n\n      if (opts.discardDescriptor) {\n        return fs.close(fd, function _discardCallback(err) {\n          if (err) {\n            // Low probability, and the file exists, so this could be\n            // ignored.  If it isn't we certainly need to unlink the\n            // file, and if that fails too its error is more\n            // important.\n            try {\n              fs.unlinkSync(name);\n            } catch (e) {\n              if (!isENOENT(e)) {\n                err = e;\n              }\n            }\n            return cb(err);\n          }\n          cb(null, name, undefined, _prepareTmpFileRemoveCallback(name, -1, opts));\n        });\n      }\n      if (opts.detachDescriptor) {\n        return cb(null, name, fd, _prepareTmpFileRemoveCallback(name, -1, opts));\n      }\n      cb(null, name, fd, _prepareTmpFileRemoveCallback(name, fd, opts));\n    });\n  });\n}\n\n/**\n * Synchronous version of file.\n *\n * @param {Options} options\n * @returns {FileSyncObject} object consists of name, fd and removeCallback\n * @throws {Error} if cannot create a file\n */\nfunction fileSync(options) {\n  var\n    args = _parseArguments(options),\n    opts = args[0];\n\n  opts.postfix = opts.postfix || '.tmp';\n\n  const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n  const name = tmpNameSync(opts);\n  var fd = fs.openSync(name, CREATE_FLAGS, opts.mode || FILE_MODE);\n  if (opts.discardDescriptor) {\n    fs.closeSync(fd); \n    fd = undefined;\n  }\n\n  return {\n    name: name,\n    fd: fd,\n    removeCallback: _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts)\n  };\n}\n\n/**\n * Removes files and folders in a directory recursively.\n *\n * @param {string} root\n * @private\n */\nfunction _rmdirRecursiveSync(root) {\n  const dirs = [root];\n\n  do {\n    var\n      dir = dirs.pop(),\n      deferred = false,\n      files = fs.readdirSync(dir);\n\n    for (var i = 0, length = files.length; i < length; i++) {\n      var\n        file = path.join(dir, files[i]),\n        stat = fs.lstatSync(file); // lstat so we don't recurse into symlinked directories\n\n      if (stat.isDirectory()) {\n        if (!deferred) {\n          deferred = true;\n          dirs.push(dir);\n        }\n        dirs.push(file);\n      } else {\n        fs.unlinkSync(file);\n      }\n    }\n\n    if (!deferred) {\n      fs.rmdirSync(dir);\n    }\n  } while (dirs.length !== 0);\n}\n\n/**\n * Creates a temporary directory.\n *\n * @param {(Options|dirCallback)} options the options or the callback function\n * @param {?dirCallback} callback\n */\nfunction dir(options, callback) {\n  var\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    if (err) return cb(err);\n\n    // create the directory\n    fs.mkdir(name, opts.mode || DIR_MODE, function _dirCreated(err) {\n      if (err) return cb(err);\n\n      cb(null, name, _prepareTmpDirRemoveCallback(name, opts));\n    });\n  });\n}\n\n/**\n * Synchronous version of dir.\n *\n * @param {Options} options\n * @returns {DirSyncObject} object consists of name and removeCallback\n * @throws {Error} if it cannot create a directory\n */\nfunction dirSync(options) {\n  var\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const name = tmpNameSync(opts);\n  fs.mkdirSync(name, opts.mode || DIR_MODE);\n\n  return {\n    name: name,\n    removeCallback: _prepareTmpDirRemoveCallback(name, opts)\n  };\n}\n\n/**\n * Prepares the callback for removal of the temporary file.\n *\n * @param {string} name the path of the file\n * @param {number} fd file descriptor\n * @param {Object} opts\n * @returns {fileCallback}\n * @private\n */\nfunction _prepareTmpFileRemoveCallback(name, fd, opts) {\n  const removeCallback = _prepareRemoveCallback(function _removeCallback(fdPath) {\n    try {\n      if (0 <= fdPath[0]) {\n        fs.closeSync(fdPath[0]);\n      }\n    }\n    catch (e) {\n      // under some node/windows related circumstances, a temporary file\n      // may have not be created as expected or the file was already closed\n      // by the user, in which case we will simply ignore the error\n      if (!isEBADF(e) && !isENOENT(e)) {\n        // reraise any unanticipated error\n        throw e;\n      }\n    }\n    try {\n      fs.unlinkSync(fdPath[1]);\n    }\n    catch (e) {\n      if (!isENOENT(e)) {\n        // reraise any unanticipated error\n        throw e;\n      }\n    }\n  }, [fd, name]);\n\n  if (!opts.keep) {\n    _removeObjects.unshift(removeCallback);\n  }\n\n  return removeCallback;\n}\n\n/**\n * Prepares the callback for removal of the temporary directory.\n *\n * @param {string} name\n * @param {Object} opts\n * @returns {Function} the callback\n * @private\n */\nfunction _prepareTmpDirRemoveCallback(name, opts) {\n  const removeFunction = opts.unsafeCleanup ? _rmdirRecursiveSync : fs.rmdirSync.bind(fs);\n  const removeCallback = _prepareRemoveCallback(removeFunction, name);\n\n  if (!opts.keep) {\n    _removeObjects.unshift(removeCallback);\n  }\n\n  return removeCallback;\n}\n\n/**\n * Creates a guarded function wrapping the removeFunction call.\n *\n * @param {Function} removeFunction\n * @param {Object} arg\n * @returns {Function}\n * @private\n */\nfunction _prepareRemoveCallback(removeFunction, arg) {\n  var called = false;\n\n  return function _cleanupCallback(next) {\n    if (!called) {\n      const index = _removeObjects.indexOf(_cleanupCallback);\n      if (index >= 0) {\n        _removeObjects.splice(index, 1);\n      }\n\n      called = true;\n      removeFunction(arg);\n    }\n\n    if (next) next(null);\n  };\n}\n\n/**\n * The garbage collector.\n *\n * @private\n */\nfunction _garbageCollector() {\n  if (_uncaughtException && !_gracefulCleanup) {\n    return;\n  }\n\n  // the function being called removes itself from _removeObjects,\n  // loop until _removeObjects is empty\n  while (_removeObjects.length) {\n    try {\n      _removeObjects[0].call(null);\n    } catch (e) {\n      // already removed?\n    }\n  }\n}\n\n/**\n * Helper for testing against EBADF to compensate changes made to Node 7.x under Windows.\n */\nfunction isEBADF(error) {\n  return isExpectedError(error, -EBADF, 'EBADF');\n}\n\n/**\n * Helper for testing against ENOENT to compensate changes made to Node 7.x under Windows.\n */\nfunction isENOENT(error) {\n  return isExpectedError(error, -ENOENT, 'ENOENT');\n}\n\n/**\n * Helper to determine whether the expected error code matches the actual code and errno,\n * which will differ between the supported node versions.\n *\n * - Node >= 7.0:\n *   error.code {String}\n *   error.errno {String|Number} any numerical value will be negated\n *\n * - Node >= 6.0 < 7.0:\n *   error.code {String}\n *   error.errno {Number} negated\n *\n * - Node >= 4.0 < 6.0: introduces SystemError\n *   error.code {String}\n *   error.errno {Number} negated\n *\n * - Node >= 0.10 < 4.0:\n *   error.code {Number} negated\n *   error.errno n/a\n */\nfunction isExpectedError(error, code, errno) {\n  return error.code == code || error.code == errno;\n}\n\n/**\n * Sets the graceful cleanup.\n *\n * Also removes the created files and directories when an uncaught exception occurs.\n */\nfunction setGracefulCleanup() {\n  _gracefulCleanup = true;\n}\n\nconst version = process.versions.node.split('.').map(function (value) {\n  return parseInt(value, 10);\n});\n\nif (version[0] === 0 && (version[1] < 9 || version[1] === 9 && version[2] < 5)) {\n  process.addListener('uncaughtException', function _uncaughtExceptionThrown(err) {\n    _uncaughtException = true;\n    _garbageCollector();\n\n    throw err;\n  });\n}\n\nprocess.addListener('exit', function _exit(code) {\n  if (code) _uncaughtException = true;\n  _garbageCollector();\n});\n\n/**\n * Configuration options.\n *\n * @typedef {Object} Options\n * @property {?number} tries the number of tries before give up the name generation\n * @property {?string} template the \"mkstemp\" like filename template\n * @property {?string} name fix name\n * @property {?string} dir the tmp directory to use\n * @property {?string} prefix prefix for the generated name\n * @property {?string} postfix postfix for the generated name\n */\n\n/**\n * @typedef {Object} FileSyncObject\n * @property {string} name the name of the file\n * @property {string} fd the file descriptor\n * @property {fileCallback} removeCallback the callback function to remove the file\n */\n\n/**\n * @typedef {Object} DirSyncObject\n * @property {string} name the name of the directory\n * @property {fileCallback} removeCallback the callback function to remove the directory\n */\n\n/**\n * @callback tmpNameCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n */\n\n/**\n * @callback fileCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallback\n * @param {simpleCallback} [next] function to call after entry was removed\n */\n\n/**\n * Callback function for function composition.\n * @see {@link https://github.com/raszi/node-tmp/issues/57|raszi/node-tmp#57}\n *\n * @callback simpleCallback\n */\n\n// exporting all the needed methods\nmodule.exports.tmpdir = tmpDir;\n\nmodule.exports.dir = dir;\nmodule.exports.dirSync = dirSync;\n\nmodule.exports.file = file;\nmodule.exports.fileSync = fileSync;\n\nmodule.exports.tmpName = tmpName;\nmodule.exports.tmpNameSync = tmpNameSync;\n\nmodule.exports.setGracefulCleanup = setGracefulCleanup;\n","'use strict';\nvar isWindows = process.platform === 'win32';\nvar trailingSlashRe = isWindows ? /[^:]\\\\$/ : /.\\/$/;\n\n// https://github.com/nodejs/node/blob/3e7a14381497a3b73dda68d05b5130563cdab420/lib/os.js#L25-L43\nmodule.exports = function () {\n\tvar path;\n\n\tif (isWindows) {\n\t\tpath = process.env.TEMP ||\n\t\t\tprocess.env.TMP ||\n\t\t\t(process.env.SystemRoot || process.env.windir) + '\\\\temp';\n\t} else {\n\t\tpath = process.env.TMPDIR ||\n\t\t\tprocess.env.TMP ||\n\t\t\tprocess.env.TEMP ||\n\t\t\t'/tmp';\n\t}\n\n\tif (trailingSlashRe.test(path)) {\n\t\tpath = path.slice(0, -1);\n\t}\n\n\treturn path;\n};\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { GDBServerController, ConfigurationArguments, SWOConfigureEvent, calculatePortMask } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nexport class STUtilServerController extends EventEmitter implements GDBServerController {\n    public readonly name: string = 'ST-Util';\n    public readonly portsNeeded: string[] = ['gdbPort'];\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n\n    public initCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        return [\n            `target-select extended-remote localhost:${gdbport}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'interpreter-exec console \"monitor reset\"',\n            'target-download',\n            'interpreter-exec console \"monitor reset\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor halt\"',\n            'interpreter-exec console \"monitor reset\"'\n        ];\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        const commands = [];\n        if (this.args.swoConfig.enabled && this.args.swoConfig.source !== 'probe') {\n            const swocommands = this.SWOConfigurationCommands();\n            commands.push(...swocommands);\n        }\n        return commands;\n    }\n\n    private SWOConfigurationCommands(): string[] {\n        const portMask = '0x' + calculatePortMask(this.args.swoConfig.decoders).toString(16);\n        const swoFrequency = this.args.swoConfig.swoFrequency;\n        const cpuFrequency = this.args.swoConfig.cpuFrequency;\n\n        const ratio = Math.floor(cpuFrequency / swoFrequency) - 1;\n        \n        const commands: string[] = [\n            'EnableITMAccess',\n            `BaseSWOSetup ${ratio}`,\n            'SetITMId 1',\n            'ITMDWTTransferEnable',\n            'DisableITMPorts 0xFFFFFFFF',\n            `EnableITMPorts ${portMask}`,\n            'EnableDWTSync',\n            'ITMSyncEnable',\n            'ITMGlobalEnable'\n        ];\n\n        commands.push(this.args.swoConfig.profile ? 'EnablePCSample' : 'DisablePCSample');\n        \n        return commands.map((c) => `interpreter-exec console \"${c}\"`);\n    }\n\n    public serverExecutable(): string {\n        if (this.args.serverpath) { return this.args.serverpath; }\n        else { return os.platform() === 'win32' ? 'st-util.exe' : 'st-util'; }\n    }\n\n    public serverArguments(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        let serverargs = ['-p', gdbport.toString(), '-v', '--no-reset'];\n        if (this.args.v1) {\n            serverargs.push('--stlinkv1');\n        }\n\n        if (this.args.serverArgs) {\n            serverargs = serverargs.concat(this.args.serverArgs);\n        }\n\n        return serverargs;\n    }\n\n    public initMatch(): RegExp {\n        return /Listening at \\*/g;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {\n        if (this.args.swoConfig.enabled && this.args.swoConfig.source !== 'probe') {\n            this.emit('event', new SWOConfigureEvent({\n                type: 'serial',\n                device: this.args.swoConfig.source,\n                baudRate: this.args.swoConfig.swoFrequency\n            }));\n        }\n    }\n    \n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { ConfigurationArguments, GDBServerController, SWOConfigureEvent, calculatePortMask } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nexport class PyOCDServerController extends EventEmitter implements GDBServerController {\n    public readonly name: string = 'PyOCD';\n    public readonly portsNeeded: string[] = ['gdbPort'];\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n\n    public initCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        return [\n            `target-select extended-remote localhost:${gdbport}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor reset halt\"',\n            'target-download',\n            'interpreter-exec console \"monitor reset halt\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor reset\"'\n        ];\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        const commands = [];\n        if (this.args.swoConfig.enabled && this.args.swoConfig.source !== 'probe') {\n            const swocommands = this.SWOConfigurationCommands();\n            commands.push(...swocommands);\n        }\n        return commands;\n    }\n\n    private SWOConfigurationCommands(): string[] {\n        const portMask = '0x' + calculatePortMask(this.args.swoConfig.decoders).toString(16);\n        const swoFrequency = this.args.swoConfig.swoFrequency;\n        const cpuFrequency = this.args.swoConfig.cpuFrequency;\n\n        const ratio = Math.floor(cpuFrequency / swoFrequency) - 1;\n        \n        const commands: string[] = [\n            'EnableITMAccess',\n            `BaseSWOSetup ${ratio}`,\n            'SetITMId 1',\n            'ITMDWTTransferEnable',\n            'DisableITMPorts 0xFFFFFFFF',\n            `EnableITMPorts ${portMask}`,\n            'EnableDWTSync',\n            'ITMSyncEnable',\n            'ITMGlobalEnable'\n        ];\n\n        commands.push(this.args.swoConfig.profile ? 'EnablePCSample' : 'DisablePCSample');\n        \n        return commands.map((c) => `interpreter-exec console \"${c}\"`);\n    }\n\n    public serverExecutable(): string {\n        return this.args.serverpath ? this.args.serverpath : 'pyocd-gdbserver';\n    }\n\n    public serverArguments(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        let serverargs = ['--persist', '--port', gdbport.toString(), '--reset-break'];\n\n        if (this.args.boardId) {\n            serverargs.push('--board');\n            serverargs.push(this.args.boardId);\n        }\n\n        if (this.args.targetId) {\n            serverargs.push('--target');\n            serverargs.push(this.args.targetId.toString());\n        }\n\n        if (this.args.cmsisPack) {\n            serverargs.push('--pack');\n            serverargs.push(this.args.cmsisPack.toString());\n        }\n\n        if (this.args.serverArgs) {\n            serverargs = serverargs.concat(this.args.serverArgs);\n        }\n        return serverargs;\n    }\n\n    public initMatch(): RegExp {\n        return /GDB server started (at|on) port/;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {\n        if (this.args.swoConfig.enabled && this.args.swoConfig.source !== 'probe') {\n            this.emit('event', new SWOConfigureEvent({\n                type: 'serial',\n                device: this.args.swoConfig.source,\n                baudRate: this.args.swoConfig.swoFrequency\n            }));\n        }\n    }\n    \n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { ConfigurationArguments, GDBServerController, SWOConfigureEvent, calculatePortMask } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nexport class BMPServerController extends EventEmitter implements GDBServerController {\n    public readonly name: string = 'BMP';\n    public readonly portsNeeded: string[] = [];\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n\n    public initCommands(): string[] {\n        const commands: string[] = [\n            `target-select extended-remote ${this.args.BMPGDBSerialPort}`\n        ];\n\n        if (this.args.powerOverBMP === 'enable') {\n            commands.push('interpreter-exec console \"monitor tpwr enable\"');\n            // sleep for 100 ms. MCU need some time to boot up after power up\n            commands.push('interpreter-exec console \"shell sleep 0.1\"');\n        }\n        else if (this.args.powerOverBMP === 'disable'){\n            commands.push('interpreter-exec console \"monitor tpwr disable\"');\n        }\n        else{\n            // keep last power state (do nothing)\n        }\n\n        if (this.args.interface === 'jtag') {\n            commands.push('interpreter-exec console \"monitor jtag_scan\"');\n        }\n        else {\n            commands.push('interpreter-exec console \"monitor swdp_scan\"');\n        }\n\n        commands.push(\n            `interpreter-exec console \"attach ${this.args.targetId}\"`,\n            'interpreter-exec console \"set mem inaccessible-by-default off\"'\n        );\n\n        return commands;\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'target-download',\n            'interpreter-exec console \"SoftwareReset\"',\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'enable-pretty-printing'\n        ];\n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"SoftwareReset\"'\n        ];\n        return commands;\n    }\n\n    public swoCommands(): string[]{\n        const commands = [];\n        if (this.args.swoConfig.enabled) {\n            const swocommands = this.SWOConfigurationCommands();\n            commands.push(...swocommands);\n        }\n        return commands;\n    }\n\n    private SWOConfigurationCommands(): string[] {\n        const portMask = '0x' + calculatePortMask(this.args.swoConfig.decoders).toString(16);\n        const swoFrequency = this.args.swoConfig.swoFrequency;\n        const cpuFrequency = this.args.swoConfig.cpuFrequency;\n\n        const ratio = Math.floor(cpuFrequency / swoFrequency) - 1;\n        \n        const commands: string[] = [];\n\n        commands.push(\n            'EnableITMAccess',\n            `BaseSWOSetup ${ratio}`,\n            'SetITMId 1',\n            'ITMDWTTransferEnable',\n            'DisableITMPorts 0xFFFFFFFF',\n            `EnableITMPorts ${portMask}`,\n            'EnableDWTSync',\n            'ITMSyncEnable',\n            'ITMGlobalEnable'\n        );\n\n        commands.push(this.args.swoConfig.profile ? 'EnablePCSample' : 'DisablePCSample');\n        \n        return commands.map((c) => `interpreter-exec console \"${c}\"`);\n    }\n\n    public serverExecutable(): string {\n        return null;\n    }\n\n    public serverArguments(): string[] {\n        return [];\n    }\n\n    public initMatch(): RegExp {\n        return null;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {\n        if (this.args.swoConfig.enabled && this.args.swoConfig.source !== 'probe') {\n            this.emit('event', new SWOConfigureEvent({ type: 'serial', device: this.args.swoConfig.source, baudRate: this.args.swoConfig.swoFrequency }));\n        }\n    }\n    \n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { GDBServerController, ConfigurationArguments, calculatePortMask, SWOConfigureEvent } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nconst commandExistsSync = require('command-exists').sync;\n\nexport class PEServerController extends EventEmitter implements GDBServerController {\n    public portsNeeded: string[] = ['gdbPort', 'swoPort', 'consolePort'];\n    public name: 'PE';\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n    \n    public initCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        return [\n            `target-select extended-remote localhost:${gdbport}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor _reset\"',\n            'target-download',\n            'interpreter-exec console \"monitor _reset\"',\n            'enable-pretty-printing'\n        ];\n\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'enable-pretty-printing'\n        ];\n        \n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor _reset\"'\n        ];\n\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        return [];\n    }\n\n    public serverExecutable() {\n        \n        console.log('Getting Exec');\n        if (this.args.serverpath) { return this.args.serverpath; }\n        else {\n            if (os.platform() === 'win32') {\n                return 'pegdbserver_console.exe';\n            }\n            else {\n                return 'pegdbserver_console';\n            }\n        }\n    }\n\n    public serverArguments(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        let serverargs = [];\n\n        serverargs.push('-startserver');\n        serverargs.push('-singlesession');\n        serverargs.push(`-device=${this.args.device}`);\n        serverargs.push(`-serverport=${gdbport}`);\n        \n        if (this.args.ipAddress) {\n            serverargs.push(`-serverip=${this.args.ipAddress}`);\n        }\n\n        if (this.args.rtos) {\n            serverargs.push(`-kernal=${this.args.rtos}`);\n        }\n\n        if (this.args.interface) {\n            serverargs.push(`-interface=${this.args.interface}`);\n        }\n\n        if (this.args.configFiles) {\n            serverargs.push(`-configfile=${this.args.configFiles[0]}`);\n        }\n\n        if (this.args.serverArgs) {\n            serverargs = serverargs.concat(this.args.serverArgs);\n        }\n\n        return serverargs;\n    }\n\n    public initMatch(): RegExp {\n        return /All Servers Running/g;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {}\n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { GDBServerController, ConfigurationArguments, calculatePortMask, SWOConfigureEvent } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nconst commandExistsSync = require('command-exists').sync;\nconst EXECUTABLE_NAMES = ['qemu-system-arm'];\n\nexport class QEMUServerController extends EventEmitter implements GDBServerController {\n    public portsNeeded: string[] = ['gdbPort'];\n    public name: 'QEMU';\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n    \n    public initCommands(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        return [\n            `target-select extended-remote localhost:${gdbport}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'enable-pretty-printing'\n        ];\n\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'enable-pretty-printing'\n        ];\n        \n        return commands;\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor stop\"',\n            'interpreter-exec console \"monitor system_reset\"'\n        ];\n\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        return [];\n    }\n\n    public serverExecutable() {\n        if (this.args.serverpath) { return this.args.serverpath; }\n        else {\n            for (const name in EXECUTABLE_NAMES) {\n                if (commandExistsSync(name)) { return name; }\n            }\n            return 'qemu-system-arm';\n        }\n    }\n    \n    public serverArguments(): string[] {\n        const gdbport = this.ports['gdbPort'];\n\n        let cmdargs = [\n            '-cpu', this.args.cpu,\n            '-machine', this.args.machine,\n            '-nographic',\n            '-semihosting-config', 'enable=on,target=native',\n            '-gdb', 'tcp::' + gdbport.toString(),\n            '-S',\n            '-kernel', this.args.executable\n        ];\n\n        if (this.args.serverArgs) {\n            cmdargs = cmdargs.concat(this.args.serverArgs);\n        }\n\n        return cmdargs;\n    }\n\n    public initMatch(): RegExp {\n        return null;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {}\n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import { DebugProtocol } from 'vscode-debugprotocol';\nimport { ConfigurationArguments, GDBServerController, SWOConfigureEvent, calculatePortMask } from './common';\nimport * as os from 'os';\nimport { EventEmitter } from 'events';\n\nexport class ExternalServerController extends EventEmitter implements GDBServerController {\n    public readonly name: string = 'External';\n    public readonly portsNeeded: string[] = [];\n\n    private args: ConfigurationArguments;\n    private ports: { [name: string]: number };\n\n    constructor() {\n        super();\n    }\n\n    public setPorts(ports: { [name: string]: number }): void {\n        this.ports = ports;\n    }\n\n    public setArguments(args: ConfigurationArguments): void {\n        this.args = args;\n    }\n\n    public customRequest(command: string, response: DebugProtocol.Response, args: any): boolean {\n        return false;\n    }\n\n    public initCommands(): string[] {\n        const target = this.args.gdbTarget;\n        return [\n            `target-select extended-remote ${target}`\n        ];\n    }\n\n    public launchCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor reset halt\"',\n            'target-download',\n            'interpreter-exec console \"monitor reset halt\"',\n            'enable-pretty-printing'\n        ];\n\n        return commands;\n    }\n\n    public attachCommands(): string[] {\n        const commands = [\n            'interpreter-exec console \"monitor halt\"',\n            'enable-pretty-printing'\n        ];\n\n        return commands;\n    }\n\n    public swoCommands(): string[] {\n        return [];\n    }\n\n    public restartCommands(): string[] {\n        const commands: string[] = [\n            'interpreter-exec console \"monitor reset halt\"'\n        ];\n\n        return commands;\n    }\n\n    public serverExecutable(): string {\n        return null;\n    }\n\n    public serverArguments(): string[] {\n        return [];\n    }\n\n    public initMatch(): RegExp {\n        return null;\n    }\n\n    public serverLaunchStarted(): void {}\n    public serverLaunchCompleted(): void {}\n    public debuggerLaunchStarted(): void {}\n    public debuggerLaunchCompleted(): void {}\n}\n","import * as childProcess from 'child_process';\nimport * as os from 'os';\nimport * as path from 'path';\n\nimport { SymbolType, SymbolScope, SymbolInformation } from '../symbols';\n\nconst SYMBOL_REGEX = /^([0-9a-f]{8})\\s([lg\\ !])([w\\ ])([C\\ ])([W\\ ])([I\\ ])([dD\\ ])([FfO\\ ])\\s([^\\s]+)\\s([0-9a-f]+)\\s(.*)$/;\n\nconst TYPE_MAP: { [id: string]: SymbolType } = {\n    'F': SymbolType.Function,\n    'f': SymbolType.File,\n    'O': SymbolType.Object,\n    ' ': SymbolType.Normal\n};\n\nconst SCOPE_MAP: { [id: string]: SymbolScope } = {\n    'l': SymbolScope.Local,\n    'g': SymbolScope.Global,\n    ' ': SymbolScope.Neither,\n    '!': SymbolScope.Both\n};\n\nexport class SymbolTable {\n    private allSymbols: SymbolInformation[] = [];\n\n    // The following are caches that are either created on demand or on symbol load. Helps performance\n    // on large executables since most of our searches are linear. Or, to avoid a search entirely if possible\n    // Case sensitivity for path names is an issue: We follow just what gcc records so inherently case-sensitive\n    // or case-preserving. We don't try to re-interpret/massage those path-names. Maybe later\n    //\n    // TODO: Support for source-maps for both gdb and for symbol/file lookups\n    private staticsByFile: {[file: string]: SymbolInformation[]} = {};\n    private globalVars: SymbolInformation[] = [];\n    private globalFuncs: SymbolInformation[] = [];\n    private staticVars: SymbolInformation[] = [];\n    private staticFuncs: SymbolInformation[] = [];\n    private fileMap: {[key: string]: string[]} = {};        // basename of a file to a potential list of aliases we found\n\n    constructor(private toolchainPath: string, private toolchainPrefix: string, private executable: string, private demangle: boolean) {\n    }\n\n    public loadSymbols() {\n        try {\n            let objdumpExePath = os.platform() !== 'win32' ? `${this.toolchainPrefix}-objdump` : `${this.toolchainPrefix}-objdump.exe`;\n            if (this.toolchainPath) {\n                objdumpExePath = path.normalize(path.join(this.toolchainPath, objdumpExePath));\n            }\n\n            const options = ['--syms', '-Wi'];\n            if (this.demangle) {\n                options.push('-C');\n            }\n            const objdump = childProcess.spawnSync(objdumpExePath, [...options, this.executable]);\n            const output = objdump.stdout.toString();\n            const lines = output.split(/[\\r\\n]+/g);\n\n            this.collectCompilationUnits(lines);\n\n            let currentFile: string = null;\n            let currentMapped: string[] = null;\n\n            for (const line of lines) {\n                const match = line.match(SYMBOL_REGEX);\n                if (match) {\n                    if (match[7] === 'd' && match[8] === 'f') {\n                        if (match[11]) {\n                            currentFile = match[11].trim();\n                            currentMapped = this.addToFileMap(currentFile.split('/').pop(), currentFile);\n                        } else {\n                            // This can happen with C++. Inline and template methods/variables/functions/etc. are listed with\n                            // an empty file association. So, symbols after this line can come from multiple compilation\n                            // units with no clear owner. These can be locals, globals or other.\n                            currentFile = null;\n                            currentMapped = null;\n                        }\n                    }\n                    const type = TYPE_MAP[match[8]];\n                    const scope = SCOPE_MAP[match[2]];\n                    let name = match[11].trim();\n                    let hidden = false;\n\n                    if (name.startsWith('.hidden')) {\n                        name = name.substring(7).trim();\n                        hidden = true;\n                    }\n\n                    const sym: SymbolInformation = {\n                        address: parseInt(match[1], 16),\n                        type: type,\n                        origScope: scope,\n                        scope: scope,\n                        section: match[9].trim(),\n                        length: parseInt(match[10], 16),\n                        name: name,\n                        file: scope === SymbolScope.Local ? currentFile : null,\n                        fileMaps: scope === SymbolScope.Local ?  currentMapped : [],\n                        instructions: null,\n                        hidden: hidden\n                    };\n\n                    this.allSymbols.push(sym);\n                    if (scope !== SymbolScope.Local) {\n                        if (type === SymbolType.Function) {\n                            sym.scope = SymbolScope.Global;\n                            this.globalFuncs.push(sym);\n                        } else if (type === SymbolType.Object) {\n                            if (scope === SymbolScope.Global) {\n                                this.globalVars.push(sym);\n                            } else {\n                                // These fail gdb create-vars. So ignoring them. C++ generates them\n                                console.log('SymbolTable: ignoring non local object: ' + name);\n                            }\n                        }\n                    } else if (currentFile) {\n                        // Yes, you can have statics with no file association in C++. They are neither\n                        // truly global or local. Some can be considered but not sure how to filter\n                        if (type === SymbolType.Object) {\n                            this.staticVars.push(sym);\n                        } else if (type === SymbolType.Function) {\n                            this.staticFuncs.push(sym);\n                        }\n                    } else if (type === SymbolType.Function) {\n                        sym.scope = SymbolScope.Global;\n                        this.globalFuncs.push(sym);\n                    } else if (type === SymbolType.Object) {\n                        // We are currently ignoring Local objects with no file association for objects.\n                        // Revisit later with care and decide how to classify them\n                        console.log('SymbolTable: ignoring local object: ' + name);\n                    }\n                }\n            }\n        }\n        catch (e) { }\n    }\n\n    private addToFileMap(key: string, newMap: string): string[] {\n        const value = this.fileMap[key] || [];\n        if (value.indexOf(newMap) === -1) {\n            value.push(newMap);\n        }\n        this.fileMap[key] = value;\n        return value;\n    }\n\n    private collectCompilationUnits(lines: string[]): void {\n        // Loop over and collect the set of compilation units. This is where true file names are stored\n        // Most file names listed by objdump are just the base-name and I am not sure exactly how the base\n        // file-name is supposed to map to an actual compilation unit. Esp. when duplicates exist. This only\n        // matters for static variables/functions\n        let isCompileUnit = false;\n        let curName = '';\n        let curDir = '';\n        let curSimpleName = '';\n        const cUnitRexp = /^ <0>.*Abbrev Number.*\\(DW_TAG_compile_unit\\)/;\n        for (const line of lines) {\n            if (cUnitRexp.test(line)) {\n                isCompileUnit = true;\n            }\n            else if (isCompileUnit) {\n                const match = line.match(/.*DW_AT_([^\\s]*).*\\)\\:\\s(.*)/);\n                if (match) {\n                    if (match[1] === 'name') {\n                        curName = match[2];\n                        curSimpleName = curName.split('/').pop();\n                        this.addToFileMap(curSimpleName, curSimpleName);\n                        this.addToFileMap(curSimpleName, curName);\n                    }\n                    else if (match[1] === 'comp_dir') {\n                        curDir = match[2];\n                        if (curName !== '') {\n                            this.addToFileMap(curSimpleName, curDir + '/' + curName);\n                        }\n                    }\n                } else if (line.startsWith(' <')) {\n                    isCompileUnit = false;\n                    curSimpleName = curName = curDir = '';\n                }\n            }\n        }\n    }\n\n    public getFunctionAtAddress(address: number): SymbolInformation {\n        return this.allSymbols.find((s) => s.type === SymbolType.Function && s.address <= address && (s.address + s.length) > address);\n    }\n\n    public getFunctionSymbols(): SymbolInformation[] {\n        return this.allSymbols.filter((s) => s.type === SymbolType.Function);\n    }\n\n    public getGlobalVariables(): SymbolInformation[] {\n        return this.globalVars;\n    }\n\n    public getStaticVariables(file: string): SymbolInformation[] {\n        let ret = this.staticsByFile[file];\n        if (!ret) {\n            ret = [];\n            for (const s of this.staticVars) {\n                if (s.fileMaps.indexOf(file) !== -1) {\n                    ret.push(s);\n                }\n            }\n            this.staticsByFile[file] = ret;\n        }\n        return ret;\n    }\n\n    public getFunctionByName(name: string, file?: string): SymbolInformation {\n        if (file) {      // Try to find static function first\n            for (const s of this.staticFuncs) {     // Try exact matches first (maybe not needed)\n                if ((s.name === name) && (s.file === file)) {\n                    return s;\n                }\n            }\n            for (const s of this.staticFuncs) {     // Try any match\n                if ((s.name === name) && (s.fileMaps.indexOf(file) !== -1)) {\n                    return s;\n                }\n            }\n        }\n\n        // Fall back to global scope\n        return this.globalFuncs.find((s) => s.name === name);\n    }\n}\n"],"sourceRoot":""}